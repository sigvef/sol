<!DOCTYPE html><html><head><title>HONEYCOMB BY NINJADEV</title><script>var THREE=THREE||{REVISION:"49"};self.Int32Array||(self.Int32Array=Array,self.Float32Array=Array);(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=Date.now(),f=Math.max(0,16-(c-a)),g=window.setTimeout(function(){b(c+f)},f);a=c+f;return g});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})();THREE.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};THREE.Clock.prototype.start=function(){this.oldTime=this.startTime=Date.now();this.running=!0};THREE.Clock.prototype.stop=function(){this.getElapsedTime();this.running=!1};THREE.Clock.prototype.getElapsedTime=function(){return this.elapsedTime+=this.getDelta()};THREE.Clock.prototype.getDelta=function(){var a=0;this.autoStart&&!this.running&&this.start();if(this.running){var b=Date.now(),a=0.001*(b-this.oldTime);this.oldTime=b;this.elapsedTime+=a}return a};THREE.Color=function(a){void 0!==a&&this.setHex(a);return this};THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a){this.r=a.r*a.r;this.g=a.g*a.g;this.b=a.b*a.b;return this},copyLinearToGamma:function(a){this.r=Math.sqrt(a.r);this.g=Math.sqrt(a.g);this.b=Math.sqrt(a.b);return this},convertGammaToLinear:function(){var a=this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},setRGB:function(a,b,c){this.r=a;this.g=b;this.b=c;return this},setHSV:function(a,b,c){var d,e,f;if(0===c)this.r=this.g=this.b=0;else switch(d=Math.floor(6*a),e=6*a-d,a=c*(1-b),f=c*(1-b*e),b=c*(1-b*(1-e)),d){case 1:this.r=f;this.g=c;this.b=a;break;case 2:this.r=a;this.g=c;this.b=b;break;case 3:this.r=a;this.g=f;this.b=c;break;case 4:this.r=b;this.g=a;this.b=c;break;case 5:this.r=c;this.g=a;this.b=f;break;case 6:case 0:this.r=c,this.g=b,this.b=a}return this},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},lerpSelf:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},getHex:function(){return Math.floor(255*this.r)<<16^Math.floor(255*this.g)<<8^Math.floor(255*this.b)},getContextStyle:function(){return"rgb("+Math.floor(255*this.r)+","+Math.floor(255*this.g)+","+Math.floor(255*this.b)+")"},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}};THREE.Vector2=function(a,b){this.x=a||0;this.y=b||0};THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(a,b){this.x=a;this.y=b;return this},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addSelf:function(a){this.x+=a.x;this.y+=a.y;return this},sub:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},subSelf:function(a){this.x-=a.x;this.y-=a.y;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;return this},divideScalar:function(a){a?(this.x/=a,this.y/=a):this.set(0, 0);return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,a=this.y-a.y;return b*b+a*a},setLength:function(a){return this.normalize().multiplyScalar(a)},lerpSelf:function(a, b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},equals:function(a){return a.x===this.x&&a.y===this.y},isZero:function(){return 1E-4>this.lengthSq()},clone:function(){return new THREE.Vector2(this.x,this.y)}};THREE.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addSelf:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this}, sub:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},subSelf:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},multiply:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},multiplySelf:function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;return this},divideSelf:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){a?(this.x/=a,this.y/=a,this.z/=a):        this.z=this.y=this.x=0;return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.lengthSq())},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.normalize().multiplyScalar(a)},lerpSelf:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},cross:function(a,b){this.x=a.y*b.z-a.z*b.y;this.y=a.z*b.x-a.x*b.z;this.z=a.x*b.y-a.y*b.x;return this},crossSelf:function(a){var b=this.x,c=this.y,d=this.z;this.x=c*a.z-d*a.y;this.y=d*a.x-b*a.z;this.z=b*a.y-c*a.x;return this},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){return(new THREE.Vector3).sub(this,a).lengthSq()},getPositionFromMatrix:function(a){this.x=a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},getRotationFromMatrix:function(a,b){var c=b?b.x:1,d=b?b.y:1,e=b?b.z:1,f=a.elements[0]/c,g=a.elements[4]/d,c=a.elements[1]/c,d=a.elements[5]/d,h=a.elements[9]/e,j=a.elements[10]/e;this.y=Math.asin(a.elements[8]/e);e=Math.cos(this.y);1E-5<Math.abs(e)?(this.x=Math.atan2(-h/e,j/e),this.z=Math.atan2(-g/e,f/e)):(this.x=0,this.z=Math.atan2(c,d));return this},getScaleFromMatrix:function(a){var b=this.set(a.elements[0],a.elements[1],a.elements[2]).length(), c=this.set(a.elements[4],a.elements[5],a.elements[6]).length(),a=this.set(a.elements[8],a.elements[9],a.elements[10]).length();this.x=b;this.y=c;this.z=a},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},isZero:function(){return 1E-4>this.lengthSq()},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}};THREE.Vector4=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1};THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addSelf:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},sub:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},subSelf:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=a;this.w*=a;return this},divideScalar:function(a){a?(this.x/=a,this.y/=a,this.z/=a,this.w/=a):(this.z=this.y=this.x=0,this.w=1);return this},negate:function(){return this.multiplyScalar(-1)},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.dot(this)},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())}, setLength:function(a){return this.normalize().multiplyScalar(a)},lerpSelf:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}};THREE.Frustum=function(){this.planes=[new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4,new THREE.Vector4]};THREE.Frustum.prototype.setFromMatrix=function(a){var b,c=this.planes,d=a.elements,a=d[0];b=d[1];var e=d[2],f=d[3],g=d[4],h=d[5],j=d[6],m=d[7],l=d[8],q=d[9],o=d[10],p=d[11],r=d[12],n=d[13],s=d[14],d=d[15];c[0].set(f-a,m-g,p-l,d-r);c[1].set(f+a,m+g,p+l,d+r);c[2].set(f+b,m+h,p+q,d+n);c[3].set(f-b,m-h,p-q,d-n);c[4].set(f-e,m-j,p-o,d-s);c[5].set(f+e,m+j,p+o,d+s);for(a=0;6>a;a++)b=c[a],b.divideScalar(Math.sqrt(b.x*b.x+b.y*b.y+b.z*b.z))};THREE.Frustum.prototype.contains=function(a){for(var b=this.planes,c=a.matrixWorld,d=c.elements,c=-a.geometry.boundingSphere.radius*c.getMaxScaleOnAxis(),e=0;6>e;e++)if(a=b[e].x*d[12]+b[e].y*d[13]+b[e].z*d[14]+b[e].w,a<=c)return!1;return!0};THREE.Frustum.__v1=new THREE.Vector3;THREE.Ray=function(a,b){function c(a,b,c){r.sub(c,a);w=r.dot(b);v=n.add(a,s.copy(b).multiplyScalar(w));return c.distanceTo(v)}function d(a,b,c,d){r.sub(d,b);n.sub(c,b);s.sub(a,b);u=r.dot(r);x=r.dot(n);z=r.dot(s);I=n.dot(n);y=n.dot(s);B=1/(u*I-x*x);D=(I*z-x*y)*B;E=(u*y-x*z)*B;return 0<=D&&0<=E&&1>D+E}this.origin=a||new THREE.Vector3;this.direction=b||new THREE.Vector3;var e=1E-4;this.setPrecision=function(a){e=a};var f=new THREE.Vector3,g=new THREE.Vector3,h=new THREE.Vector3,j=new THREE.Vector3,m=new THREE.Vector3,l=new THREE.Vector3,q=new THREE.Vector3,o=new THREE.Vector3,p=new THREE.Vector3;this.intersectObject=function(a){var b,n=[];if(a instanceof THREE.Particle){var r=c(this.origin,this.direction,a.matrixWorld.getPosition());if(r>a.scale.x)return[];b={distance:r,point:a.position,face:null,object:a};n.push(b)}else if(a instanceof THREE.Mesh){var r=c(this.origin,this.direction,a.matrixWorld.getPosition()),s=THREE.Frustum.__v1.set(a.matrixWorld.getColumnX().length(),a.matrixWorld.getColumnY().length(), a.matrixWorld.getColumnZ().length());if(r>a.geometry.boundingSphere.radius*Math.max(s.x,Math.max(s.y,s.z)))return n;var u,x,k=a.geometry,w=k.vertices,v;a.matrixRotationWorld.extractRotation(a.matrixWorld);r=0;for(s=k.faces.length;r<s;r++)if(b=k.faces[r],m.copy(this.origin),l.copy(this.direction),v=a.matrixWorld,q=v.multiplyVector3(q.copy(b.centroid)).subSelf(m),o=a.matrixRotationWorld.multiplyVector3(o.copy(b.normal)),u=l.dot(o),!(Math.abs(u)<e)&&(x=o.dot(q)/u,!(0>x)&&(a.doubleSided||(a.flipSided?        0<u:0>u))))if(p.add(m,l.multiplyScalar(x)),b instanceof THREE.Face3)f=v.multiplyVector3(f.copy(w[b.a])),g=v.multiplyVector3(g.copy(w[b.b])),h=v.multiplyVector3(h.copy(w[b.c])),d(p,f,g,h)&&(b={distance:m.distanceTo(p),point:p.clone(),face:b,object:a},n.push(b));else if(b instanceof THREE.Face4&&(f=v.multiplyVector3(f.copy(w[b.a])),g=v.multiplyVector3(g.copy(w[b.b])),h=v.multiplyVector3(h.copy(w[b.c])),j=v.multiplyVector3(j.copy(w[b.d])),d(p,f,g,j)||d(p,g,h,j)))b={distance:m.distanceTo(p),point:p.clone(), face:b,object:a},n.push(b)}return n};this.intersectObjects=function(a){for(var b=[],c=0,d=a.length;c<d;c++)Array.prototype.push.apply(b,this.intersectObject(a[c]));b.sort(function(a,b){return a.distance-b.distance});return b};var r=new THREE.Vector3,n=new THREE.Vector3,s=new THREE.Vector3,w,v,u,x,z,I,y,B,D,E};THREE.Rectangle=function(){function a(){f=d-b;g=e-c}var b,c,d,e,f,g,h=!0;this.getX=function(){return b};this.getY=function(){return c};this.getWidth=function(){return f};this.getHeight=function(){return g};this.getLeft=function(){return b};this.getTop=function(){return c};this.getRight=function(){return d};this.getBottom=function(){return e};this.set=function(f,g,l,q){h=!1;b=f;c=g;d=l;e=q;a()};this.addPoint=function(f,g){h?(h=!1,b=f,c=g,d=f,e=g):(b=b<f?b:f,c=c<g?c:g,d=d>f?d:f,e=e>g?e:g);a()};this.add3Points=function(f,g,l,q,o,p){h?(h=!1,b=f<l?f<o?f:o:l<o?l:o,c=g<q?g<p?g:p:q<p?q:p,d=f>l?f>o?f:o:l>o?l:o,e=g>q?g>p?g:p:q>p?q:p):(b=f<l?f<o?f<b?f:b:o<b?o:b:l<o?l<b?l:b:o<b?o:b,c=g<q?g<p?g<c?g:c:p<c?p:c:q<p?q<c?q:c:p<c?p:c,d=f>l?f>o?f>d?f:d:o>d?o:d:l>o?l>d?l:d:o>d?o:d,e=g>q?g>p?g>e?g:e:p>e?p:e:q>p?q>e?q:e:p>e?p:e);a()};this.addRectangle=function(f){h?(h=!1,b=f.getLeft(),c=f.getTop(),d=f.getRight(),e=f.getBottom()):(b=b<f.getLeft()?b:f.getLeft(),c=c<f.getTop()?c:f.getTop(),d=d>f.getRight()?d:f.getRight(),e=e> f.getBottom()?e:f.getBottom());a()};this.inflate=function(f){b-=f;c-=f;d+=f;e+=f;a()};this.minSelf=function(f){b=b>f.getLeft()?b:f.getLeft();c=c>f.getTop()?c:f.getTop();d=d<f.getRight()?d:f.getRight();e=e<f.getBottom()?e:f.getBottom();a()};this.intersects=function(a){return d<a.getLeft()||b>a.getRight()||e<a.getTop()||c>a.getBottom()?!1:!0};this.empty=function(){h=!0;e=d=c=b=0;a()};this.isEmpty=function(){return h}};THREE.Math={clamp:function(a,b,c){return a<b?b:a>c?c:a},clampBottom:function(a,b){return a<b?b:a},mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(0.5-Math.random())},sign:function(a){return 0>a?-1:0<a?1:0}};THREE.Matrix3=function(){this.elements=new Float32Array(9)};THREE.Matrix3.prototype={constructor:THREE.Matrix3,getInverse:function(a){var b=a.elements,a=b[10]*b[5]-b[6]*b[9],c=-b[10]*b[1]+b[2]*b[9],d=b[6]*b[1]-b[2]*b[5],e=-b[10]*b[4]+b[6]*b[8],f=b[10]*b[0]-b[2]*b[8],g=-b[6]*b[0]+b[2]*b[4],h=b[9]*b[4]-b[5]*b[8],j=-b[9]*b[0]+b[1]*b[8],m=b[5]*b[0]-b[1]*b[4],b=b[0]*a+b[1]*e+b[2]*h;0===b&&console.warn("Matrix3.getInverse(): determinant==0");var b=1/b,l=this.elements;l[0]=b*a;l[1]=b*c;l[2]=b*d;l[3]=b*e;l[4]=b*f;l[5]=b*g;l[6]=b*h;l[7]=b*j;l[8]=b*m;return this}, transpose:function(){var a,b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this},transposeIntoArray:function(a){var b=this.m;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this}};THREE.Matrix4=function(a,b,c,d,e,f,g,h,j,m,l,q,o,p,r,n){this.elements=new Float32Array(16);this.set(void 0!==a?a:1,b||0,c||0,d||0,e||0,void 0!==f?f:1,g||0,h||0,j||0,m||0,void 0!==l?l:1,q||0,o||0,p||0,r||0,void 0!==n?n:1)};THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(a,b,c,d,e,f,g,h,j,m,l,q,o,p,r,n){var s=this.elements;s[0]=a;s[4]=b;s[8]=c;s[12]=d;s[1]=e;s[5]=f;s[9]=g;s[13]=h;s[2]=j;s[6]=m;s[10]=l;s[14]=q;s[3]=o;s[7]=p;s[11]=r;s[15]=n;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);return this},lookAt:function(a,b,c){var d=this.elements, e=THREE.Matrix4.__v1,f=THREE.Matrix4.__v2,g=THREE.Matrix4.__v3;g.sub(a,b).normalize();0===g.length()&&(g.z=1);e.cross(c,g).normalize();0===e.length()&&(g.x+=1E-4,e.cross(c,g).normalize());f.cross(g,e);d[0]=e.x;d[4]=f.x;d[8]=g.x;d[1]=e.y;d[5]=f.y;d[9]=g.y;d[2]=e.z;d[6]=f.z;d[10]=g.z;return this},multiply:function(a,b){var c=a.elements,d=b.elements,e=this.elements,f=c[0],g=c[4],h=c[8],j=c[12],m=c[1],l=c[5],q=c[9],o=c[13],p=c[2],r=c[6],n=c[10],s=c[14],w=c[3],v=c[7],u=c[11],c=c[15],x=d[0],z=d[4],I=d[8], y=d[12],B=d[1],D=d[5],E=d[9],P=d[13],M=d[2],V=d[6],S=d[10],G=d[14],K=d[3],J=d[7],k=d[11],d=d[15];e[0]=f*x+g*B+h*M+j*K;e[4]=f*z+g*D+h*V+j*J;e[8]=f*I+g*E+h*S+j*k;e[12]=f*y+g*P+h*G+j*d;e[1]=m*x+l*B+q*M+o*K;e[5]=m*z+l*D+q*V+o*J;e[9]=m*I+l*E+q*S+o*k;e[13]=m*y+l*P+q*G+o*d;e[2]=p*x+r*B+n*M+s*K;e[6]=p*z+r*D+n*V+s*J;e[10]=p*I+r*E+n*S+s*k;e[14]=p*y+r*P+n*G+s*d;e[3]=w*x+v*B+u*M+c*K;e[7]=w*z+v*D+u*V+c*J;e[11]=w*I+v*E+u*S+c*k;e[15]=w*y+v*P+u*G+c*d;return this},multiplySelf:function(a){return this.multiply(this, a)},multiplyToArray:function(a,b,c){var d=this.elements;this.multiply(a,b);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},multiplyVector3:function(a){var b=this.elements, c=a.x,d=a.y,e=a.z,f=1/(b[3]*c+b[7]*d+b[11]*e+b[15]);a.x=(b[0]*c+b[4]*d+b[8]*e+b[12])*f;a.y=(b[1]*c+b[5]*d+b[9]*e+b[13])*f;a.z=(b[2]*c+b[6]*d+b[10]*e+b[14])*f;return a},multiplyVector4:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z,f=a.w;a.x=b[0]*c+b[4]*d+b[8]*e+b[12]*f;a.y=b[1]*c+b[5]*d+b[9]*e+b[13]*f;a.z=b[2]*c+b[6]*d+b[10]*e+b[14]*f;a.w=b[3]*c+b[7]*d+b[11]*e+b[15]*f;return a},rotateAxis:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z;a.x=c*b[0]+d*b[4]+e*b[8];a.y=c*b[1]+d*b[5]+e*b[9];a.z=c*        b[2]+d*b[6]+e*b[10];a.normalize();return a},crossVector:function(a){var b=this.elements,c=new THREE.Vector4;c.x=b[0]*a.x+b[4]*a.y+b[8]*a.z+b[12]*a.w;c.y=b[1]*a.x+b[5]*a.y+b[9]*a.z+b[13]*a.w;c.z=b[2]*a.x+b[6]*a.y+b[10]*a.z+b[14]*a.w;c.w=a.w?b[3]*a.x+b[7]*a.y+b[11]*a.z+b[15]*a.w:1;return c},determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],j=a[13],m=a[2],l=a[6],q=a[10],o=a[14],p=a[3],r=a[7],n=a[11],a=a[15];return e*h*l*p-d*j*l*p-e*g*q*p+c*j*q*p+d*g*o*p-c*h*        o*p-e*h*m*r+d*j*m*r+e*f*q*r-b*j*q*r-d*f*o*r+b*h*o*r+e*g*m*n-c*j*m*n-e*f*l*n+b*j*l*n+c*f*o*n-b*g*o*n-d*g*m*a+c*h*m*a+d*f*l*a-b*h*l*a-c*f*q*a+b*g*q*a},transpose:function(){var a=this.elements,b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},flattenToArray:function(a){var b=this.elements;a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a},flattenToArrayOffset:function(a,b){var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a},getPosition:function(){var a=this.elements;return THREE.Matrix4.__v1.set(a[12],a[13],a[14])},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getColumnX:function(){var a=this.elements;return THREE.Matrix4.__v1.set(a[0],a[1],a[2])},getColumnY:function(){var a=this.elements;return THREE.Matrix4.__v1.set(a[4],a[5],a[6])},getColumnZ:function(){var a=this.elements;return THREE.Matrix4.__v1.set(a[8],a[9],a[10])},getInverse:function(a){var b=this.elements,c=a.elements,d=c[0],e=c[4],f=c[8],g=c[12],h=c[1],j=c[5],m=c[9],l=c[13],q=c[2],o=c[6],p=c[10],r=c[14],n=c[3],s=c[7],w=c[11],c=c[15];b[0]=m*r*s-l*p*s+l*o*w-j*r*w-m*o*        c+j*p*c;b[4]=g*p*s-f*r*s-g*o*w+e*r*w+f*o*c-e*p*c;b[8]=f*l*s-g*m*s+g*j*w-e*l*w-f*j*c+e*m*c;b[12]=g*m*o-f*l*o-g*j*p+e*l*p+f*j*r-e*m*r;b[1]=l*p*n-m*r*n-l*q*w+h*r*w+m*q*c-h*p*c;b[5]=f*r*n-g*p*n+g*q*w-d*r*w-f*q*c+d*p*c;b[9]=g*m*n-f*l*n-g*h*w+d*l*w+f*h*c-d*m*c;b[13]=f*l*q-g*m*q+g*h*p-d*l*p-f*h*r+d*m*r;b[2]=j*r*n-l*o*n+l*q*s-h*r*s-j*q*c+h*o*c;b[6]=g*o*n-e*r*n-g*q*s+d*r*s+e*q*c-d*o*c;b[10]=e*l*n-g*j*n+g*h*s-d*l*s-e*h*c+d*j*c;b[14]=g*j*q-e*l*q-g*h*o+d*l*o+e*h*r-d*j*r;b[3]=m*o*n-j*p*n-m*q*s+h*p*s+j*q*w-h*o*        w;b[7]=e*p*n-f*o*n+f*q*s-d*p*s-e*q*w+d*o*w;b[11]=f*j*n-e*m*n-f*h*s+d*m*s+e*h*w-d*j*w;b[15]=e*m*q-f*j*q+f*h*o-d*m*o-e*h*p+d*j*p;this.multiplyScalar(1/a.determinant());return this},setRotationFromEuler:function(a,b){var c=this.elements,d=a.x,e=a.y,f=a.z,g=Math.cos(d),d=Math.sin(d),h=Math.cos(e),e=Math.sin(e),j=Math.cos(f),f=Math.sin(f);switch(b){case "YXZ":var m=h*j,l=h*f,q=e*j,o=e*f;c[0]=m+o*d;c[4]=q*d-l;c[8]=g*e;c[1]=g*f;c[5]=g*j;c[9]=-d;c[2]=l*d-q;c[6]=o+m*d;c[10]=g*h;break;case "ZXY":m=h*j;l=h*        f;q=e*j;o=e*f;c[0]=m-o*d;c[4]=-g*f;c[8]=q+l*d;c[1]=l+q*d;c[5]=g*j;c[9]=o-m*d;c[2]=-g*e;c[6]=d;c[10]=g*h;break;case "ZYX":m=g*j;l=g*f;q=d*j;o=d*f;c[0]=h*j;c[4]=q*e-l;c[8]=m*e+o;c[1]=h*f;c[5]=o*e+m;c[9]=l*e-q;c[2]=-e;c[6]=d*h;c[10]=g*h;break;case "YZX":m=g*h;l=g*e;q=d*h;o=d*e;c[0]=h*j;c[4]=o-m*f;c[8]=q*f+l;c[1]=f;c[5]=g*j;c[9]=-d*j;c[2]=-e*j;c[6]=l*f+q;c[10]=m-o*f;break;case "XZY":m=g*h;l=g*e;q=d*h;o=d*e;c[0]=h*j;c[4]=-f;c[8]=e*j;c[1]=m*f+o;c[5]=g*j;c[9]=l*f-q;c[2]=q*f-l;c[6]=d*j;c[10]=o*f+m;break;default:m=g*j,l=g*f,q=d*j,o=d*f,c[0]=h*j,c[4]=-h*f,c[8]=e,c[1]=l+q*e,c[5]=m-o*e,c[9]=-d*h,c[2]=o-m*e,c[6]=q+l*e,c[10]=g*h}return this},setRotationFromQuaternion:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z,f=a.w,g=c+c,h=d+d,j=e+e,a=c*g,m=c*h,c=c*j,l=d*h,d=d*j,e=e*j,g=f*g,h=f*h,f=f*j;b[0]=1-(l+e);b[4]=m-f;b[8]=c+h;b[1]=m+f;b[5]=1-(a+e);b[9]=d-g;b[2]=c-h;b[6]=d+g;b[10]=1-(a+l);return this},compose:function(a,b,c){var d=this.elements,e=THREE.Matrix4.__m1,f=THREE.Matrix4.__m2;e.identity();e.setRotationFromQuaternion(b);f.makeScale(c.x,c.y,c.z);this.multiply(e,f);d[12]=a.x;d[13]=a.y;d[14]=a.z;return this},decompose:function(a,b,c){var d=this.elements,e=THREE.Matrix4.__v1,f=THREE.Matrix4.__v2,g=THREE.Matrix4.__v3;e.set(d[0],d[1],d[2]);f.set(d[4],d[5],d[6]);g.set(d[8],d[9],d[10]);a=a instanceof THREE.Vector3?a:new THREE.Vector3;b=b instanceof THREE.Quaternion?b:new THREE.Quaternion;c=c instanceof THREE.Vector3?c:new THREE.Vector3;c.x=e.length();c.y=f.length();c.z=g.length();a.x=d[12];a.y=d[13];a.z=d[14];d=THREE.Matrix4.__m1;d.copy(this);d.elements[0]/=c.x;d.elements[1]/=c.x;d.elements[2]/=c.x;d.elements[4]/=c.y;d.elements[5]/=c.y;d.elements[6]/=c.y;d.elements[8]/=c.z;d.elements[9]/=c.z;d.elements[10]/=c.z;b.setFromRotationMatrix(d);return[a,b,c]},extractPosition:function(a){var b=this.elements,a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},extractRotation:function(a){var b=this.elements,a=a.elements,c=THREE.Matrix4.__v1,d=1/c.set(a[0],a[1],a[2]).length(),e=1/c.set(a[4],a[5],a[6]).length(),c=1/c.set(a[8], a[9],a[10]).length();b[0]=a[0]*d;b[1]=a[1]*d;b[2]=a[2]*d;b[4]=a[4]*e;b[5]=a[5]*e;b[6]=a[6]*e;b[8]=a[8]*c;b[9]=a[9]*c;b[10]=a[10]*c;return this},translate:function(a){var b=this.elements,c=a.x,d=a.y,a=a.z;b[12]=b[0]*c+b[4]*d+b[8]*a+b[12];b[13]=b[1]*c+b[5]*d+b[9]*a+b[13];b[14]=b[2]*c+b[6]*d+b[10]*a+b[14];b[15]=b[3]*c+b[7]*d+b[11]*a+b[15];return this},rotateX:function(a){var b=this.elements,c=b[4],d=b[5],e=b[6],f=b[7],g=b[8],h=b[9],j=b[10],m=b[11],l=Math.cos(a),a=Math.sin(a);b[4]=l*c+a*g;b[5]=l*d+a*        h;b[6]=l*e+a*j;b[7]=l*f+a*m;b[8]=l*g-a*c;b[9]=l*h-a*d;b[10]=l*j-a*e;b[11]=l*m-a*f;return this},rotateY:function(a){var b=this.elements,c=b[0],d=b[1],e=b[2],f=b[3],g=b[8],h=b[9],j=b[10],m=b[11],l=Math.cos(a),a=Math.sin(a);b[0]=l*c-a*g;b[1]=l*d-a*h;b[2]=l*e-a*j;b[3]=l*f-a*m;b[8]=l*g+a*c;b[9]=l*h+a*d;b[10]=l*j+a*e;b[11]=l*m+a*f;return this},rotateZ:function(a){var b=this.elements,c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],j=b[6],m=b[7],l=Math.cos(a),a=Math.sin(a);b[0]=l*c+a*g;b[1]=l*d+a*h;b[2]=l*e+a*        j;b[3]=l*f+a*m;b[4]=l*g-a*c;b[5]=l*h-a*d;b[6]=l*j-a*e;b[7]=l*m-a*f;return this},rotateByAxis:function(a,b){var c=this.elements;if(1===a.x&&0===a.y&&0===a.z)return this.rotateX(b);if(0===a.x&&1===a.y&&0===a.z)return this.rotateY(b);if(0===a.x&&0===a.y&&1===a.z)return this.rotateZ(b);var d=a.x,e=a.y,f=a.z,g=Math.sqrt(d*d+e*e+f*f),d=d/g,e=e/g,f=f/g,g=d*d,h=e*e,j=f*f,m=Math.cos(b),l=Math.sin(b),q=1-m,o=d*e*q,p=d*f*q,q=e*f*q,d=d*l,r=e*l,l=f*l,f=g+(1-g)*m,g=o+l,e=p-r,o=o-l,h=h+(1-h)*m,l=q+d,p=p+r,q=q-d, j=j+(1-j)*m,m=c[0],d=c[1],r=c[2],n=c[3],s=c[4],w=c[5],v=c[6],u=c[7],x=c[8],z=c[9],I=c[10],y=c[11];c[0]=f*m+g*s+e*x;c[1]=f*d+g*w+e*z;c[2]=f*r+g*v+e*I;c[3]=f*n+g*u+e*y;c[4]=o*m+h*s+l*x;c[5]=o*d+h*w+l*z;c[6]=o*r+h*v+l*I;c[7]=o*n+h*u+l*y;c[8]=p*m+q*s+j*x;c[9]=p*d+q*w+j*z;c[10]=p*r+q*v+j*I;c[11]=p*n+q*u+j*y;return this},scale:function(a){var b=this.elements,c=a.x,d=a.y,a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeTranslation:function(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this},makeRotationX:function(a){var b=Math.cos(a),a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this},makeRotationY:function(a){var b=Math.cos(a),a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this},makeRotationZ:function(a){var b=Math.cos(a), a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=1-c,f=a.x,g=a.y,h=a.z,j=e*f,m=e*g;this.set(j*f+c,j*g-d*h,j*h+d*g,0,j*g+d*h,m*g+c,m*h-d*f,0,j*h-d*g,m*h+d*f,e*h*h+c,0,0,0,0,1);return this},makeScale:function(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},makeFrustum:function(a,b,c,d,e,f){var g=this.elements;g[0]=2*e/(b-a);g[4]=0;g[8]=(b+a)/(b-a);g[12]=0;g[1]=0;g[5]=2*e/(d-c);g[9]=(d+c)/(d-c);g[13]=0;g[2]=0;g[6]=0;g[10]=-(f+e)/(f-e);g[14]=-2*f*e/(f-e);g[3]=0;g[7]=0;g[11]=-1;g[15]=0;return this},makePerspective:function(a,b,c,d){var a=c*Math.tan(a*Math.PI/360),e=-a;return this.makeFrustum(e*b,a*b,e,a,c,d)},makeOrthographic:function(a,b,c,d,e,f){var g=this.elements,h=b-a,j=c-d,m=f-e;g[0]=2/h;g[4]=0;g[8]=0;g[12]=-((b+a)/h);g[1]=0;g[5]=2/j;g[9]=0;g[13]=-((c+d)/j);g[2]=0;g[6]=0;g[10]=-2/m;g[14]=-((f+e)/m);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return this},clone:function(){var a=this.elements;return new THREE.Matrix4(a[0], a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}};THREE.Matrix4.__v1=new THREE.Vector3;THREE.Matrix4.__v2=new THREE.Vector3;THREE.Matrix4.__v3=new THREE.Vector3;THREE.Matrix4.__m1=new THREE.Matrix4;THREE.Matrix4.__m2=new THREE.Matrix4;THREE.Object3D=function(){this.id=THREE.Object3DCount++;this.name="";this.parent=void 0;this.children=[];this.up=new THREE.Vector3(0,1,0);this.position=new THREE.Vector3;this.rotation=new THREE.Vector3;this.eulerOrder="XYZ";this.scale=new THREE.Vector3(1,1,1);this.flipSided=this.doubleSided=!1;this.renderDepth=null;this.rotationAutoUpdate=!0;this.matrix=new THREE.Matrix4;this.matrixWorld=new THREE.Matrix4;this.matrixRotationWorld=new THREE.Matrix4;this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0;this.quaternion=new THREE.Quaternion;this.useQuaternion=!1;this.boundRadius=0;this.boundRadiusScale=1;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this._vector=new THREE.Vector3};THREE.Object3D.prototype={constructor:THREE.Object3D,applyMatrix:function(a){this.matrix.multiply(a,this.matrix);this.scale.getScaleFromMatrix(this.matrix);this.rotation.getRotationFromMatrix(this.matrix,this.scale);this.position.getPositionFromMatrix(this.matrix)},translate:function(a,b){this.matrix.rotateAxis(b);this.position.addSelf(b.multiplyScalar(a))},translateX:function(a){this.translate(a,this._vector.set(1,0,0))},translateY:function(a){this.translate(a,this._vector.set(0,1,0))},translateZ:function(a){this.translate(a, this._vector.set(0,0,1))},lookAt:function(a){this.matrix.lookAt(a,this.position,this.up);this.rotationAutoUpdate&&this.rotation.getRotationFromMatrix(this.matrix)},add:function(a){if(a===this)console.warn("THREE.Object3D.add: An object can't be added as a child of itself.");else if(a instanceof THREE.Object3D){void 0!==a.parent&&a.parent.remove(a);a.parent=this;this.children.push(a);for(var b=this;void 0!==b.parent;)b=b.parent;void 0!==b&&b instanceof THREE.Scene&&b.__addObject(a)}},remove:function(a){var b=this.children.indexOf(a);if(-1!==b){a.parent=void 0;this.children.splice(b,1);for(b=this;void 0!==b.parent;)b=b.parent;void 0!==b&&b instanceof THREE.Scene&&b.__removeObject(a)}},getChildByName:function(a,b){var c,d,e;c=0;for(d=this.children.length;c<d;c++)if(e=this.children[c],e.name===a||b&&(e=e.getChildByName(a,b),void 0!==e))return e},updateMatrix:function(){this.matrix.setPosition(this.position);this.useQuaternion?this.matrix.setRotationFromQuaternion(this.quaternion):this.matrix.setRotationFromEuler(this.rotation, this.eulerOrder);if(1!==this.scale.x||1!==this.scale.y||1!==this.scale.z)this.matrix.scale(this.scale),this.boundRadiusScale=Math.max(this.scale.x,Math.max(this.scale.y,this.scale.z));this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)this.parent?this.matrixWorld.multiply(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,c=this.children.length;b<        c;b++)this.children[b].updateMatrixWorld(a)}};THREE.Object3DCount=0;THREE.Projector=function(){function a(){var a=g[f]=g[f]||new THREE.RenderableObject;f++;return a}function b(){var a=m[j]=m[j]||new THREE.RenderableVertex;j++;return a}function c(a,b){return b.z-a.z}function d(a,b){var c=0,d=1,e=a.z+a.w,f=b.z+b.w,g=-a.z+a.w,h=-b.z+b.w;if(0<=e&&0<=f&&0<=g&&0<=h)return!0;if(0>e&&0>f||0>g&&0>h)return!1;0>e?c=Math.max(c,e/(e-f)):0>f&&(d=Math.min(d,e/(e-f)));0>g?c=Math.max(c,g/(g-h)):0>h&&(d=Math.min(d,g/(g-h)));if(d<c)return!1;a.lerpSelf(b,c);b.lerpSelf(a,1-d);return!0}var e,f,g=[],h,j,m=[],l,q,o=[],p,r=[],n,s,w=[],v,u,x=[],z={objects:[],sprites:[],lights:[],elements:[]},I=new THREE.Vector3,y=new THREE.Vector4,B=new THREE.Matrix4,D=new THREE.Matrix4,E=new THREE.Frustum,P=new THREE.Vector4,M=new THREE.Vector4;this.projectVector=function(a,b){b.matrixWorldInverse.getInverse(b.matrixWorld);B.multiply(b.projectionMatrix,b.matrixWorldInverse);B.multiplyVector3(a);return a};this.unprojectVector=function(a,b){b.projectionMatrixInverse.getInverse(b.projectionMatrix);B.multiply(b.matrixWorld, b.projectionMatrixInverse);B.multiplyVector3(a);return a};this.pickingRay=function(a,b){var c;a.z=-1;c=new THREE.Vector3(a.x,a.y,1);this.unprojectVector(a,b);this.unprojectVector(c,b);c.subSelf(a).normalize();return new THREE.Ray(a,c)};this.projectGraph=function(b,d){f=0;z.objects.length=0;z.sprites.length=0;z.lights.length=0;var g=function(b){if(!1!==b.visible){(b instanceof THREE.Mesh||b instanceof THREE.Line)&&(!1===b.frustumCulled||E.contains(b))?(I.copy(b.matrixWorld.getPosition()),B.multiplyVector3(I), e=a(),e.object=b,e.z=I.z,z.objects.push(e)):b instanceof THREE.Sprite||b instanceof THREE.Particle?(I.copy(b.matrixWorld.getPosition()),B.multiplyVector3(I),e=a(),e.object=b,e.z=I.z,z.sprites.push(e)):b instanceof THREE.Light&&z.lights.push(b);for(var c=0,d=b.children.length;c<d;c++)g(b.children[c])}};g(b);d&&z.objects.sort(c);return z};this.projectScene=function(a,e,f){var g=e.near,J=e.far,k=!1,I,W,F,N,R,ea,ma,na,U,ba,da,ca,ja,Ca,Ra;u=s=p=q=0;z.elements.length=0;void 0===e.parent&&(console.warn("DEPRECATED: Camera hasn't been added to a Scene. Adding it..."), a.add(e));a.updateMatrixWorld();e.matrixWorldInverse.getInverse(e.matrixWorld);B.multiply(e.projectionMatrix,e.matrixWorldInverse);E.setFromMatrix(B);z=this.projectGraph(a,!1);a=0;for(I=z.objects.length;a<I;a++)if(U=z.objects[a].object,ba=U.matrixWorld,j=0,U instanceof THREE.Mesh){da=U.geometry;ca=U.geometry.materials;N=da.vertices;ja=da.faces;Ca=da.faceVertexUvs;da=U.matrixRotationWorld.extractRotation(ba);W=0;for(F=N.length;W<F;W++)h=b(),h.positionWorld.copy(N[W]),ba.multiplyVector3(h.positionWorld), h.positionScreen.copy(h.positionWorld),B.multiplyVector4(h.positionScreen),h.positionScreen.x/=h.positionScreen.w,h.positionScreen.y/=h.positionScreen.w,h.visible=h.positionScreen.z>g&&h.positionScreen.z<J;N=0;for(W=ja.length;N<W;N++){F=ja[N];if(F instanceof THREE.Face3)if(R=m[F.a],ea=m[F.b],ma=m[F.c],R.visible&&ea.visible&&ma.visible)if(k=0>(ma.positionScreen.x-R.positionScreen.x)*(ea.positionScreen.y-R.positionScreen.y)-(ma.positionScreen.y-R.positionScreen.y)*(ea.positionScreen.x-R.positionScreen.x), U.doubleSided||k!=U.flipSided)na=o[q]=o[q]||new THREE.RenderableFace3,q++,l=na,l.v1.copy(R),l.v2.copy(ea),l.v3.copy(ma);else continue;else continue;else if(F instanceof THREE.Face4)if(R=m[F.a],ea=m[F.b],ma=m[F.c],na=m[F.d],R.visible&&ea.visible&&ma.visible&&na.visible)if(k=0>(na.positionScreen.x-R.positionScreen.x)*(ea.positionScreen.y-R.positionScreen.y)-(na.positionScreen.y-R.positionScreen.y)*(ea.positionScreen.x-R.positionScreen.x)||0>(ea.positionScreen.x-ma.positionScreen.x)*(na.positionScreen.y-        ma.positionScreen.y)-(ea.positionScreen.y-ma.positionScreen.y)*(na.positionScreen.x-ma.positionScreen.x),U.doubleSided||k!=U.flipSided)Ra=r[p]=r[p]||new THREE.RenderableFace4,p++,l=Ra,l.v1.copy(R),l.v2.copy(ea),l.v3.copy(ma),l.v4.copy(na);else continue;else continue;l.normalWorld.copy(F.normal);!k&&(U.flipSided||U.doubleSided)&&l.normalWorld.negate();da.multiplyVector3(l.normalWorld);l.centroidWorld.copy(F.centroid);ba.multiplyVector3(l.centroidWorld);l.centroidScreen.copy(l.centroidWorld);B.multiplyVector3(l.centroidScreen);ma=F.vertexNormals;R=0;for(ea=ma.length;R<ea;R++)na=l.vertexNormalsWorld[R],na.copy(ma[R]),!k&&(U.flipSided||U.doubleSided)&&na.negate(),da.multiplyVector3(na);R=0;for(ea=Ca.length;R<ea;R++)if(Ra=Ca[R][N]){ma=0;for(na=Ra.length;ma<na;ma++)l.uvs[R][ma]=Ra[ma]}l.material=U.material;l.faceMaterial=null!==F.materialIndex?ca[F.materialIndex]:null;l.z=l.centroidScreen.z;z.elements.push(l)}}else if(U instanceof THREE.Line){D.multiply(B,ba);N=U.geometry.vertices;R=b();R.positionScreen.copy(N[0]);D.multiplyVector4(R.positionScreen);ba=U.type===THREE.LinePieces?2:1;W=1;for(F=N.length;W<F;W++)R=b(),R.positionScreen.copy(N[W]),D.multiplyVector4(R.positionScreen),0<(W+1)%ba||(ea=m[j-2],P.copy(R.positionScreen),M.copy(ea.positionScreen),d(P,M)&&(P.multiplyScalar(1/P.w),M.multiplyScalar(1/M.w),ca=w[s]=w[s]||new THREE.RenderableLine,s++,n=ca,n.v1.positionScreen.copy(P),n.v2.positionScreen.copy(M),n.z=Math.max(P.z,M.z),n.material=U.material,z.elements.push(n)))}a=0;for(I=z.sprites.length;a<I;a++)U=z.sprites[a].object,ba=U.matrixWorld, U instanceof THREE.Particle&&(y.set(ba.elements[12],ba.elements[13],ba.elements[14],1),B.multiplyVector4(y),y.z/=y.w,0<y.z&&1>y.z&&(g=x[u]=x[u]||new THREE.RenderableParticle,u++,v=g,v.x=y.x/y.w,v.y=y.y/y.w,v.z=y.z,v.rotation=U.rotation.z,v.scale.x=U.scale.x*Math.abs(v.x-(y.x+e.projectionMatrix.elements[0])/(y.w+e.projectionMatrix.elements[12])),v.scale.y=U.scale.y*Math.abs(v.y-(y.y+e.projectionMatrix.elements[5])/(y.w+e.projectionMatrix.elements[13])),v.material=U.material,z.elements.push(v)));f&& z.elements.sort(c);return z}};THREE.Quaternion=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1};THREE.Quaternion.prototype={constructor:THREE.Quaternion,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=a.w;return this},setFromEuler:function(a){var b=Math.PI/360,c=a.x*b,d=a.y*b,e=a.z*b,a=Math.cos(d),d=Math.sin(d),b=Math.cos(-e),e=Math.sin(-e),f=Math.cos(c),c=Math.sin(c),g=a*b,h=d*e;this.w=g*f-h*c;this.x=g*c+h*f;this.y=d*b*f+a*e*c;this.z=a*e*f-d*b*c;return this},setFromAxisAngle:function(a,b){var c=b/2,d=Math.sin(c);this.x=a.x*d;this.y=a.y*d;this.z=a.z*d;this.w=Math.cos(c);return this},setFromRotationMatrix:function(a){var b=Math.pow(a.determinant(),1/3);this.w=Math.sqrt(Math.max(0,b+a.elements[0]+a.elements[5]+a.elements[10]))/2;this.x=Math.sqrt(Math.max(0,b+a.elements[0]-a.elements[5]-a.elements[10]))/2;this.y=Math.sqrt(Math.max(0,b-a.elements[0]+a.elements[5]-a.elements[10]))/2;this.z=Math.sqrt(Math.max(0,b-a.elements[0]-a.elements[5]+a.elements[10]))/2;this.x=0>a.elements[6]-a.elements[9]?-Math.abs(this.x):        Math.abs(this.x);this.y=0>a.elements[8]-a.elements[2]?-Math.abs(this.y):Math.abs(this.y);this.z=0>a.elements[1]-a.elements[4]?-Math.abs(this.z):Math.abs(this.z);this.normalize();return this},calculateW:function(){this.w=-Math.sqrt(Math.abs(1-this.x*this.x-this.y*this.y-this.z*this.z));return this},inverse:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var a=Math.sqrt(this.x*        this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===a?this.w=this.z=this.y=this.x=0:(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a);return this},multiply:function(a,b){this.x=a.x*b.w+a.y*b.z-a.z*b.y+a.w*b.x;this.y=-a.x*b.z+a.y*b.w+a.z*b.x+a.w*b.y;this.z=a.x*b.y-a.y*b.x+a.z*b.w+a.w*b.z;this.w=-a.x*b.x-a.y*b.y-a.z*b.z+a.w*b.w;return this},multiplySelf:function(a){var b=this.x,c=this.y,d=this.z,e=this.w,f=a.x,g=a.y,h=a.z,a=a.w;this.x=b*a+e*f+c*h-d*g;this.y=c*a+e*g+d*f-b*h;this.z=d*a+e*h+b*g-c*f;this.w=e*a-b*f-c*g-d*h;return this},multiplyVector3:function(a,b){b||(b=a);var c=a.x,d=a.y,e=a.z,f=this.x,g=this.y,h=this.z,j=this.w,m=j*c+g*e-h*d,l=j*d+h*c-f*e,q=j*e+f*d-g*c,c=-f*c-g*d-h*e;b.x=m*j+c*-f+l*-h-q*-g;b.y=l*j+c*-g+q*-f-m*-h;b.z=q*j+c*-h+m*-g-l*-f;return b},clone:function(){return new THREE.Quaternion(this.x,this.y,this.z,this.w)}};THREE.Quaternion.slerp=function(a,b,c,d){var e=a.w*b.w+a.x*b.x+a.y*b.y+a.z*b.z;0>e?(c.w=-b.w,c.x=-b.x,c.y=-b.y,c.z=-b.z,e=-e):c.copy(b);if(1<=Math.abs(e))return c.w=a.w,c.x=a.x,c.y=a.y,c.z=a.z,c;var f=Math.acos(e),e=Math.sqrt(1-e*e);if(0.001>Math.abs(e))return c.w=0.5*(a.w+b.w),c.x=0.5*(a.x+b.x),c.y=0.5*(a.y+b.y),c.z=0.5*(a.z+b.z),c;b=Math.sin((1-d)*f)/e;d=Math.sin(d*f)/e;c.w=a.w*b+c.w*d;c.x=a.x*b+c.x*d;c.y=a.y*b+c.y*d;c.z=a.z*b+c.z*d;return c};THREE.Vertex=function(){console.warn("THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead.")};THREE.Face3=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d instanceof THREE.Vector3?d:new THREE.Vector3;this.vertexNormals=d instanceof Array?d:[];this.color=e instanceof THREE.Color?e:new THREE.Color;this.vertexColors=e instanceof Array?e:[];this.vertexTangents=[];this.materialIndex=f;this.centroid=new THREE.Vector3};THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var a=new THREE.Face3(this.a,this.b,this.c);a.normal.copy(this.normal);a.color.copy(this.color);a.centroid.copy(this.centroid);a.materialIndex=this.materialIndex;var b,c;b=0;for(c=this.vertexNormals.length;b<c;b++)a.vertexNormals[b]=this.vertexNormals[b].clone();b=0;for(c=this.vertexColors.length;b<c;b++)a.vertexColors[b]=this.vertexColors[b].clone();b=0;for(c=this.vertexTangents.length;b<c;b++)a.vertexTangents[b]=this.vertexTangents[b].clone();return a}};THREE.Face4=function(a,b,c,d,e,f,g){this.a=a;this.b=b;this.c=c;this.d=d;this.normal=e instanceof THREE.Vector3?e:new THREE.Vector3;this.vertexNormals=e instanceof Array?e:[];this.color=f instanceof THREE.Color?f:new THREE.Color;this.vertexColors=f instanceof Array?f:[];this.vertexTangents=[];this.materialIndex=g;this.centroid=new THREE.Vector3};THREE.Face4.prototype={constructor:THREE.Face4,clone:function(){var a=new THREE.Face4(this.a,this.b,this.c,this.d);a.normal.copy(this.normal);a.color.copy(this.color);a.centroid.copy(this.centroid);a.materialIndex=this.materialIndex;var b,c;b=0;for(c=this.vertexNormals.length;b<c;b++)a.vertexNormals[b]=this.vertexNormals[b].clone();b=0;for(c=this.vertexColors.length;b<c;b++)a.vertexColors[b]=this.vertexColors[b].clone();b=0;for(c=this.vertexTangents.length;b<c;b++)a.vertexTangents[b]=this.vertexTangents[b].clone();return a}};THREE.UV=function(a,b){this.u=a||0;this.v=b||0};THREE.UV.prototype={constructor:THREE.UV,set:function(a,b){this.u=a;this.v=b;return this},copy:function(a){this.u=a.u;this.v=a.v;return this},lerpSelf:function(a,b){this.u+=(a.u-this.u)*b;this.v+=(a.v-this.v)*b;return this},clone:function(){return new THREE.UV(this.u,this.v)}};THREE.Geometry=function(){this.id=THREE.GeometryCount++;this.vertices=[];this.colors=[];this.materials=[];this.faces=[];this.faceUvs=[[]];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphColors=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.dynamic=this.hasTangents=!1};THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(a){var b=new THREE.Matrix4;b.extractRotation(a);for(var c=0,d=this.vertices.length;c<d;c++)a.multiplyVector3(this.vertices[c]);c=0;for(d=this.faces.length;c<d;c++){var e=this.faces[c];b.multiplyVector3(e.normal);for(var f=0,g=e.vertexNormals.length;f<g;f++)b.multiplyVector3(e.vertexNormals[f]);a.multiplyVector3(e.centroid)}},computeCentroids:function(){var a,b,c;a=0;for(b=this.faces.length;a<b;a++)c=this.faces[a],c.centroid.set(0, 0,0),c instanceof THREE.Face3?(c.centroid.addSelf(this.vertices[c.a]),c.centroid.addSelf(this.vertices[c.b]),c.centroid.addSelf(this.vertices[c.c]),c.centroid.divideScalar(3)):c instanceof THREE.Face4&&(c.centroid.addSelf(this.vertices[c.a]),c.centroid.addSelf(this.vertices[c.b]),c.centroid.addSelf(this.vertices[c.c]),c.centroid.addSelf(this.vertices[c.d]),c.centroid.divideScalar(4))},computeFaceNormals:function(){var a,b,c,d,e,f,g=new THREE.Vector3,h=new THREE.Vector3;a=0;for(b=this.faces.length;a<        b;a++)c=this.faces[a],d=this.vertices[c.a],e=this.vertices[c.b],f=this.vertices[c.c],g.sub(f,e),h.sub(d,e),g.crossSelf(h),g.isZero()||g.normalize(),c.normal.copy(g)},computeVertexNormals:function(){var a,b,c,d;if(void 0===this.__tmpVertices){d=this.__tmpVertices=Array(this.vertices.length);a=0;for(b=this.vertices.length;a<b;a++)d[a]=new THREE.Vector3;a=0;for(b=this.faces.length;a<b;a++)c=this.faces[a],c instanceof THREE.Face3?c.vertexNormals=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]:        c instanceof THREE.Face4&&(c.vertexNormals=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3])}else{d=this.__tmpVertices;a=0;for(b=this.vertices.length;a<b;a++)d[a].set(0,0,0)}a=0;for(b=this.faces.length;a<b;a++)c=this.faces[a],c instanceof THREE.Face3?(d[c.a].addSelf(c.normal),d[c.b].addSelf(c.normal),d[c.c].addSelf(c.normal)):c instanceof THREE.Face4&&(d[c.a].addSelf(c.normal),d[c.b].addSelf(c.normal),d[c.c].addSelf(c.normal),d[c.d].addSelf(c.normal));a=0;for(b=this.vertices.length;a<        b;a++)d[a].normalize();a=0;for(b=this.faces.length;a<b;a++)c=this.faces[a],c instanceof THREE.Face3?(c.vertexNormals[0].copy(d[c.a]),c.vertexNormals[1].copy(d[c.b]),c.vertexNormals[2].copy(d[c.c])):c instanceof THREE.Face4&&(c.vertexNormals[0].copy(d[c.a]),c.vertexNormals[1].copy(d[c.b]),c.vertexNormals[2].copy(d[c.c]),c.vertexNormals[3].copy(d[c.d]))},computeMorphNormals:function(){var a,b,c,d,e;c=0;for(d=this.faces.length;c<d;c++){e=this.faces[c];e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):        e.__originalFaceNormal=e.normal.clone();e.__originalVertexNormals||(e.__originalVertexNormals=[]);a=0;for(b=e.vertexNormals.length;a<b;a++)e.__originalVertexNormals[a]?e.__originalVertexNormals[a].copy(e.vertexNormals[a]):e.__originalVertexNormals[a]=e.vertexNormals[a].clone()}var f=new THREE.Geometry;f.faces=this.faces;a=0;for(b=this.morphTargets.length;a<b;a++){if(!this.morphNormals[a]){this.morphNormals[a]={};this.morphNormals[a].faceNormals=[];this.morphNormals[a].vertexNormals=[];var g=this.morphNormals[a].faceNormals, h=this.morphNormals[a].vertexNormals,j,m;c=0;for(d=this.faces.length;c<d;c++)e=this.faces[c],j=new THREE.Vector3,m=e instanceof THREE.Face3?{a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3}:{a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3,d:new THREE.Vector3},g.push(j),h.push(m)}g=this.morphNormals[a];f.vertices=this.morphTargets[a].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(d=this.faces.length;c<d;c++)e=this.faces[c],j=g.faceNormals[c],m=g.vertexNormals[c], j.copy(e.normal),e instanceof THREE.Face3?(m.a.copy(e.vertexNormals[0]),m.b.copy(e.vertexNormals[1]),m.c.copy(e.vertexNormals[2])):(m.a.copy(e.vertexNormals[0]),m.b.copy(e.vertexNormals[1]),m.c.copy(e.vertexNormals[2]),m.d.copy(e.vertexNormals[3]))}c=0;for(d=this.faces.length;c<d;c++)e=this.faces[c],e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals},computeTangents:function(){function a(a,b,c,d,e,f,B){h=a.vertices[b];j=a.vertices[c];m=a.vertices[d];l=g[e];q=g[f];o=g[B];p=j.x-        h.x;r=m.x-h.x;n=j.y-h.y;s=m.y-h.y;w=j.z-h.z;v=m.z-h.z;u=q.u-l.u;x=o.u-l.u;z=q.v-l.v;I=o.v-l.v;y=1/(u*I-x*z);P.set((I*p-z*r)*y,(I*n-z*s)*y,(I*w-z*v)*y);M.set((u*r-x*p)*y,(u*s-x*n)*y,(u*v-x*w)*y);D[b].addSelf(P);D[c].addSelf(P);D[d].addSelf(P);E[b].addSelf(M);E[c].addSelf(M);E[d].addSelf(M)}var b,c,d,e,f,g,h,j,m,l,q,o,p,r,n,s,w,v,u,x,z,I,y,B,D=[],E=[],P=new THREE.Vector3,M=new THREE.Vector3,V=new THREE.Vector3,S=new THREE.Vector3,G=new THREE.Vector3;b=0;for(c=this.vertices.length;b<c;b++)D[b]=new THREE.Vector3, E[b]=new THREE.Vector3;b=0;for(c=this.faces.length;b<c;b++)f=this.faces[b],g=this.faceVertexUvs[0][b],f instanceof THREE.Face3?a(this,f.a,f.b,f.c,0,1,2):f instanceof THREE.Face4&&(a(this,f.a,f.b,f.d,0,1,3),a(this,f.b,f.c,f.d,1,2,3));var K=["a","b","c","d"];b=0;for(c=this.faces.length;b<c;b++){f=this.faces[b];for(d=0;d<f.vertexNormals.length;d++)G.copy(f.vertexNormals[d]),e=f[K[d]],B=D[e],V.copy(B),V.subSelf(G.multiplyScalar(G.dot(B))).normalize(),S.cross(f.vertexNormals[d],B),e=S.dot(E[e]),e=0>e?        -1:1,f.vertexTangents[d]=new THREE.Vector4(V.x,V.y,V.z,e)}this.hasTangents=!0},computeBoundingBox:function(){this.boundingBox||(this.boundingBox={min:new THREE.Vector3,max:new THREE.Vector3});if(0<this.vertices.length){var a;a=this.vertices[0];this.boundingBox.min.copy(a);this.boundingBox.max.copy(a);for(var b=this.boundingBox.min,c=this.boundingBox.max,d=1,e=this.vertices.length;d<e;d++)(a=this.vertices[d],a.x<b.x?b.x=a.x:a.x>c.x&&(c.x=a.x),a.y<b.y?b.y=a.y:a.y>c.y&&(c.y=a.y),a.z<b.z)?b.z=a.z:a.z> c.z&&(c.z=a.z)}else this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)},computeBoundingSphere:function(){this.boundingSphere||(this.boundingSphere={radius:0});for(var a,b=0,c=0,d=this.vertices.length;c<d;c++)a=this.vertices[c].length(),a>b&&(b=a);this.boundingSphere.radius=b},mergeVertices:function(){var a={},b=[],c=[],d,e=Math.pow(10,4),f,g,h;f=0;for(g=this.vertices.length;f<g;f++)d=this.vertices[f],d=[Math.round(d.x*e),Math.round(d.y*e),Math.round(d.z*e)].join("_"),void 0===a[d]?(a[d]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[d]];f=0;for(g=this.faces.length;f<g;f++)if(e=this.faces[f],e instanceof THREE.Face3)e.a=c[e.a],e.b=c[e.b],e.c=c[e.c];else if(e instanceof THREE.Face4){e.a=c[e.a];e.b=c[e.b];e.c=c[e.c];e.d=c[e.d];d=[e.a,e.b,e.c,e.d];for(a=3;0<a;a--)if(d.indexOf(e["abcd"[a]])!=a){d.splice(a,1);this.faces[f]=new THREE.Face3(d[0],d[1],d[2]);e=0;for(d=this.faceVertexUvs.length;e<d;e++)(h=this.faceVertexUvs[e][f])&&h.splice(a,1);break}}c=this.vertices.length-b.length;this.vertices=b;return c}};THREE.GeometryCount=0;THREE.Spline=function(a){function b(a,b,c,d,e,f,g){a=0.5*(c-a);d=0.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}this.points=a;var c=[],d={x:0,y:0,z:0},e,f,g,h,j,m,l,q,o;this.initFromArray=function(a){this.points=[];for(var b=0;b<a.length;b++)this.points[b]={x:a[b][0],y:a[b][1],z:a[b][2]}};this.getPoint=function(a){e=(this.points.length-1)*a;f=Math.floor(e);g=e-f;c[0]=0===f?f:f-1;c[1]=f;c[2]=f>this.points.length-2?this.points.length-1:f+1;c[3]=f>this.points.length-3?this.points.length-1:        f+2;m=this.points[c[0]];l=this.points[c[1]];q=this.points[c[2]];o=this.points[c[3]];h=g*g;j=g*h;d.x=b(m.x,l.x,q.x,o.x,g,h,j);d.y=b(m.y,l.y,q.y,o.y,g,h,j);d.z=b(m.z,l.z,q.z,o.z,g,h,j);return d};this.getControlPointsArray=function(){var a,b,c=this.points.length,d=[];for(a=0;a<c;a++)b=this.points[a],d[a]=[b.x,b.y,b.z];return d};this.getLength=function(a){var b,c,d,e=0,f=new THREE.Vector3,g=new THREE.Vector3,h=[],j=0;h[0]=0;a||(a=100);c=this.points.length*a;f.copy(this.points[0]);for(a=1;a<c;a++)b=a/        c,d=this.getPoint(b),g.copy(d),j+=g.distanceTo(f),f.copy(d),b*=this.points.length-1,b=Math.floor(b),b!=e&&(h[b]=j,e=b);h[h.length]=j;return{chunks:h,total:j}};this.reparametrizeByArcLength=function(a){var b,c,d,e,f,g,h=[],j=new THREE.Vector3,l=this.getLength();h.push(j.copy(this.points[0]).clone());for(b=1;b<this.points.length;b++){c=l.chunks[b]-l.chunks[b-1];g=Math.ceil(a*c/l.total);e=(b-1)/(this.points.length-1);f=b/(this.points.length-1);for(c=1;c<g-1;c++)d=e+c*(1/g)*(f-e),d=this.getPoint(d),h.push(j.copy(d).clone());h.push(j.copy(this.points[b]).clone())}this.points=h}};THREE.Camera=function(){THREE.Object3D.call(this);this.matrixWorldInverse=new THREE.Matrix4;this.projectionMatrix=new THREE.Matrix4;this.projectionMatrixInverse=new THREE.Matrix4};THREE.Camera.prototype=new THREE.Object3D;THREE.Camera.prototype.constructor=THREE.Camera;THREE.Camera.prototype.lookAt=function(a){this.matrix.lookAt(this.position,a,this.up);this.rotationAutoUpdate&&this.rotation.getRotationFromMatrix(this.matrix)};THREE.OrthographicCamera=function(a,b,c,d,e,f){THREE.Camera.call(this);this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:0.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype=new THREE.Camera;THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera;THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far)};THREE.PerspectiveCamera=function(a,b,c,d){THREE.Camera.call(this);this.fov=void 0!==a?a:50;this.aspect=void 0!==b?b:1;this.near=void 0!==c?c:0.1;this.far=void 0!==d?d:2E3;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype=new THREE.Camera;THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera;THREE.PerspectiveCamera.prototype.setLens=function(a,b){this.fov=2*Math.atan((void 0!==b?b:24)/(2*a))*(180/Math.PI);this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.setViewOffset=function(a,b,c,d,e,f){this.fullWidth=a;this.fullHeight=b;this.x=c;this.y=d;this.width=e;this.height=f;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var a=this.fullWidth/this.fullHeight,b=Math.tan(this.fov*Math.PI/360)*this.near,c=-b,d=a*c,a=Math.abs(a*b-d),c=Math.abs(b-c);this.projectionMatrix.makeFrustum(d+this.x*a/this.fullWidth,d+(this.x+this.width)*a/this.fullWidth,b-(this.y+this.height)*c/this.fullHeight,b-this.y*c/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)};THREE.Light=function(a){THREE.Object3D.call(this);this.color=new THREE.Color(a)};THREE.Light.prototype=new THREE.Object3D;THREE.Light.prototype.constructor=THREE.Light;THREE.Light.prototype.supr=THREE.Object3D.prototype;THREE.AmbientLight=function(a){THREE.Light.call(this,a)};THREE.AmbientLight.prototype=new THREE.Light;THREE.AmbientLight.prototype.constructor=THREE.AmbientLight;THREE.DirectionalLight=function(a,b,c){THREE.Light.call(this,a);this.position=new THREE.Vector3(0,1,0);this.target=new THREE.Object3D;this.intensity=void 0!==b?b:1;this.distance=void 0!==c?c:0;this.onlyShadow=this.castShadow=!1;this.shadowCameraNear=50;this.shadowCameraFar=5E3;this.shadowCameraLeft=-500;this.shadowCameraTop=this.shadowCameraRight=500;this.shadowCameraBottom=-500;this.shadowCameraVisible=!1;this.shadowBias=0;this.shadowDarkness=0.5;this.shadowMapHeight=this.shadowMapWidth=512;this.shadowCascade=!1;this.shadowCascadeOffset=new THREE.Vector3(0,0,-1E3);this.shadowCascadeCount=2;this.shadowCascadeBias=[0,0,0];this.shadowCascadeWidth=[512,512,512];this.shadowCascadeHeight=[512,512,512];this.shadowCascadeNearZ=[-1,0.99,0.998];this.shadowCascadeFarZ=[0.99,0.998,1];this.shadowCascadeArray=[];this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null};THREE.DirectionalLight.prototype=new THREE.Light;THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight;THREE.PointLight=function(a,b,c){THREE.Light.call(this,a);this.position=new THREE.Vector3(0,0,0);this.intensity=void 0!==b?b:1;this.distance=void 0!==c?c:0};THREE.PointLight.prototype=new THREE.Light;THREE.PointLight.prototype.constructor=THREE.PointLight;THREE.SpotLight=function(a,b,c,d,e){THREE.Light.call(this,a);this.position=new THREE.Vector3(0,1,0);this.target=new THREE.Object3D;this.intensity=void 0!==b?b:1;this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/2;this.exponent=void 0!==e?e:10;this.onlyShadow=this.castShadow=!1;this.shadowCameraNear=50;this.shadowCameraFar=5E3;this.shadowCameraFov=50;this.shadowCameraVisible=!1;this.shadowBias=0;this.shadowDarkness=0.5;this.shadowMapHeight=this.shadowMapWidth=512;this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null};THREE.SpotLight.prototype=new THREE.Light;THREE.SpotLight.prototype.constructor=THREE.SpotLight;THREE.Loader=function(a){this.statusDomElement=(this.showStatus=a)?THREE.Loader.prototype.addStatusElement():null;this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:"anonymous",addStatusElement:function(){var a=document.createElement("div");a.style.position="absolute";a.style.right="0px";a.style.top="0px";a.style.fontSize="0.8em";a.style.textAlign="left";a.style.background="rgba(0,0,0,0.25)";a.style.color="#fff";a.style.width="120px";a.style.padding="0.5em 0.5em 0.5em 0.5em";a.style.zIndex=1E3;a.innerHTML="Loading ...";return a},updateProgress:function(a){var b="Loaded ",b=a.total?b+((100*a.loaded/        a.total).toFixed(0)+"%"):b+((a.loaded/1E3).toFixed(2)+" KB");this.statusDomElement.innerHTML=b},extractUrlBase:function(a){a=a.split("/");a.pop();return(1>a.length?".":a.join("/"))+"/"},initMaterials:function(a,b,c){a.materials=[];for(var d=0;d<b.length;++d)a.materials[d]=THREE.Loader.prototype.createMaterial(b[d],c)},hasNormals:function(a){var b,c,d=a.materials.length;for(c=0;c<d;c++)if(b=a.materials[c],b instanceof THREE.ShaderMaterial)return!0;return!1},createMaterial:function(a,b){function c(a){a=Math.log(a)/Math.LN2;return Math.floor(a)==a}function d(a){a=Math.log(a)/Math.LN2;return Math.pow(2,Math.round(a))}function e(a,e,f,h,j,m){var s=document.createElement("canvas");a[e]=new THREE.Texture(s);a[e].sourceFile=f;if(h&&(a[e].repeat.set(h[0],h[1]),1!=h[0]&&(a[e].wrapS=THREE.RepeatWrapping),1!=h[1]))a[e].wrapT=THREE.RepeatWrapping;j&&a[e].offset.set(j[0],j[1]);if(m&&(h={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping},void 0!==h[m[0]]&&(a[e].wrapS=h[m[0]]),void 0!==h[m[1]]))a[e].wrapT=h[m[1]];var w=a[e],a=b+"/"+f,e=new Image;e.onload=function(){if(!c(this.width)||!c(this.height)){var a=d(this.width),b=d(this.height);w.image.width=a;w.image.height=b;w.image.getContext("2d").drawImage(this,0,0,a,b)}else w.image=this;w.needsUpdate=!0};e.crossOrigin=g.crossOrigin;e.src=a}function f(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]}var g=this,h="MeshLambertMaterial",j={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,wireframe:a.wireframe};if(a.shading){var m=a.shading.toLowerCase();"phong"===m?h="MeshPhongMaterial":"basic"===m&&(h="MeshBasicMaterial")}void 0!==a.blending&&void 0!==THREE[a.blending]&&(j.blending=THREE[a.blending]);if(void 0!==a.transparent||1>a.opacity)j.transparent=a.transparent;void 0!==a.depthTest&&(j.depthTest=a.depthTest);void 0!==a.depthWrite&&(j.depthWrite=a.depthWrite);void 0!==a.vertexColors&&("face"==a.vertexColors?j.vertexColors=THREE.FaceColors:a.vertexColors&&(j.vertexColors=THREE.VertexColors));a.colorDiffuse?j.color=f(a.colorDiffuse):a.DbgColor&& (j.color=a.DbgColor);a.colorSpecular&&(j.specular=f(a.colorSpecular));a.colorAmbient&&(j.ambient=f(a.colorAmbient));a.transparency&&(j.opacity=a.transparency);a.specularCoef&&(j.shininess=a.specularCoef);a.mapDiffuse&&b&&e(j,"map",a.mapDiffuse,a.mapDiffuseRepeat,a.mapDiffuseOffset,a.mapDiffuseWrap);a.mapLight&&b&&e(j,"lightMap",a.mapLight,a.mapLightRepeat,a.mapLightOffset,a.mapLightWrap);a.mapNormal&&b&&e(j,"normalMap",a.mapNormal,a.mapNormalRepeat,a.mapNormalOffset,a.mapNormalWrap);a.mapSpecular&& b&&e(j,"specularMap",a.mapSpecular,a.mapSpecularRepeat,a.mapSpecularOffset,a.mapSpecularWrap);a.mapNormal?(h=THREE.ShaderUtils.lib.normal,m=THREE.UniformsUtils.clone(h.uniforms),m.tNormal.texture=j.normalMap,a.mapNormalFactor&&(m.uNormalScale.value=a.mapNormalFactor),j.map&&(m.tDiffuse.texture=j.map,m.enableDiffuse.value=!0),j.specularMap&&(m.tSpecular.texture=j.specularMap,m.enableSpecular.value=!0),j.lightMap&&(m.tAO.texture=j.lightMap,m.enableAO.value=!0),m.uDiffuseColor.value.setHex(j.color), m.uSpecularColor.value.setHex(j.specular),m.uAmbientColor.value.setHex(j.ambient),m.uShininess.value=j.shininess,void 0!==j.opacity&&(m.uOpacity.value=j.opacity),j=new THREE.ShaderMaterial({fragmentShader:h.fragmentShader,vertexShader:h.vertexShader,uniforms:m,lights:!0,fog:!0})):j=new THREE[h](j);void 0!==a.DbgName&&(j.name=a.DbgName);return j}};THREE.BinaryLoader=function(a){THREE.Loader.call(this,a)};THREE.BinaryLoader.prototype=new THREE.Loader;THREE.BinaryLoader.prototype.constructor=THREE.BinaryLoader;THREE.BinaryLoader.prototype.load=function(a,b,c,d){var c=c?c:this.extractUrlBase(a),d=d?d:this.extractUrlBase(a),e=this.showProgress?THREE.Loader.prototype.updateProgress:null;this.onLoadStart();this.loadAjaxJSON(this,a,b,c,d,e)};THREE.BinaryLoader.prototype.loadAjaxJSON=function(a,b,c,d,e,f){var g=new XMLHttpRequest;g.onreadystatechange=function(){if(4==g.readyState)if(200==g.status||0==g.status){var h=JSON.parse(g.responseText);a.loadAjaxBuffers(h,c,e,d,f)}else console.error("THREE.BinaryLoader: Couldn't load ["+b+"] ["+g.status+"]")};g.open("GET",b,!0);g.overrideMimeType&&g.overrideMimeType("text/plain;charset=x-user-defined");g.setRequestHeader("Content-Type","text/plain");g.send(null)};THREE.BinaryLoader.prototype.loadAjaxBuffers=function(a,b,c,d,e){var f=new XMLHttpRequest,g=c+"/"+a.buffers,h=0;f.onreadystatechange=function(){4==f.readyState?200==f.status||0==f.status?THREE.BinaryLoader.prototype.createBinModel(f.response,b,d,a.materials):console.error("THREE.BinaryLoader: Couldn't load ["+g+"] ["+f.status+"]"):3==f.readyState?e&&(0==h&&(h=f.getResponseHeader("Content-Length")),e({total:h,loaded:f.responseText.length})):2==f.readyState&&(h=f.getResponseHeader("Content-Length"))};f.open("GET",g,!0);f.responseType="arraybuffer";f.send(null)};THREE.BinaryLoader.prototype.createBinModel=function(a,b,c,d){var e=function(b){function c(a){return a%4?4-a%4:0}function e(a,b){return(new Uint8Array(a,b,1))[0]}function j(a,b){return(new Uint32Array(a,b,1))[0]}function m(b,c){var d,e,f,g,h,j,k,l,m=new Uint32Array(a,c,3*b);for(d=0;d<b;d++){e=m[3*d];f=m[3*d+1];g=m[3*d+2];h=J[2*e];e=J[2*e+1];j=J[2*f];k=J[2*f+1];f=J[2*g];l=J[2*g+1];g=S.faceVertexUvs[0];var n=[];n.push(new THREE.UV(h,e));n.push(new THREE.UV(j,k));n.push(new THREE.UV(f,l));g.push(n)}}function l(b,c){var d,e,f,g,h,j,k,l,m,n,o=new Uint32Array(a,c,4*b);for(d=0;d<b;d++){e=o[4*d];f=o[4*d+1];g=o[4*d+2];h=o[4*d+3];j=J[2*e];e=J[2*e+1];k=J[2*f];m=J[2*f+1];l=J[2*g];n=J[2*g+1];g=J[2*h];f=J[2*h+1];h=S.faceVertexUvs[0];var q=[];q.push(new THREE.UV(j,e));q.push(new THREE.UV(k,m));q.push(new THREE.UV(l,n));q.push(new THREE.UV(g,f));h.push(q)}}function q(b,c,d){for(var e,f,g,h,c=new Uint32Array(a,c,3*b),j=new Uint16Array(a,d,b),d=0;d<b;d++)e=c[3*d],f=c[3*d+1],g=c[3*d+2],h=j[d],S.faces.push(new THREE.Face3(e, f,g,null,null,h))}function o(b,c,d){for(var e,f,g,h,j,c=new Uint32Array(a,c,4*b),k=new Uint16Array(a,d,b),d=0;d<b;d++)e=c[4*d],f=c[4*d+1],g=c[4*d+2],h=c[4*d+3],j=k[d],S.faces.push(new THREE.Face4(e,f,g,h,null,null,j))}function p(b,c,d,e){for(var f,g,h,j,k,l,m,c=new Uint32Array(a,c,3*b),d=new Uint32Array(a,d,3*b),n=new Uint16Array(a,e,b),e=0;e<b;e++){f=c[3*e];g=c[3*e+1];h=c[3*e+2];k=d[3*e];l=d[3*e+1];m=d[3*e+2];j=n[e];var o=K[3*l],q=K[3*l+1];l=K[3*l+2];var p=K[3*m],r=K[3*m+1];m=K[3*m+2];S.faces.push(new THREE.Face3(f, g,h,[new THREE.Vector3(K[3*k],K[3*k+1],K[3*k+2]),new THREE.Vector3(o,q,l),new THREE.Vector3(p,r,m)],null,j))}}function r(b,c,d,e){for(var f,g,h,j,k,l,m,n,o,c=new Uint32Array(a,c,4*b),d=new Uint32Array(a,d,4*b),q=new Uint16Array(a,e,b),e=0;e<b;e++){f=c[4*e];g=c[4*e+1];h=c[4*e+2];j=c[4*e+3];l=d[4*e];m=d[4*e+1];n=d[4*e+2];o=d[4*e+3];k=q[e];var p=K[3*m],r=K[3*m+1];m=K[3*m+2];var s=K[3*n],u=K[3*n+1];n=K[3*n+2];var x=K[3*o],w=K[3*o+1];o=K[3*o+2];S.faces.push(new THREE.Face4(f,g,h,j,[new THREE.Vector3(K[3*        l],K[3*l+1],K[3*l+2]),new THREE.Vector3(p,r,m),new THREE.Vector3(s,u,n),new THREE.Vector3(x,w,o)],null,k))}}var n,s,w,v,u,x,z,I,y,B,D,E,P,M,V,S=this,G=0,K=[],J=[],k,X,W;THREE.Geometry.call(this);THREE.Loader.prototype.initMaterials(S,d,b);n=a;P=G;n=new Uint8Array(n,P,12);u="";for(y=0;12>y;y++)u+=String.fromCharCode(n[P+y]);n=e(a,G+12);e(a,G+13);e(a,G+14);e(a,G+15);s=e(a,G+16);w=e(a,G+17);v=e(a,G+18);u=e(a,G+19);x=j(a,G+20);z=j(a,G+20+4);I=j(a,G+20+8);b=j(a,G+20+12);y=j(a,G+20+16);B=j(a,G+20+20);D=j(a,G+20+24);E=j(a,G+20+28);P=j(a,G+20+32);M=j(a,G+20+36);V=j(a,G+20+40);G+=n;n=3*s+u;W=4*s+u;k=b*n;X=y*(n+3*w);s=B*(n+3*v);u=D*(n+3*w+3*v);n=E*W;w=P*(W+4*w);v=M*(W+4*v);W=G;var G=new Float32Array(a,G,3*x),F,N,R,ea;for(F=0;F<x;F++)N=G[3*F],R=G[3*F+1],ea=G[3*F+2],S.vertices.push(new THREE.Vector3(N,R,ea));x=G=W+3*x*Float32Array.BYTES_PER_ELEMENT;if(z){G=new Int8Array(a,G,3*z);for(W=0;W<z;W++)F=G[3*W],N=G[3*W+1],R=G[3*W+2],K.push(F/127,N/127,R/127)}G=x+3*z*Int8Array.BYTES_PER_ELEMENT;z=G+=c(3*z);if(I){G=new Float32Array(a,G,2*I);for(x=0;x<I;x++)W=G[2*x],F=G[2*x+1],J.push(W,F)}G=z+2*I*Float32Array.BYTES_PER_ELEMENT;k=G+k+c(2*b);X=k+X+c(2*y);s=X+s+c(2*B);u=s+u+c(2*D);n=u+n+c(2*E);w=n+w+c(2*P);v=w+v+c(2*M);B&&(I=X+3*B*Uint32Array.BYTES_PER_ELEMENT,q(B,X,I+3*B*Uint32Array.BYTES_PER_ELEMENT),m(B,I));D&&(B=s+3*D*Uint32Array.BYTES_PER_ELEMENT,X=B+3*D*Uint32Array.BYTES_PER_ELEMENT,p(D,s,B,X+3*D*Uint32Array.BYTES_PER_ELEMENT),m(D,X));M&&(s=w+4*M*Uint32Array.BYTES_PER_ELEMENT,o(M,w,s+4*M*Uint32Array.BYTES_PER_ELEMENT), l(M,s));V&&(w=v+4*V*Uint32Array.BYTES_PER_ELEMENT,M=w+4*V*Uint32Array.BYTES_PER_ELEMENT,r(V,v,w,M+4*V*Uint32Array.BYTES_PER_ELEMENT),l(V,M));b&&q(b,G,G+3*b*Uint32Array.BYTES_PER_ELEMENT);y&&(b=k+3*y*Uint32Array.BYTES_PER_ELEMENT,p(y,k,b,b+3*y*Uint32Array.BYTES_PER_ELEMENT));E&&o(E,u,u+4*E*Uint32Array.BYTES_PER_ELEMENT);P&&(u=n+4*P*Uint32Array.BYTES_PER_ELEMENT,r(P,n,u,u+4*P*Uint32Array.BYTES_PER_ELEMENT));this.computeCentroids();this.computeFaceNormals();THREE.Loader.prototype.hasNormals(this)&&this.computeTangents()};e.prototype=new THREE.Geometry;e.prototype.constructor=e;b(new e(c))};THREE.JSONLoader=function(a){THREE.Loader.call(this,a)};THREE.JSONLoader.prototype=new THREE.Loader;THREE.JSONLoader.prototype.constructor=THREE.JSONLoader;THREE.JSONLoader.prototype.load=function(a,b,c){c=c?c:this.extractUrlBase(a);this.onLoadStart();this.loadAjaxJSON(this,a,b,c)};THREE.JSONLoader.prototype.loadAjaxJSON=function(a,b,c,d,e){var f=new XMLHttpRequest,g=0;f.onreadystatechange=function(){if(f.readyState===f.DONE)if(200===f.status||0===f.status){if(f.responseText){var h=JSON.parse(f.responseText);a.createModel(h,c,d)}else console.warn("THREE.JSONLoader: ["+b+"] seems to be unreachable or file there is empty");a.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load ["+b+"] ["+f.status+"]");else f.readyState===f.LOADING?e&&(0===g&&(g=f.getResponseHeader("Content-Length")), e({total:g,loaded:f.responseText.length})):f.readyState===f.HEADERS_RECEIVED&&(g=f.getResponseHeader("Content-Length"))};f.open("GET",b,!0);f.overrideMimeType&&f.overrideMimeType("text/plain;charset=x-user-defined");f.setRequestHeader("Content-Type","text/plain");f.send(null)};THREE.JSONLoader.prototype.createModel=function(a,b,c){var d=new THREE.Geometry,e=void 0!==a.scale?1/a.scale:1;this.initMaterials(d,a.materials,c);var c=e,f,g,h,j,m,l,q,o,p,r,n,s,w,v,u=a.faces;l=a.vertices;var x=a.normals,z=a.colors,I=0;for(f=0;f<a.uvs.length;f++)a.uvs[f].length&&I++;for(f=0;f<I;f++)d.faceUvs[f]=[],d.faceVertexUvs[f]=[];j=0;for(m=l.length;j<m;)q=new THREE.Vector3,q.x=l[j++]*c,q.y=l[j++]*c,q.z=l[j++]*c,d.vertices.push(q);j=0;for(m=u.length;j<m;){c=u[j++];l=c&1;h=c&2;f=c&4;g=c&8;o=c&16;q=c&32;r=c&64;c&=128;l?(n=new THREE.Face4,n.a=u[j++],n.b=u[j++],n.c=u[j++],n.d=u[j++],l=4):(n=new THREE.Face3,n.a=u[j++],n.b=u[j++],n.c=u[j++],l=3);h&&(h=u[j++],n.materialIndex=h);h=d.faces.length;if(f)for(f=0;f<I;f++)s=a.uvs[f],p=u[j++],v=s[2*p],p=s[2*p+1],d.faceUvs[f][h]=new THREE.UV(v,p);if(g)for(f=0;f<I;f++){s=a.uvs[f];w=[];for(g=0;g<l;g++)p=u[j++],v=s[2*p],p=s[2*p+1],w[g]=new THREE.UV(v,p);d.faceVertexUvs[f][h]=w}o&&(o=3*u[j++],g=new THREE.Vector3,g.x=x[o++],g.y=x[o++],g.z=x[o],n.normal=g);if(q)for(f=0;f<l;f++)o=3*u[j++],g=new THREE.Vector3,g.x=x[o++],g.y=x[o++],g.z=x[o],n.vertexNormals.push(g);r&&(q=u[j++],q=new THREE.Color(z[q]),n.color=q);if(c)for(f=0;f<l;f++)q=u[j++],q=new THREE.Color(z[q]),n.vertexColors.push(q);d.faces.push(n)}if(a.skinWeights){c=0;for(f=a.skinWeights.length;c<f;c+=2)g=a.skinWeights[c],h=a.skinWeights[c+1],d.skinWeights.push(new THREE.Vector4(g,h,0,0))}if(a.skinIndices){c=0;for(f=a.skinIndices.length;c<f;c+=2)g=a.skinIndices[c],h=a.skinIndices[c+1],d.skinIndices.push(new THREE.Vector4(g, h,0,0))}d.bones=a.bones;d.animation=a.animation;if(void 0!==a.morphTargets){c=0;for(f=a.morphTargets.length;c<f;c++){d.morphTargets[c]={};d.morphTargets[c].name=a.morphTargets[c].name;d.morphTargets[c].vertices=[];j=d.morphTargets[c].vertices;m=a.morphTargets[c].vertices;g=0;for(h=m.length;g<h;g+=3)l=new THREE.Vector3,l.x=m[g]*e,l.y=m[g+1]*e,l.z=m[g+2]*e,j.push(l)}}if(void 0!==a.morphColors){c=0;for(f=a.morphColors.length;c<f;c++){d.morphColors[c]={};d.morphColors[c].name=a.morphColors[c].name;d.morphColors[c].colors=[];h=d.morphColors[c].colors;j=a.morphColors[c].colors;e=0;for(g=j.length;e<g;e+=3)m=new THREE.Color(16755200),m.setRGB(j[e],j[e+1],j[e+2]),h.push(m)}}d.computeCentroids();d.computeFaceNormals();this.hasNormals(d)&&d.computeTangents();b(d)};THREE.SceneLoader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){};this.callbackSync=function(){};this.callbackProgress=function(){}};THREE.SceneLoader.prototype.constructor=THREE.SceneLoader;THREE.SceneLoader.prototype.load=function(a,b){var c=this,d=new XMLHttpRequest;d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status||0==d.status){var e=JSON.parse(d.responseText);c.createScene(e,b,a)}else console.error("THREE.SceneLoader: Couldn't load ["+a+"] ["+d.status+"]")};d.open("GET",a,!0);d.overrideMimeType&&d.overrideMimeType("text/plain;charset=x-user-defined");d.setRequestHeader("Content-Type","text/plain");d.send(null)};THREE.SceneLoader.prototype.createScene=function(a,b,c){function d(a,b){return"relativeToHTML"==b?a:m+"/"+a}function e(){var a;for(o in G.objects)if(!F.objects[o])if(w=G.objects[o],void 0!==w.geometry){if(P=F.geometries[w.geometry])M=F.materials[w.materials[0]],M instanceof THREE.ShaderMaterial&&P.computeTangents(),z=w.position,I=w.rotation,y=w.quaternion,B=w.scale,v=w.matrix,y=0,0==w.materials.length&&(M=new THREE.MeshFaceMaterial),1<w.materials.length&&(M=new THREE.MeshFaceMaterial),a=new THREE.Mesh(P, M),a.name=o,v?(a.matrixAutoUpdate=!1,a.matrix.set(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])):(a.position.set(z[0],z[1],z[2]),y?(a.quaternion.set(y[0],y[1],y[2],y[3]),a.useQuaternion=!0):a.rotation.set(I[0],I[1],I[2]),a.scale.set(B[0],B[1],B[2])),a.visible=w.visible,a.doubleSided=w.doubleSided,a.castShadow=w.castShadow,a.receiveShadow=w.receiveShadow,F.scene.add(a),F.objects[o]=a}else z=w.position,I=w.rotation,y=w.quaternion,B=w.scale,y=0,a=new THREE.Object3D, a.name=o,a.position.set(z[0],z[1],z[2]),y?(a.quaternion.set(y[0],y[1],y[2],y[3]),a.useQuaternion=!0):a.rotation.set(I[0],I[1],I[2]),a.scale.set(B[0],B[1],B[2]),a.visible=void 0!==w.visible?w.visible:!1,F.scene.add(a),F.objects[o]=a,F.empties[o]=a}function f(a){return function(b){F.geometries[a]=b;e();J-=1;j.onLoadComplete();h()}}function g(a){return function(b){F.geometries[a]=b}}function h(){j.callbackProgress({totalModels:X,totalTextures:W,loadedModels:X-J,loadedTextures:W-k},F);j.onLoadProgress();0==J&&0==k&&b(F)}var j=this,m=THREE.Loader.prototype.extractUrlBase(c),l,q,o,p,r,n,s,w,v,u,x,z,I,y,B,D,E,P,M,V,S,G,K,J,k,X,W,F;G=a;c=new THREE.BinaryLoader;K=new THREE.JSONLoader;k=J=0;F={scene:new THREE.Scene,geometries:{},materials:{},textures:{},objects:{},cameras:{},lights:{},fogs:{},empties:{}};if(G.transform&&(a=G.transform.position,u=G.transform.rotation,D=G.transform.scale,a&&F.scene.position.set(a[0],a[1],a[2]),u&&F.scene.rotation.set(u[0],u[1],u[2]),D&&F.scene.scale.set(D[0],D[1],D[2]), a||u||D))F.scene.updateMatrix(),F.scene.updateMatrixWorld();a=function(){k-=1;h();j.onLoadComplete()};for(r in G.cameras)D=G.cameras[r],"perspective"==D.type?V=new THREE.PerspectiveCamera(D.fov,D.aspect,D.near,D.far):"ortho"==D.type&&(V=new THREE.OrthographicCamera(D.left,D.right,D.top,D.bottom,D.near,D.far)),z=D.position,u=D.target,D=D.up,V.position.set(z[0],z[1],z[2]),V.target=new THREE.Vector3(u[0],u[1],u[2]),D&&V.up.set(D[0],D[1],D[2]),F.cameras[r]=V;for(p in G.lights)u=G.lights[p],r=void 0!==u.color?u.color:16777215,V=void 0!==u.intensity?u.intensity:1,"directional"==u.type?(z=u.direction,x=new THREE.DirectionalLight(r,V),x.position.set(z[0],z[1],z[2]),x.position.normalize()):"point"==u.type?(z=u.position,x=u.distance,x=new THREE.PointLight(r,V,x),x.position.set(z[0],z[1],z[2])):"ambient"==u.type&&(x=new THREE.AmbientLight(r)),F.scene.add(x),F.lights[p]=x;for(n in G.fogs)p=G.fogs[n],"linear"==p.type?S=new THREE.Fog(0,p.near,p.far):"exp2"==p.type&&(S=new THREE.FogExp2(0,p.density)),D=p.color,S.color.setRGB(D[0],D[1],D[2]),F.fogs[n]=S;F.cameras&&G.defaults.camera&&(F.currentCamera=F.cameras[G.defaults.camera]);F.fogs&&G.defaults.fog&&(F.scene.fog=F.fogs[G.defaults.fog]);D=G.defaults.bgcolor;F.bgColor=new THREE.Color;F.bgColor.setRGB(D[0],D[1],D[2]);F.bgColorAlpha=G.defaults.bgalpha;for(l in G.geometries)if(n=G.geometries[l],"bin_mesh"==n.type||"ascii_mesh"==n.type)J+=1,j.onLoadStart();X=J;for(l in G.geometries)n=G.geometries[l],"cube"==n.type?(P=new THREE.CubeGeometry(n.width, n.height,n.depth,n.segmentsWidth,n.segmentsHeight,n.segmentsDepth,null,n.flipped,n.sides),F.geometries[l]=P):"plane"==n.type?(P=new THREE.PlaneGeometry(n.width,n.height,n.segmentsWidth,n.segmentsHeight),F.geometries[l]=P):"sphere"==n.type?(P=new THREE.SphereGeometry(n.radius,n.segmentsWidth,n.segmentsHeight),F.geometries[l]=P):"cylinder"==n.type?(P=new THREE.CylinderGeometry(n.topRad,n.botRad,n.height,n.radSegs,n.heightSegs),F.geometries[l]=P):"torus"==n.type?(P=new THREE.TorusGeometry(n.radius,n.tube, n.segmentsR,n.segmentsT),F.geometries[l]=P):"icosahedron"==n.type?(P=new THREE.IcosahedronGeometry(n.radius,n.subdivisions),F.geometries[l]=P):"bin_mesh"==n.type?c.load(d(n.url,G.urlBaseType),f(l)):"ascii_mesh"==n.type?K.load(d(n.url,G.urlBaseType),f(l)):"embedded_mesh"==n.type&&(n=G.embeds[n.id],n.metadata=G.metadata,n&&K.createModel(n,g(l),""));for(s in G.textures)if(l=G.textures[s],l.url instanceof Array){k+=l.url.length;for(n=0;n<l.url.length;n++)j.onLoadStart()}else k+=1,j.onLoadStart();W=k;for(s in G.textures){l=G.textures[s];void 0!=l.mapping&&void 0!=THREE[l.mapping]&&(l.mapping=new THREE[l.mapping]);if(l.url instanceof Array){n=[];for(S=0;S<l.url.length;S++)n[S]=d(l.url[S],G.urlBaseType);n=THREE.ImageUtils.loadTextureCube(n,l.mapping,a)}else{n=THREE.ImageUtils.loadTexture(d(l.url,G.urlBaseType),l.mapping,a);void 0!=THREE[l.minFilter]&&(n.minFilter=THREE[l.minFilter]);void 0!=THREE[l.magFilter]&&(n.magFilter=THREE[l.magFilter]);if(l.repeat&&(n.repeat.set(l.repeat[0],l.repeat[1]), 1!=l.repeat[0]&&(n.wrapS=THREE.RepeatWrapping),1!=l.repeat[1]))n.wrapT=THREE.RepeatWrapping;l.offset&&n.offset.set(l.offset[0],l.offset[1]);if(l.wrap&&(S={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping},void 0!==S[l.wrap[0]]&&(n.wrapS=S[l.wrap[0]]),void 0!==S[l.wrap[1]]))n.wrapT=S[l.wrap[1]]}F.textures[s]=n}for(q in G.materials){v=G.materials[q];for(E in v.parameters)"envMap"==E||"map"==E||"lightMap"==E?v.parameters[E]=F.textures[v.parameters[E]]:"shading"==E?v.parameters[E]="flat"==v.parameters[E]?THREE.FlatShading:THREE.SmoothShading:"blending"==E?v.parameters[E]=THREE[v.parameters[E]]?THREE[v.parameters[E]]:THREE.NormalBlending:"combine"==E?v.parameters[E]="MixOperation"==v.parameters[E]?THREE.MixOperation:THREE.MultiplyOperation:"vertexColors"==E&&("face"==v.parameters[E]?v.parameters[E]=THREE.FaceColors:v.parameters[E]&&(v.parameters[E]=THREE.VertexColors));void 0!==v.parameters.opacity&&1>v.parameters.opacity&&(v.parameters.transparent=!0);v.parameters.normalMap?(s=THREE.ShaderUtils.lib.normal, a=THREE.UniformsUtils.clone(s.uniforms),l=v.parameters.color,n=v.parameters.specular,S=v.parameters.ambient,c=v.parameters.shininess,a.tNormal.texture=F.textures[v.parameters.normalMap],v.parameters.normalMapFactor&&(a.uNormalScale.value=v.parameters.normalMapFactor),v.parameters.map&&(a.tDiffuse.texture=v.parameters.map,a.enableDiffuse.value=!0),v.parameters.lightMap&&(a.tAO.texture=v.parameters.lightMap,a.enableAO.value=!0),v.parameters.specularMap&&(a.tSpecular.texture=F.textures[v.parameters.specularMap], a.enableSpecular.value=!0),a.uDiffuseColor.value.setHex(l),a.uSpecularColor.value.setHex(n),a.uAmbientColor.value.setHex(S),a.uShininess.value=c,v.parameters.opacity&&(a.uOpacity.value=v.parameters.opacity),M=new THREE.ShaderMaterial({fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:a,lights:!0,fog:!0})):M=new THREE[v.type](v.parameters);F.materials[q]=M}e();j.callbackSync(F);h()};THREE.Material=function(a){a=a||{};this.id=THREE.MaterialCount++;this.name="";this.opacity=void 0!==a.opacity?a.opacity:1;this.transparent=void 0!==a.transparent?a.transparent:!1;this.blending=void 0!==a.blending?a.blending:THREE.NormalBlending;this.blendSrc=void 0!==a.blendSrc?a.blendSrc:THREE.SrcAlphaFactor;this.blendDst=void 0!==a.blendDst?a.blendDst:THREE.OneMinusSrcAlphaFactor;this.blendEquation=void 0!==a.blendEquation?a.blendEquation:THREE.AddEquation;this.depthTest=void 0!==a.depthTest?a.depthTest:        !0;this.depthWrite=void 0!==a.depthWrite?a.depthWrite:!0;this.polygonOffset=void 0!==a.polygonOffset?a.polygonOffset:!1;this.polygonOffsetFactor=void 0!==a.polygonOffsetFactor?a.polygonOffsetFactor:0;this.polygonOffsetUnits=void 0!==a.polygonOffsetUnits?a.polygonOffsetUnits:0;this.alphaTest=void 0!==a.alphaTest?a.alphaTest:0;this.overdraw=void 0!==a.overdraw?a.overdraw:!1;this.needsUpdate=this.visible=!0};THREE.MaterialCount=0;THREE.NoShading=0;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;THREE.AdditiveAlphaBlending=5;THREE.CustomBlending=6;THREE.AddEquation=100;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;THREE.SrcAlphaSaturateFactor=210;THREE.LineBasicMaterial=function(a){THREE.Material.call(this,a);a=a||{};this.color=void 0!==a.color?new THREE.Color(a.color):new THREE.Color(16777215);this.linewidth=void 0!==a.linewidth?a.linewidth:1;this.linecap=void 0!==a.linecap?a.linecap:"round";this.linejoin=void 0!==a.linejoin?a.linejoin:"round";this.vertexColors=a.vertexColors?a.vertexColors:!1;this.fog=void 0!==a.fog?a.fog:!0};THREE.LineBasicMaterial.prototype=new THREE.Material;THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial;THREE.MeshBasicMaterial=function(a){THREE.Material.call(this,a);a=a||{};this.color=void 0!==a.color?new THREE.Color(a.color):new THREE.Color(16777215);this.map=void 0!==a.map?a.map:null;this.lightMap=void 0!==a.lightMap?a.lightMap:null;this.envMap=void 0!==a.envMap?a.envMap:null;this.combine=void 0!==a.combine?a.combine:THREE.MultiplyOperation;this.reflectivity=void 0!==a.reflectivity?a.reflectivity:1;this.refractionRatio=void 0!==a.refractionRatio?a.refractionRatio:0.98;this.fog=void 0!==a.fog?a.fog:        !0;this.shading=void 0!==a.shading?a.shading:THREE.SmoothShading;this.wireframe=void 0!==a.wireframe?a.wireframe:!1;this.wireframeLinewidth=void 0!==a.wireframeLinewidth?a.wireframeLinewidth:1;this.wireframeLinecap=void 0!==a.wireframeLinecap?a.wireframeLinecap:"round";this.wireframeLinejoin=void 0!==a.wireframeLinejoin?a.wireframeLinejoin:"round";this.vertexColors=void 0!==a.vertexColors?a.vertexColors:THREE.NoColors;this.skinning=void 0!==a.skinning?a.skinning:!1;this.morphTargets=void 0!==a.morphTargets?        a.morphTargets:!1};THREE.MeshBasicMaterial.prototype=new THREE.Material;THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial;THREE.MeshLambertMaterial=function(a){THREE.Material.call(this,a);a=a||{};this.color=void 0!==a.color?new THREE.Color(a.color):new THREE.Color(16777215);this.ambient=void 0!==a.ambient?new THREE.Color(a.ambient):new THREE.Color(16777215);this.emissive=void 0!==a.emissive?new THREE.Color(a.emissive):new THREE.Color(0);this.wrapAround=void 0!==a.wrapAround?a.wrapAround:!1;this.wrapRGB=new THREE.Vector3(1,1,1);this.map=void 0!==a.map?a.map:null;this.lightMap=void 0!==a.lightMap?a.lightMap:null;this.envMap=void 0!==a.envMap?a.envMap:null;this.combine=void 0!==a.combine?a.combine:THREE.MultiplyOperation;this.reflectivity=void 0!==a.reflectivity?a.reflectivity:1;this.refractionRatio=void 0!==a.refractionRatio?a.refractionRatio:0.98;this.fog=void 0!==a.fog?a.fog:!0;this.shading=void 0!==a.shading?a.shading:THREE.SmoothShading;this.wireframe=void 0!==a.wireframe?a.wireframe:!1;this.wireframeLinewidth=void 0!==a.wireframeLinewidth?a.wireframeLinewidth:1;this.wireframeLinecap=void 0!==a.wireframeLinecap?        a.wireframeLinecap:"round";this.wireframeLinejoin=void 0!==a.wireframeLinejoin?a.wireframeLinejoin:"round";this.vertexColors=void 0!==a.vertexColors?a.vertexColors:THREE.NoColors;this.skinning=void 0!==a.skinning?a.skinning:!1;this.morphTargets=void 0!==a.morphTargets?a.morphTargets:!1;this.morphNormals=void 0!==a.morphNormals?a.morphNormals:!1};THREE.MeshLambertMaterial.prototype=new THREE.Material;THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial;THREE.MeshPhongMaterial=function(a){THREE.Material.call(this,a);a=a||{};this.color=void 0!==a.color?new THREE.Color(a.color):new THREE.Color(16777215);this.ambient=void 0!==a.ambient?new THREE.Color(a.ambient):new THREE.Color(16777215);this.emissive=void 0!==a.emissive?new THREE.Color(a.emissive):new THREE.Color(0);this.specular=void 0!==a.specular?new THREE.Color(a.specular):new THREE.Color(1118481);this.shininess=void 0!==a.shininess?a.shininess:30;this.metal=void 0!==a.metal?a.metal:!1;this.perPixel=void 0!==a.perPixel?a.perPixel:!1;this.wrapAround=void 0!==a.wrapAround?a.wrapAround:!1;this.wrapRGB=new THREE.Vector3(1,1,1);this.map=void 0!==a.map?a.map:null;this.lightMap=void 0!==a.lightMap?a.lightMap:null;this.envMap=void 0!==a.envMap?a.envMap:null;this.combine=void 0!==a.combine?a.combine:THREE.MultiplyOperation;this.reflectivity=void 0!==a.reflectivity?a.reflectivity:1;this.refractionRatio=void 0!==a.refractionRatio?a.refractionRatio:0.98;this.fog=void 0!==a.fog?a.fog:!0;this.shading=void 0!==a.shading?a.shading:THREE.SmoothShading;this.wireframe=void 0!==a.wireframe?a.wireframe:!1;this.wireframeLinewidth=void 0!==a.wireframeLinewidth?a.wireframeLinewidth:1;this.wireframeLinecap=void 0!==a.wireframeLinecap?a.wireframeLinecap:"round";this.wireframeLinejoin=void 0!==a.wireframeLinejoin?a.wireframeLinejoin:"round";this.vertexColors=void 0!==a.vertexColors?a.vertexColors:THREE.NoColors;this.skinning=void 0!==a.skinning?a.skinning:!1;this.morphTargets=void 0!==a.morphTargets?a.morphTargets:        !1;this.morphNormals=void 0!==a.morphNormals?a.morphNormals:!1};THREE.MeshPhongMaterial.prototype=new THREE.Material;THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial;THREE.MeshDepthMaterial=function(a){THREE.Material.call(this,a);a=a||{};this.shading=void 0!==a.shading?a.shading:THREE.SmoothShading;this.wireframe=void 0!==a.wireframe?a.wireframe:!1;this.wireframeLinewidth=void 0!==a.wireframeLinewidth?a.wireframeLinewidth:1};THREE.MeshDepthMaterial.prototype=new THREE.Material;THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial;THREE.MeshNormalMaterial=function(a){THREE.Material.call(this,a);a=a||{};this.shading=a.shading?a.shading:THREE.FlatShading;this.wireframe=a.wireframe?a.wireframe:!1;this.wireframeLinewidth=a.wireframeLinewidth?a.wireframeLinewidth:1};THREE.MeshNormalMaterial.prototype=new THREE.Material;THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial;THREE.MeshFaceMaterial=function(){};THREE.ParticleBasicMaterial=function(a){THREE.Material.call(this,a);a=a||{};this.color=void 0!==a.color?new THREE.Color(a.color):new THREE.Color(16777215);this.map=void 0!==a.map?a.map:null;this.size=void 0!==a.size?a.size:1;this.sizeAttenuation=void 0!==a.sizeAttenuation?a.sizeAttenuation:!0;this.vertexColors=void 0!==a.vertexColors?a.vertexColors:!1;this.fog=void 0!==a.fog?a.fog:!0};THREE.ParticleBasicMaterial.prototype=new THREE.Material;THREE.ParticleBasicMaterial.prototype.constructor=THREE.ParticleBasicMaterial;THREE.ParticleCanvasMaterial=function(a){THREE.Material.call(this,a);a=a||{};this.color=void 0!==a.color?new THREE.Color(a.color):new THREE.Color(16777215);this.program=void 0!==a.program?a.program:function(){}};THREE.ParticleCanvasMaterial.prototype=new THREE.Material;THREE.ParticleCanvasMaterial.prototype.constructor=THREE.ParticleCanvasMaterial;THREE.ParticleDOMMaterial=function(a){THREE.Material.call(this);this.domElement=a};THREE.ShaderMaterial=function(a){THREE.Material.call(this,a);a=a||{};this.fragmentShader=void 0!==a.fragmentShader?a.fragmentShader:"void main(){}";this.vertexShader=void 0!==a.vertexShader?a.vertexShader:"void main(){}";this.uniforms=void 0!==a.uniforms?a.uniforms:{};this.attributes=a.attributes;this.shading=void 0!==a.shading?a.shading:THREE.SmoothShading;this.wireframe=void 0!==a.wireframe?a.wireframe:!1;this.wireframeLinewidth=void 0!==a.wireframeLinewidth?a.wireframeLinewidth:1;this.fog=void 0!==a.fog?a.fog:!1;this.lights=void 0!==a.lights?a.lights:!1;this.vertexColors=void 0!==a.vertexColors?a.vertexColors:THREE.NoColors;this.skinning=void 0!==a.skinning?a.skinning:!1;this.morphTargets=void 0!==a.morphTargets?a.morphTargets:!1;this.morphNormals=void 0!==a.morphNormals?a.morphNormals:!1};THREE.ShaderMaterial.prototype=new THREE.Material;THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial;THREE.Texture=function(a,b,c,d,e,f,g,h){this.id=THREE.TextureCount++;this.image=a;this.mapping=void 0!==b?b:new THREE.UVMapping;this.wrapS=void 0!==c?c:THREE.ClampToEdgeWrapping;this.wrapT=void 0!==d?d:THREE.ClampToEdgeWrapping;this.magFilter=void 0!==e?e:THREE.LinearFilter;this.minFilter=void 0!==f?f:THREE.LinearMipMapLinearFilter;this.format=void 0!==g?g:THREE.RGBAFormat;this.type=void 0!==h?h:THREE.UnsignedByteType;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=!0;this.needsUpdate=this.premultiplyAlpha=!1;this.onUpdate=null};THREE.Texture.prototype={constructor:THREE.Texture,clone:function(){var a=new THREE.Texture(this.image,this.mapping,this.wrapS,this.wrapT,this.magFilter,this.minFilter,this.format,this.type);a.offset.copy(this.offset);a.repeat.copy(this.repeat);return a}};THREE.TextureCount=0;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.UVMapping=function(){};THREE.CubeReflectionMapping=function(){};THREE.CubeRefractionMapping=function(){};THREE.SphericalReflectionMapping=function(){};THREE.SphericalRefractionMapping=function(){};THREE.RepeatWrapping=0;THREE.ClampToEdgeWrapping=1;THREE.MirroredRepeatWrapping=2;THREE.NearestFilter=3;THREE.NearestMipMapNearestFilter=4;THREE.NearestMipMapLinearFilter=5;THREE.LinearFilter=6;THREE.LinearMipMapNearestFilter=7;THREE.LinearMipMapLinearFilter=8;THREE.ByteType=9;THREE.UnsignedByteType=10;THREE.ShortType=11;THREE.UnsignedShortType=12;THREE.IntType=13;THREE.UnsignedIntType=14;THREE.FloatType=15;THREE.AlphaFormat=16;THREE.RGBFormat=17;THREE.RGBAFormat=18;THREE.LuminanceFormat=19;THREE.LuminanceAlphaFormat=20;THREE.DataTexture=function(a,b,c,d,e,f,g,h,j,m){THREE.Texture.call(this,null,f,g,h,j,m,d,e);this.image={data:a,width:b,height:c}};THREE.DataTexture.prototype=new THREE.Texture;THREE.DataTexture.prototype.constructor=THREE.DataTexture;THREE.DataTexture.prototype.clone=function(){var a=new THREE.DataTexture(this.image.data,this.image.width,this.image.height,this.format,this.type,this.mapping,this.wrapS,this.wrapT,this.magFilter,this.minFilter);a.offset.copy(this.offset);a.repeat.copy(this.repeat);return a};THREE.Particle=function(a){THREE.Object3D.call(this);this.material=a};THREE.Particle.prototype=new THREE.Object3D;THREE.Particle.prototype.constructor=THREE.Particle;THREE.ParticleSystem=function(a,b){THREE.Object3D.call(this);this.geometry=a;this.material=void 0!==b?b:new THREE.ParticleBasicMaterial({color:16777215*Math.random()});this.sortParticles=!1;this.geometry&&(this.geometry.boundingSphere||this.geometry.computeBoundingSphere(),this.boundRadius=a.boundingSphere.radius);this.frustumCulled=!1};THREE.ParticleSystem.prototype=new THREE.Object3D;THREE.ParticleSystem.prototype.constructor=THREE.ParticleSystem;THREE.Line=function(a,b,c){THREE.Object3D.call(this);this.geometry=a;this.material=void 0!==b?b:new THREE.LineBasicMaterial({color:16777215*Math.random()});this.type=void 0!==c?c:THREE.LineStrip;this.geometry&&(this.geometry.boundingSphere||this.geometry.computeBoundingSphere())};THREE.LineStrip=0;THREE.LinePieces=1;THREE.Line.prototype=new THREE.Object3D;THREE.Line.prototype.constructor=THREE.Line;THREE.Mesh=function(a,b){THREE.Object3D.call(this);this.geometry=a;this.material=void 0!==b?b:new THREE.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0});if(this.geometry&&(this.geometry.boundingSphere||this.geometry.computeBoundingSphere(),this.boundRadius=a.boundingSphere.radius,this.geometry.morphTargets.length)){this.morphTargetBase=-1;this.morphTargetForcedOrder=[];this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var c=0;c<this.geometry.morphTargets.length;c++)this.morphTargetInfluences.push(0), this.morphTargetDictionary[this.geometry.morphTargets[c].name]=c}};THREE.Mesh.prototype=new THREE.Object3D;THREE.Mesh.prototype.constructor=THREE.Mesh;THREE.Mesh.prototype.supr=THREE.Object3D.prototype;THREE.Mesh.prototype.getMorphTargetIndexByName=function(a){if(void 0!==this.morphTargetDictionary[a])return this.morphTargetDictionary[a];console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+a+" does not exist. Returning 0.");return 0};THREE.Bone=function(a){THREE.Object3D.call(this);this.skin=a;this.skinMatrix=new THREE.Matrix4};THREE.Bone.prototype=new THREE.Object3D;THREE.Bone.prototype.constructor=THREE.Bone;THREE.Bone.prototype.supr=THREE.Object3D.prototype;THREE.Bone.prototype.update=function(a,b){this.matrixAutoUpdate&&(b|=this.updateMatrix());if(b||this.matrixWorldNeedsUpdate)a?this.skinMatrix.multiply(a,this.matrix):this.skinMatrix.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,b=!0;var c,d=this.children.length;for(c=0;c<d;c++)this.children[c].update(this.skinMatrix,b)};THREE.SkinnedMesh=function(a,b){THREE.Mesh.call(this,a,b);this.identityMatrix=new THREE.Matrix4;this.bones=[];this.boneMatrices=[];var c,d,e,f,g,h;if(void 0!==this.geometry.bones){for(c=0;c<this.geometry.bones.length;c++)e=this.geometry.bones[c],f=e.pos,g=e.rotq,h=e.scl,d=this.addBone(),d.name=e.name,d.position.set(f[0],f[1],f[2]),d.quaternion.set(g[0],g[1],g[2],g[3]),d.useQuaternion=!0,void 0!==h?d.scale.set(h[0],h[1],h[2]):d.scale.set(1,1,1);for(c=0;c<this.bones.length;c++)e=this.geometry.bones[c], d=this.bones[c],-1===e.parent?this.add(d):this.bones[e.parent].add(d);this.boneMatrices=new Float32Array(16*this.bones.length);this.pose()}};THREE.SkinnedMesh.prototype=new THREE.Mesh;THREE.SkinnedMesh.prototype.constructor=THREE.SkinnedMesh;THREE.SkinnedMesh.prototype.addBone=function(a){void 0===a&&(a=new THREE.Bone(this));this.bones.push(a);return a};THREE.SkinnedMesh.prototype.updateMatrixWorld=function(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)this.parent?this.matrixWorld.multiply(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1;for(var a=0,b=this.children.length;a<b;a++){var c=this.children[a];c instanceof THREE.Bone?c.update(this.identityMatrix,!1):c.updateMatrixWorld(!0)}for(var b=this.bones.length,c=this.bones,d=this.boneMatrices,a=0;a<b;a++)c[a].skinMatrix.flattenToArrayOffset(d, 16*a)};THREE.SkinnedMesh.prototype.pose=function(){this.updateMatrixWorld(!0);for(var a,b=[],c=0;c<this.bones.length;c++){a=this.bones[c];var d=new THREE.Matrix4;d.getInverse(a.skinMatrix);b.push(d);a.skinMatrix.flattenToArrayOffset(this.boneMatrices,16*c)}if(void 0===this.geometry.skinVerticesA){this.geometry.skinVerticesA=[];this.geometry.skinVerticesB=[];for(a=0;a<this.geometry.skinIndices.length;a++){var c=this.geometry.vertices[a],e=this.geometry.skinIndices[a].x,f=this.geometry.skinIndices[a].y,d=new THREE.Vector3(c.x,c.y,c.z);this.geometry.skinVerticesA.push(b[e].multiplyVector3(d));d=new THREE.Vector3(c.x,c.y,c.z);this.geometry.skinVerticesB.push(b[f].multiplyVector3(d));1!==this.geometry.skinWeights[a].x+this.geometry.skinWeights[a].y&&(c=0.5*(1-(this.geometry.skinWeights[a].x+this.geometry.skinWeights[a].y)),this.geometry.skinWeights[a].x+=c,this.geometry.skinWeights[a].y+=c)}}};THREE.MorphAnimMesh=function(a,b){THREE.Mesh.call(this,a,b);this.duration=1E3;this.mirroredLoop=!1;this.currentKeyframe=this.lastKeyframe=this.time=0;this.direction=1;this.directionBackwards=!1;this.setFrameRange(0,this.geometry.morphTargets.length-1)};THREE.MorphAnimMesh.prototype=new THREE.Mesh;THREE.MorphAnimMesh.prototype.constructor=THREE.MorphAnimMesh;THREE.MorphAnimMesh.prototype.setFrameRange=function(a,b){this.startKeyframe=a;this.endKeyframe=b;this.length=this.endKeyframe-this.startKeyframe+1};THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1;this.directionBackwards=!1};THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1;this.directionBackwards=!0};THREE.MorphAnimMesh.prototype.parseAnimations=function(){var a=this.geometry;a.animations||(a.animations={});for(var b,c=a.animations,d=/([a-z]+)(\d+)/,e=0,f=a.morphTargets.length;e<f;e++){var g=a.morphTargets[e].name.match(d);if(g&&1<g.length){g=g[1];c[g]||(c[g]={start:Infinity,end:-Infinity});var h=c[g];e<h.start&&(h.start=e);e>h.end&&(h.end=e);b||(b=g)}}a.firstAnimation=b};THREE.MorphAnimMesh.prototype.setAnimationLabel=function(a,b,c){this.geometry.animations||(this.geometry.animations={});this.geometry.animations[a]={start:b,end:c}};THREE.MorphAnimMesh.prototype.playAnimation=function(a,b){var c=this.geometry.animations[a];c?(this.setFrameRange(c.start,c.end),this.duration=1E3*((c.end-c.start)/b),this.time=0):console.warn("animation["+a+"] undefined")};THREE.MorphAnimMesh.prototype.updateAnimation=function(a){var b=this.duration/this.length;this.time+=this.direction*a;if(this.mirroredLoop){if(this.time>this.duration||0>this.time)if(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),0>this.time)this.time=0,this.directionBackwards=!1}else this.time%=this.duration,0>this.time&&(this.time+=this.duration);a=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/b),0,this.length-1);a!==this.currentKeyframe&& (this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[a]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=a);b=this.time%b/b;this.directionBackwards&&(b=1-b);this.morphTargetInfluences[this.currentKeyframe]=b;this.morphTargetInfluences[this.lastKeyframe]=1-b};THREE.Ribbon=function(a,b){THREE.Object3D.call(this);this.geometry=a;this.material=b};THREE.Ribbon.prototype=new THREE.Object3D;THREE.Ribbon.prototype.constructor=THREE.Ribbon;THREE.LOD=function(){THREE.Object3D.call(this);this.LODs=[]};THREE.LOD.prototype=new THREE.Object3D;THREE.LOD.prototype.constructor=THREE.LOD;THREE.LOD.prototype.supr=THREE.Object3D.prototype;THREE.LOD.prototype.addLevel=function(a,b){void 0===b&&(b=0);for(var b=Math.abs(b),c=0;c<this.LODs.length&&!(b<this.LODs[c].visibleAtDistance);c++);this.LODs.splice(c,0,{visibleAtDistance:b,object3D:a});this.add(a)};THREE.LOD.prototype.update=function(a){if(1<this.LODs.length){a.matrixWorldInverse.getInverse(a.matrixWorld);a=a.matrixWorldInverse;a=-(a.elements[2]*this.matrixWorld.elements[12]+a.elements[6]*this.matrixWorld.elements[13]+a.elements[10]*this.matrixWorld.elements[14]+a.elements[14]);this.LODs[0].object3D.visible=!0;for(var b=1;b<this.LODs.length;b++)if(a>=this.LODs[b].visibleAtDistance)this.LODs[b-1].object3D.visible=!1,this.LODs[b].object3D.visible=!0;else break;for(;b<this.LODs.length;b++)this.LODs[b].object3D.visible=!1}};THREE.Sprite=function(a){THREE.Object3D.call(this);this.color=void 0!==a.color?new THREE.Color(a.color):new THREE.Color(16777215);this.map=void 0!==a.map?a.map:new THREE.Texture;this.blending=void 0!==a.blending?a.blending:THREE.NormalBlending;this.blendSrc=void 0!==a.blendSrc?a.blendSrc:THREE.SrcAlphaFactor;this.blendDst=void 0!==a.blendDst?a.blendDst:THREE.OneMinusSrcAlphaFactor;this.blendEquation=void 0!==a.blendEquation?a.blendEquation:THREE.AddEquation;this.useScreenCoordinates=void 0!==a.useScreenCoordinates?        a.useScreenCoordinates:!0;this.mergeWith3D=void 0!==a.mergeWith3D?a.mergeWith3D:!this.useScreenCoordinates;this.affectedByDistance=void 0!==a.affectedByDistance?a.affectedByDistance:!this.useScreenCoordinates;this.scaleByViewport=void 0!==a.scaleByViewport?a.scaleByViewport:!this.affectedByDistance;this.alignment=a.alignment instanceof THREE.Vector2?a.alignment:THREE.SpriteAlignment.center;this.rotation3d=this.rotation;this.rotation=0;this.opacity=1;this.uvOffset=new THREE.Vector2(0,0);this.uvScale=new THREE.Vector2(1,1)};THREE.Sprite.prototype=new THREE.Object3D;THREE.Sprite.prototype.constructor=THREE.Sprite;THREE.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);if(1!==this.scale.x||1!==this.scale.y)this.matrix.scale(this.scale),this.boundRadiusScale=Math.max(this.scale.x,this.scale.y);this.matrixWorldNeedsUpdate=!0};THREE.SpriteAlignment={};THREE.SpriteAlignment.topLeft=new THREE.Vector2(1,-1);THREE.SpriteAlignment.topCenter=new THREE.Vector2(0,-1);THREE.SpriteAlignment.topRight=new THREE.Vector2(-1,-1);THREE.SpriteAlignment.centerLeft=new THREE.Vector2(1,0);THREE.SpriteAlignment.center=new THREE.Vector2(0,0);THREE.SpriteAlignment.centerRight=new THREE.Vector2(-1,0);THREE.SpriteAlignment.bottomLeft=new THREE.Vector2(1,1);THREE.SpriteAlignment.bottomCenter=new THREE.Vector2(0,1);THREE.SpriteAlignment.bottomRight=new THREE.Vector2(-1,1);THREE.Scene=function(){THREE.Object3D.call(this);this.overrideMaterial=this.fog=null;this.matrixAutoUpdate=!1;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};THREE.Scene.prototype=new THREE.Object3D;THREE.Scene.prototype.constructor=THREE.Scene;THREE.Scene.prototype.__addObject=function(a){if(a instanceof THREE.Light)-1===this.__lights.indexOf(a)&&this.__lights.push(a);else if(!(a instanceof THREE.Camera||a instanceof THREE.Bone)&&-1===this.__objects.indexOf(a)){this.__objects.push(a);this.__objectsAdded.push(a);var b=this.__objectsRemoved.indexOf(a);-1!==b&&this.__objectsRemoved.splice(b,1)}for(b=0;b<a.children.length;b++)this.__addObject(a.children[b])};THREE.Scene.prototype.__removeObject=function(a){if(a instanceof THREE.Light){var b=this.__lights.indexOf(a);-1!==b&&this.__lights.splice(b,1)}else a instanceof THREE.Camera||(b=this.__objects.indexOf(a),-1!==b&&(this.__objects.splice(b,1),this.__objectsRemoved.push(a),b=this.__objectsAdded.indexOf(a),-1!==b&&this.__objectsAdded.splice(b,1)));for(b=0;b<a.children.length;b++)this.__removeObject(a.children[b])};THREE.Fog=function(a,b,c){this.color=new THREE.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3};THREE.FogExp2=function(a,b){this.color=new THREE.Color(a);this.density=void 0!==b?b:2.5E-4};THREE.DOMRenderer=function(){console.log("THREE.DOMRenderer",THREE.REVISION);var a,b,c,d,e,f,g,h=new THREE.Projector;a:{for(var j=["transform","MozTransform","WebkitTransform","msTransform","OTransform"],m=document.documentElement,l=0;l<j.length;l++)if("string"===typeof m.style[j[l]]){g=j[l];break a}g=null}this.domElement=document.createElement("div");this.setSize=function(a,b){c=a;d=b;e=c/2;f=d/2};this.render=function(c,d){var j,l,m,s,w,v;a=h.projectScene(c,d);b=a.elements;j=0;for(l=b.length;j<l;j++)m=b[j],m instanceof THREE.RenderableParticle&&m.material instanceof THREE.ParticleDOMMaterial&&(s=m.material.domElement,w=m.x*e+e-(s.offsetWidth>>1),v=m.y*f+f-(s.offsetHeight>>1),s.style.left=w+"px",s.style.top=v+"px",s.style.zIndex=Math.abs(Math.floor((1-m.z)*d.far/d.near)),g&&(s.style[g]="scale("+m.scale.x*e+","+m.scale.y*f+")"))}};THREE.CanvasRenderer=function(a){function b(a){v!=a&&(n.globalAlpha=v=a)}function c(a){if(u!=a){switch(a){case THREE.NormalBlending:n.globalCompositeOperation="source-over";break;case THREE.AdditiveBlending:n.globalCompositeOperation="lighter"}u=a}}function d(a){x!=a&&(n.strokeStyle=x=a)}function e(a){z!=a&&(n.fillStyle=z=a)}console.log("THREE.CanvasRenderer",THREE.REVISION);var a=a||{},f=this,g,h,j,m=new THREE.Projector,l=void 0!==a.canvas?a.canvas:document.createElement("canvas"),q,o,p,r,n=l.getContext("2d"), s=new THREE.Color(0),w=0,v=1,u=0,x=null,z=null,I=null,y=null,B=null,D,E,P,M,V=new THREE.RenderableVertex,S=new THREE.RenderableVertex,G,K,J,k,X,W,F,N,R,ea,ma,na,U=new THREE.Color,ba=new THREE.Color,da=new THREE.Color,ca=new THREE.Color,ja=new THREE.Color,Ca=[],Ra=[],Xa,bb,Ya,Sa,Pb,sb,Qb,lb,Jb,fc,cb=new THREE.Rectangle,Ha=new THREE.Rectangle,Da=new THREE.Rectangle,gb=!1,la=new THREE.Color,Za=new THREE.Color,Va=new THREE.Color,sa=new THREE.Vector3,pb,hb,gc,Wa,zc,Lc,a=16;pb=document.createElement("canvas");pb.width=pb.height=2;hb=pb.getContext("2d");hb.fillStyle="rgba(0,0,0,1)";hb.fillRect(0,0,2,2);gc=hb.getImageData(0,0,2,2);Wa=gc.data;zc=document.createElement("canvas");zc.width=zc.height=a;Lc=zc.getContext("2d");Lc.translate(-a/2,-a/2);Lc.scale(a,a);a--;this.domElement=l;this.sortElements=this.sortObjects=this.autoClear=!0;this.info={render:{vertices:0,faces:0}};this.setSize=function(a,b){q=a;o=b;p=Math.floor(q/2);r=Math.floor(o/2);l.width=q;l.height=o;cb.set(-p,-r,p,r);Ha.set(-p,-r,p,r);v=1;u=0;B=y=I=z=x=null};this.setClearColor=function(a,b){s.copy(a);w=void 0!==b?b:1;Ha.set(-p,-r,p,r)};this.setClearColorHex=function(a,b){s.setHex(a);w=void 0!==b?b:1;Ha.set(-p,-r,p,r)};this.clear=function(){n.setTransform(1,0,0,-1,p,r);Ha.isEmpty()||(Ha.minSelf(cb),Ha.inflate(2),1>w&&n.clearRect(Math.floor(Ha.getX()),Math.floor(Ha.getY()),Math.floor(Ha.getWidth()),Math.floor(Ha.getHeight())),0<w&&(c(THREE.NormalBlending),b(1),e("rgba("+Math.floor(255*s.r)+","+Math.floor(255*s.g)+","+Math.floor(255*s.b)+        ","+w+")"),n.fillRect(Math.floor(Ha.getX()),Math.floor(Ha.getY()),Math.floor(Ha.getWidth()),Math.floor(Ha.getHeight()))),Ha.empty())};this.render=function(a,l){function o(a,b,c,d){var e,f,g,h,j,k;e=0;for(f=a.length;e<f;e++)g=a[e],h=g.color,g instanceof THREE.DirectionalLight?(j=g.matrixWorld.getPosition(),k=c.dot(j),0>=k||(k*=g.intensity,d.r+=h.r*k,d.g+=h.g*k,d.b+=h.b*k)):g instanceof THREE.PointLight&&(j=g.matrixWorld.getPosition(),k=c.dot(sa.sub(j,b).normalize()),0>=k||(k*=0==g.distance?1:1-Math.min(b.distanceTo(j)/        g.distance,1),0!=k&&(k*=g.intensity,d.r+=h.r*k,d.g+=h.g*k,d.b+=h.b*k)))}function q(a,d,e,g,h,m,n,p){f.info.render.vertices+=3;f.info.render.faces++;b(p.opacity);c(p.blending);G=a.positionScreen.x;K=a.positionScreen.y;J=d.positionScreen.x;k=d.positionScreen.y;X=e.positionScreen.x;W=e.positionScreen.y;s(G,K,J,k,X,W);p instanceof THREE.MeshBasicMaterial?p.map?p.map.mapping instanceof THREE.UVMapping&&(Sa=n.uvs[0],v(G,K,J,k,X,W,Sa[g].u,Sa[g].v,Sa[h].u,Sa[h].v,Sa[m].u,Sa[m].v,p.map)):p.envMap?p.envMap.mapping instanceof        THREE.SphericalReflectionMapping&&(a=l.matrixWorldInverse,sa.copy(n.vertexNormalsWorld[g]),Pb=0.5*(sa.x*a.elements[0]+sa.y*a.elements[4]+sa.z*a.elements[8])+0.5,sb=0.5*-(sa.x*a.elements[1]+sa.y*a.elements[5]+sa.z*a.elements[9])+0.5,sa.copy(n.vertexNormalsWorld[h]),Qb=0.5*(sa.x*a.elements[0]+sa.y*a.elements[4]+sa.z*a.elements[8])+0.5,lb=0.5*-(sa.x*a.elements[1]+sa.y*a.elements[5]+sa.z*a.elements[9])+0.5,sa.copy(n.vertexNormalsWorld[m]),Jb=0.5*(sa.x*a.elements[0]+sa.y*a.elements[4]+sa.z*a.elements[8])+        0.5,fc=0.5*-(sa.x*a.elements[1]+sa.y*a.elements[5]+sa.z*a.elements[9])+0.5,v(G,K,J,k,X,W,Pb,sb,Qb,lb,Jb,fc,p.envMap)):p.wireframe?x(p.color,p.wireframeLinewidth,p.wireframeLinecap,p.wireframeLinejoin):w(p.color):p instanceof THREE.MeshLambertMaterial?gb?!p.wireframe&&p.shading==THREE.SmoothShading&&3==n.vertexNormalsWorld.length?(ba.r=da.r=ca.r=la.r,ba.g=da.g=ca.g=la.g,ba.b=da.b=ca.b=la.b,o(j,n.v1.positionWorld,n.vertexNormalsWorld[0],ba),o(j,n.v2.positionWorld,n.vertexNormalsWorld[1],da),o(j,n.v3.positionWorld, n.vertexNormalsWorld[2],ca),ba.r=Math.max(0,Math.min(p.color.r*ba.r,1)),ba.g=Math.max(0,Math.min(p.color.g*ba.g,1)),ba.b=Math.max(0,Math.min(p.color.b*ba.b,1)),da.r=Math.max(0,Math.min(p.color.r*da.r,1)),da.g=Math.max(0,Math.min(p.color.g*da.g,1)),da.b=Math.max(0,Math.min(p.color.b*da.b,1)),ca.r=Math.max(0,Math.min(p.color.r*ca.r,1)),ca.g=Math.max(0,Math.min(p.color.g*ca.g,1)),ca.b=Math.max(0,Math.min(p.color.b*ca.b,1)),ja.r=0.5*(da.r+ca.r),ja.g=0.5*(da.g+ca.g),ja.b=0.5*(da.b+ca.b),Ya=Mc(ba,da,ca, ja),z(G,K,J,k,X,W,0,0,1,0,0,1,Ya)):(U.r=la.r,U.g=la.g,U.b=la.b,o(j,n.centroidWorld,n.normalWorld,U),U.r=Math.max(0,Math.min(p.color.r*U.r,1)),U.g=Math.max(0,Math.min(p.color.g*U.g,1)),U.b=Math.max(0,Math.min(p.color.b*U.b,1)),p.wireframe?x(U,p.wireframeLinewidth,p.wireframeLinecap,p.wireframeLinejoin):w(U)):p.wireframe?x(p.color,p.wireframeLinewidth,p.wireframeLinecap,p.wireframeLinejoin):w(p.color):p instanceof THREE.MeshDepthMaterial?(Xa=l.near,bb=l.far,ba.r=ba.g=ba.b=1-hc(a.positionScreen.z,Xa, bb),da.r=da.g=da.b=1-hc(d.positionScreen.z,Xa,bb),ca.r=ca.g=ca.b=1-hc(e.positionScreen.z,Xa,bb),ja.r=0.5*(da.r+ca.r),ja.g=0.5*(da.g+ca.g),ja.b=0.5*(da.b+ca.b),Ya=Mc(ba,da,ca,ja),z(G,K,J,k,X,W,0,0,1,0,0,1,Ya)):p instanceof THREE.MeshNormalMaterial&&(U.r=pc(n.normalWorld.x),U.g=pc(n.normalWorld.y),U.b=pc(n.normalWorld.z),p.wireframe?x(U,p.wireframeLinewidth,p.wireframeLinecap,p.wireframeLinejoin):w(U))}function s(a,b,c,d,e,f){n.beginPath();n.moveTo(a,b);n.lineTo(c,d);n.lineTo(e,f);n.lineTo(a,b);n.closePath()}function u(a,b,c,d,e,f,g,h){n.beginPath();n.moveTo(a,b);n.lineTo(c,d);n.lineTo(e,f);n.lineTo(g,h);n.lineTo(a,b);n.closePath()}function x(a,b,c,e){I!=b&&(n.lineWidth=I=b);y!=c&&(n.lineCap=y=c);B!=e&&(n.lineJoin=B=e);d(a.getContextStyle());n.stroke();Da.inflate(2*b)}function w(a){e(a.getContextStyle());n.fill()}function v(a,b,c,d,f,g,h,j,k,l,m,o,p){if(0!=p.image.width){if(!0==p.needsUpdate||void 0==Ca[p.id]){var q=p.wrapS==THREE.RepeatWrapping,r=p.wrapT==THREE.RepeatWrapping;Ca[p.id]=n.createPattern(p.image, q&&r?"repeat":q&&!r?"repeat-x":!q&&r?"repeat-y":"no-repeat");p.needsUpdate=!1}e(Ca[p.id]);var q=p.offset.x/p.repeat.x,r=p.offset.y/p.repeat.y,Wa=p.image.width*p.repeat.x,s=p.image.height*p.repeat.y,h=(h+q)*Wa,j=(j+r)*s,c=c-a,d=d-b,f=f-a,g=g-b,k=(k+q)*Wa-h,l=(l+r)*s-j,m=(m+q)*Wa-h,o=(o+r)*s-j,q=k*o-m*l;0==q?(void 0===Ra[p.id]&&(b=document.createElement("canvas"),b.width=p.image.width,b.height=p.image.height,b=b.getContext("2d"),b.drawImage(p.image,0,0),Ra[p.id]=b.getImageData(0,0,p.image.width,p.image.height).data), b=Ra[p.id],h=4*(Math.floor(h)+Math.floor(j)*p.image.width),U.setRGB(b[h]/255,b[h+1]/255,b[h+2]/255),w(U)):(q=1/q,p=(o*c-l*f)*q,l=(o*d-l*g)*q,c=(k*f-m*c)*q,d=(k*g-m*d)*q,a=a-p*h-c*j,h=b-l*h-d*j,n.save(),n.transform(p,l,c,d,a,h),n.fill(),n.restore())}}function z(a,b,c,d,e,f,g,h,j,k,l,m,o){var p,q;p=o.width-1;q=o.height-1;g*=p;h*=q;c-=a;d-=b;e-=a;f-=b;j=j*p-g;k=k*q-h;l=l*p-g;m=m*q-h;q=1/(j*m-l*k);p=(m*c-k*e)*q;k=(m*d-k*f)*q;c=(j*e-l*c)*q;d=(j*f-l*d)*q;a=a-p*g-c*h;b=b-k*g-d*h;n.save();n.transform(p,k, c,d,a,b);n.clip();n.drawImage(o,0,0);n.restore()}function Mc(a,b,c,d){var e=~~(255*a.r),f=~~(255*a.g),a=~~(255*a.b),g=~~(255*b.r),h=~~(255*b.g),b=~~(255*b.b),j=~~(255*c.r),k=~~(255*c.g),c=~~(255*c.b),l=~~(255*d.r),m=~~(255*d.g),d=~~(255*d.b);Wa[0]=0>e?0:255<e?255:e;Wa[1]=0>f?0:255<f?255:f;Wa[2]=0>a?0:255<a?255:a;Wa[4]=0>g?0:255<g?255:g;Wa[5]=0>h?0:255<h?255:h;Wa[6]=0>b?0:255<b?255:b;Wa[8]=0>j?0:255<j?255:j;Wa[9]=0>k?0:255<k?255:k;Wa[10]=0>c?0:255<c?255:c;Wa[12]=0>l?0:255<l?255:l;Wa[13]=0>m?0:255<        m?255:m;Wa[14]=0>d?0:255<d?255:d;hb.putImageData(gc,0,0);Lc.drawImage(pb,0,0);return zc}function hc(a,b,c){a=(a-b)/(c-b);return a*a*(3-2*a)}function pc(a){a=0.5*(a+1);return 0>a?0:1<a?1:a}function Rb(a,b){var c=b.x-a.x,d=b.y-a.y,e=c*c+d*d;0!=e&&(e=1/Math.sqrt(e),c*=e,d*=e,b.x+=c,b.y+=d,a.x-=c,a.y-=d)}var ic,qc,ia,T;this.autoClear?this.clear():n.setTransform(1,0,0,-1,p,r);f.info.render.vertices=0;f.info.render.faces=0;g=m.projectScene(a,l,this.sortElements);h=g.elements;j=g.lights;if(gb=0<j.length){ic=j;var oa,Ia;la.setRGB(0,0,0);Za.setRGB(0,0,0);Va.setRGB(0,0,0);qc=0;for(T=ic.length;qc<T;qc++)oa=ic[qc],Ia=oa.color,oa instanceof THREE.AmbientLight?(la.r+=Ia.r,la.g+=Ia.g,la.b+=Ia.b):oa instanceof THREE.DirectionalLight?(Za.r+=Ia.r,Za.g+=Ia.g,Za.b+=Ia.b):oa instanceof THREE.PointLight&&(Va.r+=Ia.r,Va.g+=Ia.g,Va.b+=Ia.b)}ic=0;for(qc=h.length;ic<qc;ic++)if(ia=h[ic],T=ia.material,T=T instanceof THREE.MeshFaceMaterial?ia.faceMaterial:T,!(void 0===T||!1===T.visible)){Da.empty();if(ia instanceof THREE.RenderableParticle){D=ia;D.x*=p;D.y*=r;oa=D;Ia=ia;b(T.opacity);c(T.blending);var mb=void 0,nb=void 0,jc=void 0,Sb=void 0,rc=ia=void 0;T instanceof THREE.ParticleBasicMaterial?T.map&&(Sb=T.map.image,ia=Sb.width>>1,rc=Sb.height>>1,T=Ia.scale.x*p,jc=Ia.scale.y*r,mb=T*ia,nb=jc*rc,Da.set(oa.x-mb,oa.y-nb,oa.x+mb,oa.y+nb),cb.intersects(Da)&&(n.save(),n.translate(oa.x,oa.y),n.rotate(-Ia.rotation),n.scale(T,-jc),n.translate(-ia,-rc),n.drawImage(Sb,0,0),n.restore())):T instanceof THREE.ParticleCanvasMaterial&&(mb=Ia.scale.x*p,nb=Ia.scale.y*r,Da.set(oa.x-mb,oa.y-nb,oa.x+mb,oa.y+nb),cb.intersects(Da)&&(d(T.color.getContextStyle()),e(T.color.getContextStyle()),n.save(),n.translate(oa.x,oa.y),n.rotate(-Ia.rotation),n.scale(mb,nb),T.program(n),n.restore()))}else if(ia instanceof THREE.RenderableLine){if(D=ia.v1,E=ia.v2,D.positionScreen.x*=p,D.positionScreen.y*=r,E.positionScreen.x*=p,E.positionScreen.y*=r,Da.addPoint(D.positionScreen.x,D.positionScreen.y),Da.addPoint(E.positionScreen.x,E.positionScreen.y),cb.intersects(Da)&&(oa=D,Ia=E,b(T.opacity),c(T.blending),n.beginPath(),n.moveTo(oa.positionScreen.x,oa.positionScreen.y),n.lineTo(Ia.positionScreen.x,Ia.positionScreen.y),n.closePath(),T instanceof THREE.LineBasicMaterial))oa=T.linewidth,I!=oa&&(n.lineWidth=I=oa),oa=T.linecap,y!=oa&&(n.lineCap=y=oa),oa=T.linejoin,B!=oa&&(n.lineJoin=B=oa),d(T.color.getContextStyle()),n.stroke(),Da.inflate(2*T.linewidth)}else if(ia instanceof THREE.RenderableFace3)D=ia.v1,E=ia.v2,P=ia.v3,D.positionScreen.x*=p,D.positionScreen.y*=r,E.positionScreen.x*=p,E.positionScreen.y*=r,P.positionScreen.x*=p,P.positionScreen.y*=r,T.overdraw&&(Rb(D.positionScreen,E.positionScreen),Rb(E.positionScreen,P.positionScreen),Rb(P.positionScreen,D.positionScreen)),Da.add3Points(D.positionScreen.x,D.positionScreen.y,E.positionScreen.x,E.positionScreen.y,P.positionScreen.x,P.positionScreen.y),cb.intersects(Da)&&q(D,E,P,0,1,2,ia,T,a);else if(ia instanceof THREE.RenderableFace4&&(D=ia.v1,E=ia.v2,P=ia.v3,M=ia.v4,D.positionScreen.x*=p,D.positionScreen.y*=r,E.positionScreen.x*=p,E.positionScreen.y*=r,P.positionScreen.x*=p,P.positionScreen.y*=r,M.positionScreen.x*=p,M.positionScreen.y*=r,V.positionScreen.copy(E.positionScreen),S.positionScreen.copy(M.positionScreen),T.overdraw&&(Rb(D.positionScreen,E.positionScreen),Rb(E.positionScreen,M.positionScreen),Rb(M.positionScreen,D.positionScreen),Rb(P.positionScreen,V.positionScreen),Rb(P.positionScreen,S.positionScreen)),Da.addPoint(D.positionScreen.x,D.positionScreen.y),Da.addPoint(E.positionScreen.x,E.positionScreen.y),Da.addPoint(P.positionScreen.x, P.positionScreen.y),Da.addPoint(M.positionScreen.x,M.positionScreen.y),cb.intersects(Da)))oa=D,Ia=E,mb=P,nb=M,jc=V,Sb=S,rc=a,f.info.render.vertices+=4,f.info.render.faces++,b(T.opacity),c(T.blending),T.map||T.envMap?(q(oa,Ia,nb,0,1,3,ia,T,rc),q(jc,mb,Sb,1,2,3,ia,T,rc)):(G=oa.positionScreen.x,K=oa.positionScreen.y,J=Ia.positionScreen.x,k=Ia.positionScreen.y,X=mb.positionScreen.x,W=mb.positionScreen.y,F=nb.positionScreen.x,N=nb.positionScreen.y,R=jc.positionScreen.x,ea=jc.positionScreen.y,ma=Sb.positionScreen.x, na=Sb.positionScreen.y,T instanceof THREE.MeshBasicMaterial?(u(G,K,J,k,X,W,F,N),T.wireframe?x(T.color,T.wireframeLinewidth,T.wireframeLinecap,T.wireframeLinejoin):w(T.color)):T instanceof THREE.MeshLambertMaterial?gb?!T.wireframe&&T.shading==THREE.SmoothShading&&4==ia.vertexNormalsWorld.length?(ba.r=da.r=ca.r=ja.r=la.r,ba.g=da.g=ca.g=ja.g=la.g,ba.b=da.b=ca.b=ja.b=la.b,o(j,ia.v1.positionWorld,ia.vertexNormalsWorld[0],ba),o(j,ia.v2.positionWorld,ia.vertexNormalsWorld[1],da),o(j,ia.v4.positionWorld, ia.vertexNormalsWorld[3],ca),o(j,ia.v3.positionWorld,ia.vertexNormalsWorld[2],ja),ba.r=Math.max(0,Math.min(T.color.r*ba.r,1)),ba.g=Math.max(0,Math.min(T.color.g*ba.g,1)),ba.b=Math.max(0,Math.min(T.color.b*ba.b,1)),da.r=Math.max(0,Math.min(T.color.r*da.r,1)),da.g=Math.max(0,Math.min(T.color.g*da.g,1)),da.b=Math.max(0,Math.min(T.color.b*da.b,1)),ca.r=Math.max(0,Math.min(T.color.r*ca.r,1)),ca.g=Math.max(0,Math.min(T.color.g*ca.g,1)),ca.b=Math.max(0,Math.min(T.color.b*ca.b,1)),ja.r=Math.max(0,Math.min(T.color.r*        ja.r,1)),ja.g=Math.max(0,Math.min(T.color.g*ja.g,1)),ja.b=Math.max(0,Math.min(T.color.b*ja.b,1)),Ya=Mc(ba,da,ca,ja),s(G,K,J,k,F,N),z(G,K,J,k,F,N,0,0,1,0,0,1,Ya),s(R,ea,X,W,ma,na),z(R,ea,X,W,ma,na,1,0,1,1,0,1,Ya)):(U.r=la.r,U.g=la.g,U.b=la.b,o(j,ia.centroidWorld,ia.normalWorld,U),U.r=Math.max(0,Math.min(T.color.r*U.r,1)),U.g=Math.max(0,Math.min(T.color.g*U.g,1)),U.b=Math.max(0,Math.min(T.color.b*U.b,1)),u(G,K,J,k,X,W,F,N),T.wireframe?x(U,T.wireframeLinewidth,T.wireframeLinecap,T.wireframeLinejoin):        w(U)):(u(G,K,J,k,X,W,F,N),T.wireframe?x(T.color,T.wireframeLinewidth,T.wireframeLinecap,T.wireframeLinejoin):w(T.color)):T instanceof THREE.MeshNormalMaterial?(U.r=pc(ia.normalWorld.x),U.g=pc(ia.normalWorld.y),U.b=pc(ia.normalWorld.z),u(G,K,J,k,X,W,F,N),T.wireframe?x(U,T.wireframeLinewidth,T.wireframeLinecap,T.wireframeLinejoin):w(U)):T instanceof THREE.MeshDepthMaterial&&(Xa=l.near,bb=l.far,ba.r=ba.g=ba.b=1-hc(oa.positionScreen.z,Xa,bb),da.r=da.g=da.b=1-hc(Ia.positionScreen.z,Xa,bb),ca.r=ca.g=ca.b=1-hc(nb.positionScreen.z,Xa,bb),ja.r=ja.g=ja.b=1-hc(mb.positionScreen.z,Xa,bb),Ya=Mc(ba,da,ca,ja),s(G,K,J,k,F,N),z(G,K,J,k,F,N,0,0,1,0,0,1,Ya),s(R,ea,X,W,ma,na),z(R,ea,X,W,ma,na,1,0,1,1,0,1,Ya)));Ha.addRectangle(Da)}n.setTransform(1,0,0,1,0,0)}};THREE.SVGRenderer=function(){function a(a,b,c,d){var e,f,g,h,j,l;e=0;for(f=a.length;e<f;e++)g=a[e],h=g.color,g instanceof THREE.DirectionalLight?(j=g.matrixWorld.getPosition(),l=c.dot(j),0>=l||(l*=g.intensity,d.r+=h.r*l,d.g+=h.g*l,d.b+=h.b*l)):g instanceof THREE.PointLight&&(j=g.matrixWorld.getPosition(),l=c.dot(D.sub(j,b).normalize()),0>=l||(l*=0==g.distance?1:1-Math.min(b.distanceTo(j)/g.distance,1),0!=l&&(l*=g.intensity,d.r+=h.r*l,d.g+=h.g*l,d.b+=h.b*l)))}function b(a){null==E[a]&&(E[a]=document.createElementNS("http://www.w3.org/2000/svg", "path"),0==G&&E[a].setAttribute("shape-rendering","crispEdges"));return E[a]}function c(a){a=0.5*(a+1);return 0>a?0:1<a?1:a}console.log("THREE.SVGRenderer",THREE.REVISION);var d=this,e,f,g,h=new THREE.Projector,j=document.createElementNS("http://www.w3.org/2000/svg","svg"),m,l,q,o,p,r,n,s,w=new THREE.Rectangle,v=new THREE.Rectangle,u=!1,x=new THREE.Color,z=new THREE.Color,I=new THREE.Color,y=new THREE.Color,B,D=new THREE.Vector3,E=[],P=[],M,V,S,G=1;this.domElement=j;this.sortElements=this.sortObjects=this.autoClear=!0;this.info={render:{vertices:0,faces:0}};this.setQuality=function(a){switch(a){case "high":G=1;break;case "low":G=0}};this.setSize=function(a,b){m=a;l=b;q=m/2;o=l/2;j.setAttribute("viewBox",-q+" "+-o+" "+m+" "+l);j.setAttribute("width",m);j.setAttribute("height",l);w.set(-q,-o,q,o)};this.clear=function(){for(;0<j.childNodes.length;)j.removeChild(j.childNodes[0])};this.render=function(l,m){var k,D,E,F;this.autoClear&&this.clear();d.info.render.vertices=0;d.info.render.faces=0;e=h.projectScene(l, m,this.sortElements);f=e.elements;g=e.lights;S=V=0;if(u=0<g.length){z.setRGB(0,0,0);I.setRGB(0,0,0);y.setRGB(0,0,0);k=0;for(D=g.length;k<D;k++)F=g[k],E=F.color,F instanceof THREE.AmbientLight?(z.r+=E.r,z.g+=E.g,z.b+=E.b):F instanceof THREE.DirectionalLight?(I.r+=E.r,I.g+=E.g,I.b+=E.b):F instanceof THREE.PointLight&&(y.r+=E.r,y.g+=E.g,y.b+=E.b)}k=0;for(D=f.length;k<D;k++)if(E=f[k],F=E.material,F=F instanceof THREE.MeshFaceMaterial?E.faceMaterial:F,!(void 0===F||!1===F.visible))if(v.empty(),E instanceof        THREE.RenderableParticle)p=E,p.x*=q,p.y*=-o;else if(E instanceof THREE.RenderableLine){if(p=E.v1,r=E.v2,p.positionScreen.x*=q,p.positionScreen.y*=-o,r.positionScreen.x*=q,r.positionScreen.y*=-o,v.addPoint(p.positionScreen.x,p.positionScreen.y),v.addPoint(r.positionScreen.x,r.positionScreen.y),w.intersects(v)){E=p;var N=r,R=S++;null==P[R]&&(P[R]=document.createElementNS("http://www.w3.org/2000/svg","line"),0==G&&P[R].setAttribute("shape-rendering","crispEdges"));M=P[R];M.setAttribute("x1",E.positionScreen.x);M.setAttribute("y1",E.positionScreen.y);M.setAttribute("x2",N.positionScreen.x);M.setAttribute("y2",N.positionScreen.y);F instanceof THREE.LineBasicMaterial&&(M.setAttribute("style","fill: none;stroke: "+F.color.getContextStyle()+";stroke-width: "+F.linewidth+";stroke-opacity: "+F.opacity+";stroke-linecap: "+F.linecap+";stroke-linejoin: "+F.linejoin),j.appendChild(M))}}else if(E instanceof THREE.RenderableFace3){if(p=E.v1,r=E.v2,n=E.v3,p.positionScreen.x*=q,p.positionScreen.y*=-o,r.positionScreen.x*=q,r.positionScreen.y*=-o,n.positionScreen.x*=q,n.positionScreen.y*=-o,v.addPoint(p.positionScreen.x,p.positionScreen.y),v.addPoint(r.positionScreen.x,r.positionScreen.y),v.addPoint(n.positionScreen.x,n.positionScreen.y),w.intersects(v)){var N=p,R=r,ea=n;d.info.render.vertices+=3;d.info.render.faces++;M=b(V++);M.setAttribute("d","M "+N.positionScreen.x+" "+N.positionScreen.y+" L "+R.positionScreen.x+" "+R.positionScreen.y+" L "+ea.positionScreen.x+","+ea.positionScreen.y+"z");F instanceof THREE.MeshBasicMaterial?        x.copy(F.color):F instanceof THREE.MeshLambertMaterial?u?(x.r=z.r,x.g=z.g,x.b=z.b,a(g,E.centroidWorld,E.normalWorld,x),x.r=Math.max(0,Math.min(F.color.r*x.r,1)),x.g=Math.max(0,Math.min(F.color.g*x.g,1)),x.b=Math.max(0,Math.min(F.color.b*x.b,1))):x.copy(F.color):F instanceof THREE.MeshDepthMaterial?(B=1-F.__2near/(F.__farPlusNear-E.z*F.__farMinusNear),x.setRGB(B,B,B)):F instanceof THREE.MeshNormalMaterial&&x.setRGB(c(E.normalWorld.x),c(E.normalWorld.y),c(E.normalWorld.z));F.wireframe?M.setAttribute("style", "fill: none;stroke: "+x.getContextStyle()+";stroke-width: "+F.wireframeLinewidth+";stroke-opacity: "+F.opacity+";stroke-linecap: "+F.wireframeLinecap+";stroke-linejoin: "+F.wireframeLinejoin):M.setAttribute("style","fill: "+x.getContextStyle()+";fill-opacity: "+F.opacity);j.appendChild(M)}}else if(E instanceof THREE.RenderableFace4&&(p=E.v1,r=E.v2,n=E.v3,s=E.v4,p.positionScreen.x*=q,p.positionScreen.y*=-o,r.positionScreen.x*=q,r.positionScreen.y*=-o,n.positionScreen.x*=q,n.positionScreen.y*=-o,s.positionScreen.x*=q,s.positionScreen.y*=-o,v.addPoint(p.positionScreen.x,p.positionScreen.y),v.addPoint(r.positionScreen.x,r.positionScreen.y),v.addPoint(n.positionScreen.x,n.positionScreen.y),v.addPoint(s.positionScreen.x,s.positionScreen.y),w.intersects(v))){var N=p,R=r,ea=n,ma=s;d.info.render.vertices+=4;d.info.render.faces++;M=b(V++);M.setAttribute("d","M "+N.positionScreen.x+" "+N.positionScreen.y+" L "+R.positionScreen.x+" "+R.positionScreen.y+" L "+ea.positionScreen.x+","+ea.positionScreen.y+        " L "+ma.positionScreen.x+","+ma.positionScreen.y+"z");F instanceof THREE.MeshBasicMaterial?x.copy(F.color):F instanceof THREE.MeshLambertMaterial?u?(x.r=z.r,x.g=z.g,x.b=z.b,a(g,E.centroidWorld,E.normalWorld,x),x.r=Math.max(0,Math.min(F.color.r*x.r,1)),x.g=Math.max(0,Math.min(F.color.g*x.g,1)),x.b=Math.max(0,Math.min(F.color.b*x.b,1))):x.copy(F.color):F instanceof THREE.MeshDepthMaterial?(B=1-F.__2near/(F.__farPlusNear-E.z*F.__farMinusNear),x.setRGB(B,B,B)):F instanceof THREE.MeshNormalMaterial&& x.setRGB(c(E.normalWorld.x),c(E.normalWorld.y),c(E.normalWorld.z));F.wireframe?M.setAttribute("style","fill: none;stroke: "+x.getContextStyle()+";stroke-width: "+F.wireframeLinewidth+";stroke-opacity: "+F.opacity+";stroke-linecap: "+F.wireframeLinecap+";stroke-linejoin: "+F.wireframeLinejoin):M.setAttribute("style","fill: "+x.getContextStyle()+";fill-opacity: "+F.opacity);j.appendChild(M)}}};THREE.ShaderChunk={fog_pars_fragment:"#ifdef USE_FOG\nuniform vec3 fogColor;\n#ifdef FOG_EXP2\nuniform float fogDensity;\n#else\nuniform float fogNear;\nuniform float fogFar;\n#endif\n#endif",fog_fragment:"#ifdef USE_FOG\nfloat depth=gl_FragCoord.z / gl_FragCoord.w;\n#ifdef FOG_EXP2\nconst float LOG2=1.442695;\nfloat fogFactor=exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor=1.0 - clamp( fogFactor, 0.0, 1.0 );\n#else\nfloat fogFactor=smoothstep( fogNear, fogFar, depth );\n#endif\ngl_FragColor=mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n#endif", envmap_pars_fragment:"#ifdef USE_ENVMAP\nvarying vec3 vReflect;\nuniform float reflectivity;\nuniform samplerCube envMap;\nuniform float flipEnvMap;\nuniform int combine;\n#endif",envmap_fragment:"#ifdef USE_ENVMAP\n#ifdef DOUBLE_SIDED\nfloat flipNormal=( -1.0 + 2.0 * float( gl_FrontFacing ) );\nvec4 cubeColor=textureCube( envMap, flipNormal * vec3( flipEnvMap * vReflect.x, vReflect.yz ) );\n#else\nvec4 cubeColor=textureCube( envMap, vec3( flipEnvMap * vReflect.x, vReflect.yz ) );\n#endif\n#ifdef GAMMA_INPUT\ncubeColor.xyz *=cubeColor.xyz;\n#endif\nif ( combine==1 ){\ngl_FragColor.xyz=mix( gl_FragColor.xyz, cubeColor.xyz, reflectivity );\n}else{\ngl_FragColor.xyz=gl_FragColor.xyz * cubeColor.xyz;\n}\n#endif", envmap_pars_vertex:"#ifdef USE_ENVMAP\nvarying vec3 vReflect;\nuniform float refractionRatio;\nuniform bool useRefract;\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\nvec4 mPosition=objectMatrix * vec4( position, 1.0 );\nvec3 nWorld=mat3( objectMatrix[ 0 ].xyz, objectMatrix[ 1 ].xyz, objectMatrix[ 2 ].xyz ) * normal;\nif ( useRefract ){\nvReflect=refract( normalize( mPosition.xyz - cameraPosition ), normalize( nWorld.xyz ), refractionRatio );\n}else{\nvReflect=reflect( normalize( mPosition.xyz - cameraPosition ), normalize( nWorld.xyz ) );\n}\n#endif", map_particle_pars_fragment:"#ifdef USE_MAP\nuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\ngl_FragColor=gl_FragColor * texture2D( map, gl_PointCoord );\n#endif",map_pars_vertex:"#ifdef USE_MAP\nvarying vec2 vUv;\nuniform vec4 offsetRepeat;\n#endif",map_pars_fragment:"#ifdef USE_MAP\nvarying vec2 vUv;\nuniform sampler2D map;\n#endif",map_vertex:"#ifdef USE_MAP\nvUv=uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",map_fragment:"#ifdef USE_MAP\n#ifdef GAMMA_INPUT\nvec4 texelColor=texture2D( map, vUv );\ntexelColor.xyz *=texelColor.xyz;\ngl_FragColor=gl_FragColor * texelColor;\n#else\ngl_FragColor=gl_FragColor * texture2D( map, vUv );\n#endif\n#endif", lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;\nuniform sampler2D lightMap;\n#endif",lightmap_pars_vertex:"#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\ngl_FragColor=gl_FragColor * texture2D( lightMap, vUv2 );\n#endif",lightmap_vertex:"#ifdef USE_LIGHTMAP\nvUv2=uv2;\n#endif",lights_lambert_pars_vertex:"uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\nuniform float spotLightAngle[ MAX_SPOT_LIGHTS ];\nuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n#endif\n#ifdef WRAP_AROUND\nuniform vec3 wrapRGB;\n#endif", lights_lambert_vertex:"vLightFront=vec3( 0.0 );\n#ifdef DOUBLE_SIDED\nvLightBack=vec3( 0.0 );\n#endif\ntransformedNormal=normalize( transformedNormal );\n#if MAX_DIR_LIGHTS > 0\nfor( int i=0;i < MAX_DIR_LIGHTS;i ++ ){\nvec4 lDirection=viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector=normalize( lDirection.xyz );\nfloat dotProduct=dot( transformedNormal, dirVector );\nvec3 directionalLightWeighting=vec3( max( dotProduct, 0.0 ) );\n#ifdef DOUBLE_SIDED\nvec3 directionalLightWeightingBack=vec3( max( -dotProduct, 0.0 ) );\n#ifdef WRAP_AROUND\nvec3 directionalLightWeightingHalfBack=vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n#endif\n#endif\n#ifdef WRAP_AROUND\nvec3 directionalLightWeightingHalf=vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\ndirectionalLightWeighting=mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n#ifdef DOUBLE_SIDED\ndirectionalLightWeightingBack=mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n#endif\n#endif\nvLightFront +=directionalLightColor[ i ] * directionalLightWeighting;\n#ifdef DOUBLE_SIDED\nvLightBack +=directionalLightColor[ i ] * directionalLightWeightingBack;\n#endif\n}\n#endif\n#if MAX_POINT_LIGHTS > 0\nfor( int i=0;i < MAX_POINT_LIGHTS;i ++ ){\nvec4 lPosition=viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector=lPosition.xyz - mvPosition.xyz;\nfloat lDistance=1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance=1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector=normalize( lVector );\nfloat dotProduct=dot( transformedNormal, lVector );\nvec3 pointLightWeighting=vec3( max( dotProduct, 0.0 ) );\n#ifdef DOUBLE_SIDED\nvec3 pointLightWeightingBack=vec3( max( -dotProduct, 0.0 ) );\n#ifdef WRAP_AROUND\nvec3 pointLightWeightingHalfBack=vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n#endif\n#endif\n#ifdef WRAP_AROUND\nvec3 pointLightWeightingHalf=vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\npointLightWeighting=mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n#ifdef DOUBLE_SIDED\npointLightWeightingBack=mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n#endif\n#endif\nvLightFront +=pointLightColor[ i ] * pointLightWeighting * lDistance;\n#ifdef DOUBLE_SIDED\nvLightBack +=pointLightColor[ i ] * pointLightWeightingBack * lDistance;\n#endif\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nfor( int i=0;i < MAX_SPOT_LIGHTS;i ++ ){\nvec4 lPosition=viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 lVector=lPosition.xyz - mvPosition.xyz;\nlVector=normalize( lVector );\nfloat spotEffect=dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - mPosition.xyz ) );\nif ( spotEffect > spotLightAngle[ i ] ){\nspotEffect=pow( spotEffect, spotLightExponent[ i ] );\nfloat lDistance=1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nlDistance=1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\nfloat dotProduct=dot( transformedNormal, lVector );\nvec3 spotLightWeighting=vec3( max( dotProduct, 0.0 ) );\n#ifdef DOUBLE_SIDED\nvec3 spotLightWeightingBack=vec3( max( -dotProduct, 0.0 ) );\n#ifdef WRAP_AROUND\nvec3 spotLightWeightingHalfBack=vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n#endif\n#endif\n#ifdef WRAP_AROUND\nvec3 spotLightWeightingHalf=vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\nspotLightWeighting=mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n#ifdef DOUBLE_SIDED\nspotLightWeightingBack=mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n#endif\n#endif\nvLightFront +=spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\n#ifdef DOUBLE_SIDED\nvLightBack +=spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\n#endif\n}\n}\n#endif\nvLightFront=vLightFront * diffuse + ambient * ambientLightColor + emissive;\n#ifdef DOUBLE_SIDED\nvLightBack=vLightBack * diffuse + ambient * ambientLightColor + emissive;\n#endif", lights_phong_pars_vertex:"#ifndef PHONG_PER_PIXEL\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\nvarying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0\nvarying vec3 vWorldPosition;\n#endif",lights_phong_vertex:"#ifndef PHONG_PER_PIXEL\n#if MAX_POINT_LIGHTS > 0\nfor( int i=0;i < MAX_POINT_LIGHTS;i ++ ){\nvec4 lPosition=viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector=lPosition.xyz - mvPosition.xyz;\nfloat lDistance=1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance=1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nvPointLight[ i ]=vec4( lVector, lDistance );\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nfor( int i=0;i < MAX_SPOT_LIGHTS;i ++ ){\nvec4 lPosition=viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 lVector=lPosition.xyz - mvPosition.xyz;\nfloat lDistance=1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nlDistance=1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\nvSpotLight[ i ]=vec4( lVector, lDistance );\n}\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0\nvWorldPosition=mPosition.xyz;\n#endif", lights_phong_pars_fragment:"uniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n#ifdef PHONG_PER_PIXEL\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#else\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\nuniform float spotLightAngle[ MAX_SPOT_LIGHTS ];\nuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n#ifdef PHONG_PER_PIXEL\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n#else\nvarying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\n#endif\nvarying vec3 vWorldPosition;\n#endif\n#ifdef WRAP_AROUND\nuniform vec3 wrapRGB;\n#endif\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;", lights_phong_fragment:"vec3 normal=normalize( vNormal );\nvec3 viewPosition=normalize( vViewPosition );\n#ifdef DOUBLE_SIDED\nnormal=normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n#endif\n#if MAX_POINT_LIGHTS > 0\nvec3 pointDiffuse=vec3( 0.0 );\nvec3 pointSpecular=vec3( 0.0 );\nfor ( int i=0;i < MAX_POINT_LIGHTS;i ++ ){\n#ifdef PHONG_PER_PIXEL\nvec4 lPosition=viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector=lPosition.xyz + vViewPosition.xyz;\nfloat lDistance=1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance=1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector=normalize( lVector );\n#else\nvec3 lVector=normalize( vPointLight[ i ].xyz );\nfloat lDistance=vPointLight[ i ].w;\n#endif\nfloat dotProduct=dot( normal, lVector );\n#ifdef WRAP_AROUND\nfloat pointDiffuseWeightFull=max( dotProduct, 0.0 );\nfloat pointDiffuseWeightHalf=max( 0.5 * dotProduct + 0.5, 0.0 );\nvec3 pointDiffuseWeight=mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n#else\nfloat pointDiffuseWeight=max( dotProduct, 0.0 );\n#endif\npointDiffuse  +=diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\nvec3 pointHalfVector=normalize( lVector + viewPosition );\nfloat pointDotNormalHalf=max( dot( normal, pointHalfVector ), 0.0 );\nfloat pointSpecularWeight=max( pow( pointDotNormalHalf, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization=( shininess + 2.0001 ) / 8.0;\nvec3 schlick=specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );\npointSpecular +=schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n#else\npointSpecular +=specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;\n#endif\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nvec3 spotDiffuse=vec3( 0.0 );\nvec3 spotSpecular=vec3( 0.0 );\nfor ( int i=0;i < MAX_SPOT_LIGHTS;i ++ ){\n#ifdef PHONG_PER_PIXEL\nvec4 lPosition=viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 lVector=lPosition.xyz + vViewPosition.xyz;\nfloat lDistance=1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nlDistance=1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\nlVector=normalize( lVector );\n#else\nvec3 lVector=normalize( vSpotLight[ i ].xyz );\nfloat lDistance=vSpotLight[ i ].w;\n#endif\nfloat spotEffect=dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\nif ( spotEffect > spotLightAngle[ i ] ){\nspotEffect=pow( spotEffect, spotLightExponent[ i ] );\nfloat dotProduct=dot( normal, lVector );\n#ifdef WRAP_AROUND\nfloat spotDiffuseWeightFull=max( dotProduct, 0.0 );\nfloat spotDiffuseWeightHalf=max( 0.5 * dotProduct + 0.5, 0.0 );\nvec3 spotDiffuseWeight=mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n#else\nfloat spotDiffuseWeight=max( dotProduct, 0.0 );\n#endif\nspotDiffuse +=diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\nvec3 spotHalfVector=normalize( lVector + viewPosition );\nfloat spotDotNormalHalf=max( dot( normal, spotHalfVector ), 0.0 );\nfloat spotSpecularWeight=max( pow( spotDotNormalHalf, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization=( shininess + 2.0001 ) / 8.0;\nvec3 schlick=specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );\nspotSpecular +=schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n#else\nspotSpecular +=specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;\n#endif\n}\n}\n#endif\n#if MAX_DIR_LIGHTS > 0\nvec3 dirDiffuse=vec3( 0.0 );\nvec3 dirSpecular=vec3( 0.0 );\nfor( int i=0;i < MAX_DIR_LIGHTS;i ++ ){\nvec4 lDirection=viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector=normalize( lDirection.xyz );\nfloat dotProduct=dot( normal, dirVector );\n#ifdef WRAP_AROUND\nfloat dirDiffuseWeightFull=max( dotProduct, 0.0 );\nfloat dirDiffuseWeightHalf=max( 0.5 * dotProduct + 0.5, 0.0 );\nvec3 dirDiffuseWeight=mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n#else\nfloat dirDiffuseWeight=max( dotProduct, 0.0 );\n#endif\ndirDiffuse  +=diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\nvec3 dirHalfVector=normalize( dirVector + viewPosition );\nfloat dirDotNormalHalf=max( dot( normal, dirHalfVector ), 0.0 );\nfloat dirSpecularWeight=max( pow( dirDotNormalHalf, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization=( shininess + 2.0001 ) / 8.0;\nvec3 schlick=specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\ndirSpecular +=schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n#else\ndirSpecular +=specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;\n#endif\n}\n#endif\nvec3 totalDiffuse=vec3( 0.0 );\nvec3 totalSpecular=vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\ntotalDiffuse +=dirDiffuse;\ntotalSpecular +=dirSpecular;\n#endif\n#if MAX_POINT_LIGHTS > 0\ntotalDiffuse +=pointDiffuse;\ntotalSpecular +=pointSpecular;\n#endif\n#if MAX_SPOT_LIGHTS > 0\ntotalDiffuse +=spotDiffuse;\ntotalSpecular +=spotSpecular;\n#endif\n#ifdef METAL\ngl_FragColor.xyz=gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n#else\ngl_FragColor.xyz=gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n#endif", color_pars_fragment:"#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif",color_fragment:"#ifdef USE_COLOR\ngl_FragColor=gl_FragColor * vec4( vColor, opacity );\n#endif",color_pars_vertex:"#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n#ifdef GAMMA_INPUT\nvColor=color * color;\n#else\nvColor=color;\n#endif\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\nuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n#endif",skinning_vertex:"#ifdef USE_SKINNING\ngl_Position=( boneGlobalMatrices[ int( skinIndex.x ) ] * skinVertexA ) * skinWeight.x;\ngl_Position +=( boneGlobalMatrices[ int( skinIndex.y ) ] * skinVertexB ) * skinWeight.y;\ngl_Position=projectionMatrix * modelViewMatrix * gl_Position;\n#endif", morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n#ifndef USE_MORPHNORMALS\nuniform float morphTargetInfluences[ 8 ];\n#else\nuniform float morphTargetInfluences[ 4 ];\n#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\nvec3 morphed=vec3( 0.0 );\nmorphed +=( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\nmorphed +=( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\nmorphed +=( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\nmorphed +=( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n#ifndef USE_MORPHNORMALS\nmorphed +=( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\nmorphed +=( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\nmorphed +=( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\nmorphed +=( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n#endif\nmorphed +=position;\ngl_Position=projectionMatrix * modelViewMatrix * vec4( morphed, 1.0 );\n#endif", default_vertex:"#ifndef USE_MORPHTARGETS\n#ifndef USE_SKINNING\ngl_Position=projectionMatrix * mvPosition;\n#endif\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\nvec3 morphedNormal=vec3( 0.0 );\nmorphedNormal +=( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\nmorphedNormal +=( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\nmorphedNormal +=( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\nmorphedNormal +=( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\nmorphedNormal +=normal;\nvec3 transformedNormal=normalMatrix * morphedNormal;\n#else\nvec3 transformedNormal=normalMatrix * normal;\n#endif", shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\nuniform sampler2D shadowMap[ MAX_SHADOWS ];\nuniform vec2 shadowMapSize[ MAX_SHADOWS ];\nuniform float shadowDarkness[ MAX_SHADOWS ];\nuniform float shadowBias[ MAX_SHADOWS ];\nvarying vec4 vShadowCoord[ MAX_SHADOWS ];\nfloat unpackDepth( const in vec4 rgba_depth ){\nconst vec4 bit_shift=vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\nfloat depth=dot( rgba_depth, bit_shift );\nreturn depth;\n}\n#endif",shadowmap_fragment:"#ifdef USE_SHADOWMAP\n#ifdef SHADOWMAP_DEBUG\nvec3 frustumColors[3];\nfrustumColors[0]=vec3( 1.0, 0.5, 0.0 );\nfrustumColors[1]=vec3( 0.0, 1.0, 0.8 );\nfrustumColors[2]=vec3( 0.0, 0.5, 1.0 );\n#endif\n#ifdef SHADOWMAP_CASCADE\nint inFrustumCount=0;\n#endif\nfloat fDepth;\nvec3 shadowColor=vec3( 1.0 );\nfor( int i=0;i < MAX_SHADOWS;i ++ ){\nvec3 shadowCoord=vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\nbvec4 inFrustumVec=bvec4 ( shadowCoord.x >=0.0, shadowCoord.x <=1.0, shadowCoord.y >=0.0, shadowCoord.y <=1.0 );\nbool inFrustum=all( inFrustumVec );\n#ifdef SHADOWMAP_CASCADE\ninFrustumCount +=int( inFrustum );\nbvec3 frustumTestVec=bvec3( inFrustum, inFrustumCount==1, shadowCoord.z <=1.0 );\n#else\nbvec2 frustumTestVec=bvec2( inFrustum, shadowCoord.z <=1.0 );\n#endif\nbool frustumTest=all( frustumTestVec );\nif ( frustumTest ){\nshadowCoord.z +=shadowBias[ i ];\n#ifdef SHADOWMAP_SOFT\nfloat shadow=0.0;\nconst float shadowDelta=1.0 / 9.0;\nfloat xPixelOffset=1.0 / shadowMapSize[ i ].x;\nfloat yPixelOffset=1.0 / shadowMapSize[ i ].y;\nfloat dx0=-1.25 * xPixelOffset;\nfloat dy0=-1.25 * yPixelOffset;\nfloat dx1=1.25 * xPixelOffset;\nfloat dy1=1.25 * yPixelOffset;\nfDepth=unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow +=shadowDelta;\nfDepth=unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow +=shadowDelta;\nfDepth=unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow +=shadowDelta;\nfDepth=unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow +=shadowDelta;\nfDepth=unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\nif ( fDepth < shadowCoord.z ) shadow +=shadowDelta;\nfDepth=unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow +=shadowDelta;\nfDepth=unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\nif ( fDepth < shadowCoord.z ) shadow +=shadowDelta;\nfDepth=unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\nif ( fDepth < shadowCoord.z ) shadow +=shadowDelta;\nfDepth=unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\nif ( fDepth < shadowCoord.z ) shadow +=shadowDelta;\nshadowColor=shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n#else\nvec4 rgbaDepth=texture2D( shadowMap[ i ], shadowCoord.xy );\nfloat fDepth=unpackDepth( rgbaDepth );\nif ( fDepth < shadowCoord.z )\nshadowColor=shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n#endif\n}\n#ifdef SHADOWMAP_DEBUG\n#ifdef SHADOWMAP_CASCADE\nif ( inFrustum && inFrustumCount==1 ) gl_FragColor.xyz *=frustumColors[ i ];\n#else\nif ( inFrustum ) gl_FragColor.xyz *=frustumColors[ i ];\n#endif\n#endif\n}\n#ifdef GAMMA_OUTPUT\nshadowColor *=shadowColor;\n#endif\ngl_FragColor.xyz=gl_FragColor.xyz * shadowColor;\n#endif", shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\nvarying vec4 vShadowCoord[ MAX_SHADOWS ];\nuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\nfor( int i=0;i < MAX_SHADOWS;i ++ ){\n#ifdef USE_MORPHTARGETS\nvShadowCoord[ i ]=shadowMatrix[ i ] * objectMatrix * vec4( morphed, 1.0 );\n#else\nvShadowCoord[ i ]=shadowMatrix[ i ] * objectMatrix * vec4( position, 1.0 );\n#endif\n}\n#endif",alphatest_fragment:"#ifdef ALPHATEST\nif ( gl_FragColor.a < ALPHATEST ) discard;\n#endif", linear_to_gamma_fragment:"#ifdef GAMMA_OUTPUT\ngl_FragColor.xyz=sqrt( gl_FragColor.xyz );\n#endif"};THREE.UniformsUtils={merge:function(a){var b,c,d,e={};for(b=0;b<a.length;b++)for(c in d=this.clone(a[b]),d)e[c]=d[c];return e},clone:function(a){var b,c,d,e={};for(b in a)for(c in e[b]={},a[b])d=a[b][c],e[b][c]=d instanceof THREE.Color||d instanceof THREE.Vector2||d instanceof THREE.Vector3||d instanceof THREE.Vector4||d instanceof THREE.Matrix4||d instanceof THREE.Texture?d.clone():d instanceof Array?d.slice():d;return e}};THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:0,texture:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:2,texture:null},envMap:{type:"t",value:1,texture:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:0.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},fog:{fogDensity:{type:"f", value:2.5E-4},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1", value:[]},spotLightAngle:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:0,texture:null},fogDensity:{type:"f",value:2.5E-4},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:6,texture:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1", value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}};THREE.ShaderLib={depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2E3},opacity:{type:"f",value:1}},vertexShader:"void main(){\ngl_Position=projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float mNear;\nuniform float mFar;\nuniform float opacity;\nvoid main(){\nfloat depth=gl_FragCoord.z / gl_FragCoord.w;\nfloat color=1.0 - smoothstep( mNear, mFar, depth );\ngl_FragColor=vec4( vec3( color ), opacity );\n}"},normal:{uniforms:{opacity:{type:"f", value:1}},vertexShader:"varying vec3 vNormal;\nvoid main(){\nvec4 mvPosition=modelViewMatrix * vec4( position, 1.0 );\nvNormal=normalMatrix * normal;\ngl_Position=projectionMatrix * mvPosition;\n}",fragmentShader:"uniform float opacity;\nvarying vec3 vNormal;\nvoid main(){\ngl_FragColor=vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );\n}"},basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex, THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main(){\nvec4 mvPosition=modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.morphtarget_vertex, THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main(){\ngl_FragColor=vec4( diffuse, opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment, THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1, 1,1)}}]),vertexShader:["varying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\nvarying vec3 vLightBack;\n#endif",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main(){\nvec4 mvPosition=modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.map_vertex, THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,"#ifndef USE_ENVMAP\nvec4 mPosition=objectMatrix * vec4( position, 1.0 );\n#endif",THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\nvarying vec3 vLightBack;\n#endif", THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main(){\ngl_FragColor=vec4( vec3 ( 1.0 ), opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,"#ifdef DOUBLE_SIDED\nif ( gl_FrontFacing )\ngl_FragColor.xyz *=vLightFront;\nelse\ngl_FragColor.xyz *=vLightBack;\n#else\ngl_FragColor.xyz *=vLightFront;\n#endif", THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)}, shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["varying vec3 vViewPosition;\nvarying vec3 vNormal;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main(){\nvec4 mvPosition=modelViewMatrix * vec4( position, 1.0 );", THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.color_vertex,"#ifndef USE_ENVMAP\nvec4 mPosition=objectMatrix * vec4( position, 1.0 );\n#endif\nvViewPosition=-mvPosition.xyz;",THREE.ShaderChunk.morphnormal_vertex,"vNormal=transformedNormal;",THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"), fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 ambient;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main(){\ngl_FragColor=vec4( vec3 ( 1.0 ), opacity );", THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;\nuniform float scale;", THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main(){",THREE.ShaderChunk.color_vertex,"vec4 mvPosition=modelViewMatrix * vec4( position, 1.0 );\n#ifdef USE_SIZEATTENUATION\ngl_PointSize=size * ( scale / length( mvPosition.xyz ) );\n#else\ngl_PointSize=size;\n#endif\ngl_Position=projectionMatrix * mvPosition;",THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment, THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main(){\ngl_FragColor=vec4( psColor, opacity );",THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,"void main(){\nvec4 mvPosition=modelViewMatrix * vec4( position, 1.0 );", THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,"}"].join("\n"),fragmentShader:"vec4 pack_depth( const in float depth ){\nconst vec4 bit_shift=vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\nconst vec4 bit_mask=vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\nvec4 res=fract( depth * bit_shift );\nres -=res.xxyz * bit_mask;\nreturn res;\n}\nvoid main(){\ngl_FragData[ 0 ]=pack_depth( gl_FragCoord.z );\n}"}};THREE.WebGLRenderer=function(a){function b(a,b){var c=a.vertices.length,d=b.material;if(d.attributes){void 0===a.__webglCustomAttributesList&&(a.__webglCustomAttributesList=[]);for(var e in d.attributes){var f=d.attributes[e];if(!f.__webglInitialized||f.createUniqueBuffers){f.__webglInitialized=!0;var g=1;"v2"===f.type?g=2:"v3"===f.type?g=3:"v4"===f.type?g=4:"c"===f.type&&(g=3);f.size=g;f.array=new Float32Array(c*g);f.buffer=k.createBuffer();f.buffer.belongsToAttribute=e;f.needsUpdate=!0}a.__webglCustomAttributesList.push(f)}}}function c(a,b){if(a.material&&!(a.material instanceof THREE.MeshFaceMaterial))return a.material;if(0<=b.materialIndex)return a.geometry.materials[b.materialIndex]}function d(a){return a instanceof THREE.MeshBasicMaterial&&!a.envMap||a instanceof THREE.MeshDepthMaterial?!1:a&&void 0!==a.shading&&a.shading===THREE.SmoothShading?THREE.SmoothShading:THREE.FlatShading}function e(a){return a.map||a.lightMap||a instanceof THREE.ShaderMaterial?!0:!1}function f(a,b,c){var d,e,f,g,h=a.vertices;g=h.length;var j=a.colors,l=j.length,m=a.__vertexArray,n=a.__colorArray,p=a.__sortArray,o=a.verticesNeedUpdate,q=a.colorsNeedUpdate,r=a.__webglCustomAttributesList;if(c.sortParticles){Da.copy(Ha);Da.multiplySelf(c.matrixWorld);for(d=0;d<g;d++)e=h[d],gb.copy(e),Da.multiplyVector3(gb),p[d]=[gb.z,d];p.sort(function(a,b){return b[0]-a[0]});for(d=0;d<g;d++)e=h[p[d][1]],f=3*d,m[f]=e.x,m[f+1]=e.y,m[f+2]=e.z;for(d=0;d<l;d++)f=3*d,e=j[p[d][1]],n[f]=e.r,n[f+1]=e.g,n[f+2]=e.b;if(r){j=0;for(l=r.length;j<l;j++)if(h=r[j], void 0===h.boundTo||"vertices"===h.boundTo)if(f=0,e=h.value.length,1===h.size)for(d=0;d<e;d++)g=p[d][1],h.array[d]=h.value[g];else if(2===h.size)for(d=0;d<e;d++)g=p[d][1],g=h.value[g],h.array[f]=g.x,h.array[f+1]=g.y,f+=2;else if(3===h.size)if("c"===h.type)for(d=0;d<e;d++)g=p[d][1],g=h.value[g],h.array[f]=g.r,h.array[f+1]=g.g,h.array[f+2]=g.b,f+=3;else for(d=0;d<e;d++)g=p[d][1],g=h.value[g],h.array[f]=g.x,h.array[f+1]=g.y,h.array[f+2]=g.z,f+=3;else if(4===h.size)for(d=0;d<e;d++)g=p[d][1],g=h.value[g], h.array[f]=g.x,h.array[f+1]=g.y,h.array[f+2]=g.z,h.array[f+3]=g.w,f+=4}}else{if(o)for(d=0;d<g;d++)e=h[d],f=3*d,m[f]=e.x,m[f+1]=e.y,m[f+2]=e.z;if(q)for(d=0;d<l;d++)e=j[d],f=3*d,n[f]=e.r,n[f+1]=e.g,n[f+2]=e.b;if(r){j=0;for(l=r.length;j<l;j++)if(h=r[j],h.needsUpdate&&(void 0===h.boundTo||"vertices"===h.boundTo))if(e=h.value.length,f=0,1===h.size)for(d=0;d<e;d++)h.array[d]=h.value[d];else if(2===h.size)for(d=0;d<e;d++)g=h.value[d],h.array[f]=g.x,h.array[f+1]=g.y,f+=2;else if(3===h.size)if("c"===h.type)for(d=0;d<e;d++)g=h.value[d],h.array[f]=g.r,h.array[f+1]=g.g,h.array[f+2]=g.b,f+=3;else for(d=0;d<e;d++)g=h.value[d],h.array[f]=g.x,h.array[f+1]=g.y,h.array[f+2]=g.z,f+=3;else if(4===h.size)for(d=0;d<e;d++)g=h.value[d],h.array[f]=g.x,h.array[f+1]=g.y,h.array[f+2]=g.z,h.array[f+3]=g.w,f+=4}}if(o||c.sortParticles)k.bindBuffer(k.ARRAY_BUFFER,a.__webglVertexBuffer),k.bufferData(k.ARRAY_BUFFER,m,b);if(q||c.sortParticles)k.bindBuffer(k.ARRAY_BUFFER,a.__webglColorBuffer),k.bufferData(k.ARRAY_BUFFER,n,b);if(r){j=0;for(l=r.length;j<l;j++)if(h=r[j],h.needsUpdate||c.sortParticles)k.bindBuffer(k.ARRAY_BUFFER,h.buffer),k.bufferData(k.ARRAY_BUFFER,h.array,b)}}function g(a,b){return b.z-a.z}function h(a,b,c){if(a.length)for(var d=0,e=a.length;d<e;d++)ea=W=null,N=R=U=na=Ra=Ca=ba=-1,Za=!0,a[d].render(b,c,Jb,fc),ea=W=null,N=R=U=na=Ra=Ca=ba=-1,Za=!0}function j(a,b,c,d,e,f,g,h){var j,k,l,m;b?(k=a.length-1,m=b=-1):(k=0,b=a.length,m=1);for(var n=k;n!==b;n+=m)if(j=a[n],j.render){k=j.object;l=j.buffer;if(h)j=h;else{j=j[c];if(!j)continue;g&&J.setBlending(j.blending,j.blendEquation,j.blendSrc,j.blendDst);J.setDepthTest(j.depthTest);J.setDepthWrite(j.depthWrite);w(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits)}J.setObjectFaces(k);l instanceof THREE.BufferGeometry?J.renderBufferDirect(d,e,f,j,l,k):J.renderBuffer(d,e,f,j,l,k)}}function m(a,b,c,d,e,f,g){for(var h,j,k=0,l=a.length;k<l;k++)if(h=a[k],j=h.object,j.visible){if(g)h=g;else{h=h[b];if(!h)continue;f&&J.setBlending(h.blending,h.blendEquation,h.blendSrc, h.blendDst);J.setDepthTest(h.depthTest);J.setDepthWrite(h.depthWrite);w(h.polygonOffset,h.polygonOffsetFactor,h.polygonOffsetUnits)}J.renderImmediateObject(c,d,e,h,j)}}function l(a,b,c){a.push({buffer:b,object:c,opaque:null,transparent:null})}function q(a){for(var b in a.attributes)if(a.attributes[b].needsUpdate)return!0;return!1}function o(a){for(var b in a.attributes)a.attributes[b].needsUpdate=!1}function p(a,b){for(var c=a.length-1;0<=c;c--)a[c].object===b&&a.splice(c,1)}function r(a,b){for(var c=a.length-1;0<=c;c--)a[c]===b&&a.splice(c,1)}function n(a,b,c,d,e){if(!d.program||d.needsUpdate)J.initMaterial(d,b,c,e),d.needsUpdate=!1;if(d.morphTargets&&!e.__webglMorphTargetInfluences){e.__webglMorphTargetInfluences=new Float32Array(J.maxMorphTargets);for(var f=0,g=J.maxMorphTargets;f<g;f++)e.__webglMorphTargetInfluences[f]=0}var h=!1,f=d.program,g=f.uniforms,j=d.uniforms;f!==W&&(k.useProgram(f),W=f,h=!0);d.id!==N&&(N=d.id,h=!0);if(h||a!==ea)k.uniformMatrix4fv(g.projectionMatrix,!1,a._projectionMatrixArray), a!==ea&&(ea=a);if(h){c&&d.fog&&(j.fogColor.value=c.color,c instanceof THREE.Fog?(j.fogNear.value=c.near,j.fogFar.value=c.far):c instanceof THREE.FogExp2&&(j.fogDensity.value=c.density));if(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d.lights){if(Za){for(var l,m=0,n=0,p=0,o,q,r,s=Va,x=s.directional.colors,w=s.directional.positions,v=s.point.colors,z=s.point.positions,B=s.point.distances,D=s.spot.colors,E=s.spot.positions,G=s.spot.distances,F=s.spot.directions,M=s.spot.angles, U=s.spot.exponents,P=0,K=0,S=0,R=0,c=0,h=b.length;c<h;c++)l=b[c],l.onlyShadow||(o=l.color,q=l.intensity,r=l.distance,l instanceof THREE.AmbientLight?J.gammaInput?(m+=o.r*o.r,n+=o.g*o.g,p+=o.b*o.b):(m+=o.r,n+=o.g,p+=o.b):l instanceof THREE.DirectionalLight?(r=3*P,J.gammaInput?(x[r]=o.r*o.r*q*q,x[r+1]=o.g*o.g*q*q,x[r+2]=o.b*o.b*q*q):(x[r]=o.r*q,x[r+1]=o.g*q,x[r+2]=o.b*q),la.copy(l.matrixWorld.getPosition()),la.subSelf(l.target.matrixWorld.getPosition()),la.normalize(),w[r]=la.x,w[r+1]=la.y,w[r+2]=la.z, P+=1):l instanceof THREE.PointLight?(R=3*K,J.gammaInput?(v[R]=o.r*o.r*q*q,v[R+1]=o.g*o.g*q*q,v[R+2]=o.b*o.b*q*q):(v[R]=o.r*q,v[R+1]=o.g*q,v[R+2]=o.b*q),o=l.matrixWorld.getPosition(),z[R]=o.x,z[R+1]=o.y,z[R+2]=o.z,B[K]=r,K+=1):l instanceof THREE.SpotLight&&(R=3*S,J.gammaInput?(D[R]=o.r*o.r*q*q,D[R+1]=o.g*o.g*q*q,D[R+2]=o.b*o.b*q*q):(D[R]=o.r*q,D[R+1]=o.g*q,D[R+2]=o.b*q),o=l.matrixWorld.getPosition(),E[R]=o.x,E[R+1]=o.y,E[R+2]=o.z,G[S]=r,la.copy(o),la.subSelf(l.target.matrixWorld.getPosition()),la.normalize(), F[R]=la.x,F[R+1]=la.y,F[R+2]=la.z,M[S]=Math.cos(l.angle),U[S]=l.exponent,S+=1));c=3*P;for(h=x.length;c<h;c++)x[c]=0;c=3*K;for(h=v.length;c<h;c++)v[c]=0;c=3*S;for(h=D.length;c<h;c++)D[c]=0;s.directional.length=P;s.point.length=K;s.spot.length=S;s.ambient[0]=m;s.ambient[1]=n;s.ambient[2]=p;Za=!1}c=Va;j.ambientLightColor.value=c.ambient;j.directionalLightColor.value=c.directional.colors;j.directionalLightDirection.value=c.directional.positions;j.pointLightColor.value=c.point.colors;j.pointLightPosition.value=c.point.positions;j.pointLightDistance.value=c.point.distances;j.spotLightColor.value=c.spot.colors;j.spotLightPosition.value=c.spot.positions;j.spotLightDistance.value=c.spot.distances;j.spotLightDirection.value=c.spot.directions;j.spotLightAngle.value=c.spot.angles;j.spotLightExponent.value=c.spot.exponents}if(d instanceof THREE.MeshBasicMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.MeshPhongMaterial)j.opacity.value=d.opacity,J.gammaInput?j.diffuse.value.copyGammaToLinear(d.color):        j.diffuse.value=d.color,(j.map.texture=d.map)&&j.offsetRepeat.value.set(d.map.offset.x,d.map.offset.y,d.map.repeat.x,d.map.repeat.y),j.lightMap.texture=d.lightMap,j.envMap.texture=d.envMap,j.flipEnvMap.value=d.envMap instanceof THREE.WebGLRenderTargetCube?1:-1,j.reflectivity.value=d.reflectivity,j.refractionRatio.value=d.refractionRatio,j.combine.value=d.combine,j.useRefract.value=d.envMap&&d.envMap.mapping instanceof THREE.CubeRefractionMapping;d instanceof THREE.LineBasicMaterial?(j.diffuse.value=d.color,j.opacity.value=d.opacity):d instanceof THREE.ParticleBasicMaterial?(j.psColor.value=d.color,j.opacity.value=d.opacity,j.size.value=d.size,j.scale.value=y.height/2,j.map.texture=d.map):d instanceof THREE.MeshPhongMaterial?(j.shininess.value=d.shininess,J.gammaInput?(j.ambient.value.copyGammaToLinear(d.ambient),j.emissive.value.copyGammaToLinear(d.emissive),j.specular.value.copyGammaToLinear(d.specular)):(j.ambient.value=d.ambient,j.emissive.value=d.emissive,j.specular.value=d.specular),d.wrapAround&& j.wrapRGB.value.copy(d.wrapRGB)):d instanceof THREE.MeshLambertMaterial?(J.gammaInput?(j.ambient.value.copyGammaToLinear(d.ambient),j.emissive.value.copyGammaToLinear(d.emissive)):(j.ambient.value=d.ambient,j.emissive.value=d.emissive),d.wrapAround&&j.wrapRGB.value.copy(d.wrapRGB)):d instanceof THREE.MeshDepthMaterial?(j.mNear.value=a.near,j.mFar.value=a.far,j.opacity.value=d.opacity):d instanceof THREE.MeshNormalMaterial&&(j.opacity.value=d.opacity);if(e.receiveShadow&&!d._shadowPass&&j.shadowMatrix){h=c=0;for(l=b.length;h<l;h++)if(m=b[h],m.castShadow&&(m instanceof THREE.SpotLight||m instanceof THREE.DirectionalLight&&!m.shadowCascade))j.shadowMap.texture[c]=m.shadowMap,j.shadowMapSize.value[c]=m.shadowMapSize,j.shadowMatrix.value[c]=m.shadowMatrix,j.shadowDarkness.value[c]=m.shadowDarkness,j.shadowBias.value[c]=m.shadowBias,c++}b=d.uniformsList;j=0;for(c=b.length;j<c;j++)if(m=f.uniforms[b[j][1]])switch(h=b[j][0],n=h.type,l=h.value,n){case "i":k.uniform1i(m,l);break;case "f":k.uniform1f(m,l);break;case "v2":k.uniform2f(m,l.x,l.y);break;case "v3":k.uniform3f(m,l.x,l.y,l.z);break;case "v4":k.uniform4f(m,l.x,l.y,l.z,l.w);break;case "c":k.uniform3f(m,l.r,l.g,l.b);break;case "fv1":k.uniform1fv(m,l);break;case "fv":k.uniform3fv(m,l);break;case "v2v":h._array||(h._array=new Float32Array(2*l.length));n=0;for(p=l.length;n<p;n++)s=2*n,h._array[s]=l[n].x,h._array[s+1]=l[n].y;k.uniform2fv(m,h._array);break;case "v3v":h._array||(h._array=new Float32Array(3*l.length));n=0;for(p=l.length;n<p;n++)s=3*n,h._array[s]=l[n].x,h._array[s+1]=l[n].y,h._array[s+2]=l[n].z;k.uniform3fv(m,h._array);break;case "v4v":h._array||(h._array=new Float32Array(4*l.length));n=0;for(p=l.length;n<p;n++)s=4*n,h._array[s]=l[n].x,h._array[s+1]=l[n].y,h._array[s+2]=l[n].z,h._array[s+3]=l[n].w;k.uniform4fv(m,h._array);break;case "m4":h._array||(h._array=new Float32Array(16));l.flattenToArray(h._array);k.uniformMatrix4fv(m,!1,h._array);break;case "m4v":h._array||(h._array=new Float32Array(16*l.length));n=0;for(p=l.length;n<p;n++)l[n].flattenToArrayOffset(h._array, 16*n);k.uniformMatrix4fv(m,!1,h._array);break;case "t":k.uniform1i(m,l);m=h.texture;if(!m)continue;if(m.image instanceof Array&&6===m.image.length){if(h=m,6===h.image.length)if(h.needsUpdate){h.image.__webglTextureCube||(h.image.__webglTextureCube=k.createTexture());k.activeTexture(k.TEXTURE0+l);k.bindTexture(k.TEXTURE_CUBE_MAP,h.image.__webglTextureCube);l=[];for(m=0;6>m;m++)n=l,p=m,J.autoScaleCubemaps?(s=h.image[m],w=gc,s.width<=w&&s.height<=w||(v=Math.max(s.width,s.height),x=Math.floor(s.width*        w/v),w=Math.floor(s.height*w/v),v=document.createElement("canvas"),v.width=x,v.height=w,v.getContext("2d").drawImage(s,0,0,s.width,s.height,0,0,x,w),s=v)):s=h.image[m],n[p]=s;m=l[0];n=0===(m.width&m.width-1)&&0===(m.height&m.height-1);p=I(h.format);s=I(h.type);u(k.TEXTURE_CUBE_MAP,h,n);for(m=0;6>m;m++)k.texImage2D(k.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,p,p,s,l[m]);h.generateMipmaps&&n&&k.generateMipmap(k.TEXTURE_CUBE_MAP);h.needsUpdate=!1;if(h.onUpdate)h.onUpdate()}else k.activeTexture(k.TEXTURE0+l),k.bindTexture(k.TEXTURE_CUBE_MAP, h.image.__webglTextureCube)}else m instanceof THREE.WebGLRenderTargetCube?(h=m,k.activeTexture(k.TEXTURE0+l),k.bindTexture(k.TEXTURE_CUBE_MAP,h.__webglTexture)):J.setTexture(m,l);break;case "tv":if(!h._array){h._array=[];n=0;for(p=h.texture.length;n<p;n++)h._array[n]=l+n}k.uniform1iv(m,h._array);n=0;for(p=h.texture.length;n<p;n++)(m=h.texture[n])&&J.setTexture(m,h._array[n])}if((d instanceof THREE.ShaderMaterial||d instanceof THREE.MeshPhongMaterial||d.envMap)&&null!==g.cameraPosition)b=a.matrixWorld.getPosition(), k.uniform3f(g.cameraPosition,b.x,b.y,b.z);(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.ShaderMaterial||d.skinning)&&null!==g.viewMatrix&&k.uniformMatrix4fv(g.viewMatrix,!1,a._viewMatrixArray);d.skinning&&k.uniformMatrix4fv(g.boneGlobalMatrices,!1,e.boneMatrices)}k.uniformMatrix4fv(g.modelViewMatrix,!1,e._modelViewMatrix.elements);g.normalMatrix&&k.uniformMatrix3fv(g.normalMatrix,!1,e._normalMatrix.elements);null!==g.objectMatrix&&k.uniformMatrix4fv(g.objectMatrix, !1,e.matrixWorld.elements);return f}function s(a,b){a._modelViewMatrix.multiply(b.matrixWorldInverse,a.matrixWorld);a._normalMatrix.getInverse(a._modelViewMatrix);a._normalMatrix.transpose()}function w(a,b,c){Xa!==a&&(a?k.enable(k.POLYGON_OFFSET_FILL):k.disable(k.POLYGON_OFFSET_FILL),Xa=a);if(a&&(bb!==b||Ya!==c))k.polygonOffset(b,c),bb=b,Ya=c}function v(a,b){var c;"fragment"===a?c=k.createShader(k.FRAGMENT_SHADER):"vertex"===a&&(c=k.createShader(k.VERTEX_SHADER));k.shaderSource(c,b);k.compileShader(c);return!k.getShaderParameter(c,k.COMPILE_STATUS)?(console.error(k.getShaderInfoLog(c)),console.error(b),null):c}function u(a,b,c){c?(k.texParameteri(a,k.TEXTURE_WRAP_S,I(b.wrapS)),k.texParameteri(a,k.TEXTURE_WRAP_T,I(b.wrapT)),k.texParameteri(a,k.TEXTURE_MAG_FILTER,I(b.magFilter)),k.texParameteri(a,k.TEXTURE_MIN_FILTER,I(b.minFilter))):(k.texParameteri(a,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(a,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE),k.texParameteri(a,k.TEXTURE_MAG_FILTER,z(b.magFilter)),k.texParameteri(a, k.TEXTURE_MIN_FILTER,z(b.minFilter)))}function x(a,b){k.bindRenderbuffer(k.RENDERBUFFER,a);b.depthBuffer&&!b.stencilBuffer?(k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_COMPONENT16,b.width,b.height),k.framebufferRenderbuffer(k.FRAMEBUFFER,k.DEPTH_ATTACHMENT,k.RENDERBUFFER,a)):b.depthBuffer&&b.stencilBuffer?(k.renderbufferStorage(k.RENDERBUFFER,k.DEPTH_STENCIL,b.width,b.height),k.framebufferRenderbuffer(k.FRAMEBUFFER,k.DEPTH_STENCIL_ATTACHMENT,k.RENDERBUFFER,a)):k.renderbufferStorage(k.RENDERBUFFER, k.RGBA4,b.width,b.height)}function z(a){switch(a){case THREE.NearestFilter:case THREE.NearestMipMapNearestFilter:case THREE.NearestMipMapLinearFilter:return k.NEAREST;default:return k.LINEAR}}function I(a){switch(a){case THREE.RepeatWrapping:return k.REPEAT;case THREE.ClampToEdgeWrapping:return k.CLAMP_TO_EDGE;case THREE.MirroredRepeatWrapping:return k.MIRRORED_REPEAT;case THREE.NearestFilter:return k.NEAREST;case THREE.NearestMipMapNearestFilter:return k.NEAREST_MIPMAP_NEAREST;case THREE.NearestMipMapLinearFilter:return k.NEAREST_MIPMAP_LINEAR;case THREE.LinearFilter:return k.LINEAR;case THREE.LinearMipMapNearestFilter:return k.LINEAR_MIPMAP_NEAREST;case THREE.LinearMipMapLinearFilter:return k.LINEAR_MIPMAP_LINEAR;case THREE.ByteType:return k.BYTE;case THREE.UnsignedByteType:return k.UNSIGNED_BYTE;case THREE.ShortType:return k.SHORT;case THREE.UnsignedShortType:return k.UNSIGNED_SHORT;case THREE.IntType:return k.INT;case THREE.UnsignedIntType:return k.UNSIGNED_INT;case THREE.FloatType:return k.FLOAT;case THREE.AlphaFormat:return k.ALPHA;case THREE.RGBFormat:return k.RGB;case THREE.RGBAFormat:return k.RGBA;case THREE.LuminanceFormat:return k.LUMINANCE;case THREE.LuminanceAlphaFormat:return k.LUMINANCE_ALPHA;case THREE.AddEquation:return k.FUNC_ADD;case THREE.SubtractEquation:return k.FUNC_SUBTRACT;case THREE.ReverseSubtractEquation:return k.FUNC_REVERSE_SUBTRACT;case THREE.ZeroFactor:return k.ZERO;case THREE.OneFactor:return k.ONE;case THREE.SrcColorFactor:return k.SRC_COLOR;case THREE.OneMinusSrcColorFactor:return k.ONE_MINUS_SRC_COLOR;case THREE.SrcAlphaFactor:return k.SRC_ALPHA;case THREE.OneMinusSrcAlphaFactor:return k.ONE_MINUS_SRC_ALPHA;case THREE.DstAlphaFactor:return k.DST_ALPHA;case THREE.OneMinusDstAlphaFactor:return k.ONE_MINUS_DST_ALPHA;case THREE.DstColorFactor:return k.DST_COLOR;case THREE.OneMinusDstColorFactor:return k.ONE_MINUS_DST_COLOR;case THREE.SrcAlphaSaturateFactor:return k.SRC_ALPHA_SATURATE}return 0}console.log("THREE.WebGLRenderer",THREE.REVISION);var a=a||{},y=void 0!==a.canvas?a.canvas:document.createElement("canvas"), B=void 0!==a.precision?a.precision:"highp",D=void 0!==a.alpha?a.alpha:!0,E=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,P=void 0!==a.antialias?a.antialias:!1,M=void 0!==a.stencil?a.stencil:!0,V=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,S=void 0!==a.clearColor?new THREE.Color(a.clearColor):new THREE.Color(0),G=void 0!==a.clearAlpha?a.clearAlpha:0,K=void 0!==a.maxLights?a.maxLights:4;this.domElement=y;this.context=null;this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.shadowMapEnabled=this.physicallyBasedShading=this.gammaOutput=this.gammaInput=!1;this.shadowMapCullFrontFaces=this.shadowMapSoft=this.shadowMapAutoUpdate=!0;this.shadowMapCascade=this.shadowMapDebug=!1;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;this.renderPluginsPre=[];this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var J=this,k,X=[],W=null,F=null,N=-1,R=null,ea=null,ma=0,na=-1,U=-1,ba=-1,da=-1,ca=-1,ja=-1,Ca=-1,Ra=-1,Xa=null,bb=null,Ya=null,Sa=null,Pb=0,sb=0,Qb=0,lb=0,Jb=0,fc=0,cb=new THREE.Frustum,Ha=new THREE.Matrix4,Da=new THREE.Matrix4,gb=new THREE.Vector4,la=new THREE.Vector3,Za=!0,Va={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],angles:[],exponents:[]}},sa;try{if(!(sa=y.getContext("experimental-webgl",{alpha:D,premultipliedAlpha:E,antialias:P,stencil:M,preserveDrawingBuffer:V})))throw"Error creating WebGL context.";}catch(pb){console.error(pb)}sa.getExtension("OES_texture_float")||console.log("THREE.WebGLRenderer: Float textures not supported.");k=sa;k.clearColor(0,0,0,1);k.clearDepth(1);k.clearStencil(0);k.enable(k.DEPTH_TEST);k.depthFunc(k.LEQUAL);k.frontFace(k.CCW);k.cullFace(k.BACK);k.enable(k.CULL_FACE);k.enable(k.BLEND);k.blendEquation(k.FUNC_ADD);k.blendFunc(k.SRC_ALPHA, k.ONE_MINUS_SRC_ALPHA);k.clearColor(S.r,S.g,S.b,G);this.context=k;var hb=k.getParameter(k.MAX_VERTEX_TEXTURE_IMAGE_UNITS);k.getParameter(k.MAX_TEXTURE_SIZE);var gc=k.getParameter(k.MAX_CUBE_MAP_TEXTURE_SIZE);this.getContext=function(){return k};this.supportsVertexTextures=function(){return 0<hb};this.setSize=function(a,b){y.width=a;y.height=b;this.setViewport(0,0,y.width,y.height)};this.setViewport=function(a,b,c,d){Pb=a;sb=b;Qb=c;lb=d;k.viewport(Pb,sb,Qb,lb)};this.setScissor=function(a,b,c,d){k.scissor(a, b,c,d)};this.enableScissorTest=function(a){a?k.enable(k.SCISSOR_TEST):k.disable(k.SCISSOR_TEST)};this.setClearColorHex=function(a,b){S.setHex(a);G=b;k.clearColor(S.r,S.g,S.b,G)};this.setClearColor=function(a,b){S.copy(a);G=b;k.clearColor(S.r,S.g,S.b,G)};this.getClearColor=function(){return S};this.getClearAlpha=function(){return G};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=k.COLOR_BUFFER_BIT;if(void 0===b||b)d|=k.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=k.STENCIL_BUFFER_BIT;k.clear(d)};this.clearTarget=function(a,b,c,d){this.setRenderTarget(a);this.clear(b,c,d)};this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};this.addPrePlugin=function(a){a.init(this);this.renderPluginsPre.push(a)};this.deallocateObject=function(a){if(a.__webglInit)if(a.__webglInit=!1,delete a._modelViewMatrix,delete a._normalMatrix,delete a._normalMatrixArray,delete a._modelViewMatrixArray,delete a._objectMatrixArray,a instanceof THREE.Mesh)for(var b in a.geometry.geometryGroups){var c=a.geometry.geometryGroups[b];k.deleteBuffer(c.__webglVertexBuffer);k.deleteBuffer(c.__webglNormalBuffer);k.deleteBuffer(c.__webglTangentBuffer);k.deleteBuffer(c.__webglColorBuffer);k.deleteBuffer(c.__webglUVBuffer);k.deleteBuffer(c.__webglUV2Buffer);k.deleteBuffer(c.__webglSkinVertexABuffer);k.deleteBuffer(c.__webglSkinVertexBBuffer);k.deleteBuffer(c.__webglSkinIndicesBuffer);k.deleteBuffer(c.__webglSkinWeightsBuffer);k.deleteBuffer(c.__webglFaceBuffer);k.deleteBuffer(c.__webglLineBuffer);var d=void 0,e=void 0;if(c.numMorphTargets){d=0;for(e=c.numMorphTargets;d<e;d++)k.deleteBuffer(c.__webglMorphTargetsBuffers[d])}if(c.numMorphNormals){d=0;for(e=c.numMorphNormals;d<e;d++)k.deleteBuffer(c.__webglMorphNormalsBuffers[d])}if(c.__webglCustomAttributesList)for(d in d=void 0,c.__webglCustomAttributesList)k.deleteBuffer(c.__webglCustomAttributesList[d].buffer);J.info.memory.geometries--}else a instanceof THREE.Ribbon?(a=a.geometry,k.deleteBuffer(a.__webglVertexBuffer),k.deleteBuffer(a.__webglColorBuffer),J.info.memory.geometries--):a instanceof        THREE.Line?(a=a.geometry,k.deleteBuffer(a.__webglVertexBuffer),k.deleteBuffer(a.__webglColorBuffer),J.info.memory.geometries--):a instanceof THREE.ParticleSystem&&(a=a.geometry,k.deleteBuffer(a.__webglVertexBuffer),k.deleteBuffer(a.__webglColorBuffer),J.info.memory.geometries--)};this.deallocateTexture=function(a){a.__webglInit&&(a.__webglInit=!1,k.deleteTexture(a.__webglTexture),J.info.memory.textures--)};this.deallocateRenderTarget=function(a){if(a&&a.__webglTexture)if(k.deleteTexture(a.__webglTexture), a instanceof THREE.WebGLRenderTargetCube)for(var b=0;6>b;b++)k.deleteFramebuffer(a.__webglFramebuffer[b]),k.deleteRenderbuffer(a.__webglRenderbuffer[b]);else k.deleteFramebuffer(a.__webglFramebuffer),k.deleteRenderbuffer(a.__webglRenderbuffer)};this.updateShadowMap=function(a,b){W=null;N=R=Ra=Ca=ba=-1;Za=!0;U=na=-1;this.shadowMapPlugin.update(a,b)};this.renderBufferImmediate=function(a,b,c){a.__webglVertexBuffer||(a.__webglVertexBuffer=k.createBuffer());a.__webglNormalBuffer||(a.__webglNormalBuffer=k.createBuffer());a.hasPos&&(k.bindBuffer(k.ARRAY_BUFFER,a.__webglVertexBuffer),k.bufferData(k.ARRAY_BUFFER,a.positionArray,k.DYNAMIC_DRAW),k.enableVertexAttribArray(b.attributes.position),k.vertexAttribPointer(b.attributes.position,3,k.FLOAT,!1,0,0));if(a.hasNormal){k.bindBuffer(k.ARRAY_BUFFER,a.__webglNormalBuffer);if(c===THREE.FlatShading){var d,e,f,g,h,j,l,m,n,o,p=3*a.count;for(o=0;o<p;o+=9)c=a.normalArray,d=c[o],e=c[o+1],f=c[o+2],g=c[o+3],j=c[o+4],m=c[o+5],h=c[o+6],l=c[o+7],n=c[o+8],d=(d+g+h)/        3,e=(e+j+l)/3,f=(f+m+n)/3,c[o]=d,c[o+1]=e,c[o+2]=f,c[o+3]=d,c[o+4]=e,c[o+5]=f,c[o+6]=d,c[o+7]=e,c[o+8]=f}k.bufferData(k.ARRAY_BUFFER,a.normalArray,k.DYNAMIC_DRAW);k.enableVertexAttribArray(b.attributes.normal);k.vertexAttribPointer(b.attributes.normal,3,k.FLOAT,!1,0,0)}k.drawArrays(k.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,b,c,d,e,f){if(!1!==d.visible&&(c=n(a,b,c,d,f),a=c.attributes,b=!1,d=16777215*e.id+2*c.id+(d.wireframe?1:0),d!==R&&(R=d,b=!0),f instanceof THREE.Mesh)){f=e.offsets;d=0;for(c=f.length;d<c;++d)b&&(k.bindBuffer(k.ARRAY_BUFFER,e.vertexPositionBuffer),k.vertexAttribPointer(a.position,e.vertexPositionBuffer.itemSize,k.FLOAT,!1,0,12*f[d].index),0<=a.normal&&e.vertexNormalBuffer&&(k.bindBuffer(k.ARRAY_BUFFER,e.vertexNormalBuffer),k.vertexAttribPointer(a.normal,e.vertexNormalBuffer.itemSize,k.FLOAT,!1,0,12*f[d].index)),0<=a.uv&&e.vertexUvBuffer&&(e.vertexUvBuffer?(k.bindBuffer(k.ARRAY_BUFFER,e.vertexUvBuffer),k.vertexAttribPointer(a.uv,e.vertexUvBuffer.itemSize, k.FLOAT,!1,0,8*f[d].index),k.enableVertexAttribArray(a.uv)):k.disableVertexAttribArray(a.uv)),0<=a.color&&e.vertexColorBuffer&&(k.bindBuffer(k.ARRAY_BUFFER,e.vertexColorBuffer),k.vertexAttribPointer(a.color,e.vertexColorBuffer.itemSize,k.FLOAT,!1,0,16*f[d].index)),k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,e.vertexIndexBuffer)),k.drawElements(k.TRIANGLES,f[d].count,k.UNSIGNED_SHORT,2*f[d].start),J.info.render.calls++,J.info.render.vertices+=f[d].count,J.info.render.faces+=f[d].count/3}};this.renderBuffer=function(a,b,c,d,e,f){if(!1!==d.visible){var g,h,c=n(a,b,c,d,f),b=c.attributes,a=!1,c=16777215*e.id+2*c.id+(d.wireframe?1:0);c!==R&&(R=c,a=!0);if(!d.morphTargets&&0<=b.position)a&&(k.bindBuffer(k.ARRAY_BUFFER,e.__webglVertexBuffer),k.vertexAttribPointer(b.position,3,k.FLOAT,!1,0,0));else if(f.morphTargetBase){c=d.program.attributes;-1!==f.morphTargetBase?(k.bindBuffer(k.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[f.morphTargetBase]),k.vertexAttribPointer(c.position,3,k.FLOAT,!1,0,0)):0<=c.position&& (k.bindBuffer(k.ARRAY_BUFFER,e.__webglVertexBuffer),k.vertexAttribPointer(c.position,3,k.FLOAT,!1,0,0));if(f.morphTargetForcedOrder.length){g=0;var j=f.morphTargetForcedOrder;for(h=f.morphTargetInfluences;g<d.numSupportedMorphTargets&&g<j.length;)k.bindBuffer(k.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[j[g]]),k.vertexAttribPointer(c["morphTarget"+g],3,k.FLOAT,!1,0,0),d.morphNormals&&(k.bindBuffer(k.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[j[g]]),k.vertexAttribPointer(c["morphNormal"+g],3,k.FLOAT, !1,0,0)),f.__webglMorphTargetInfluences[g]=h[j[g]],g++}else{var j=[],l=-1,m=0;h=f.morphTargetInfluences;var o,p=h.length;g=0;for(-1!==f.morphTargetBase&&(j[f.morphTargetBase]=!0);g<d.numSupportedMorphTargets;){for(o=0;o<p;o++)!j[o]&&h[o]>l&&(m=o,l=h[m]);k.bindBuffer(k.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[m]);k.vertexAttribPointer(c["morphTarget"+g],3,k.FLOAT,!1,0,0);d.morphNormals&&(k.bindBuffer(k.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[m]),k.vertexAttribPointer(c["morphNormal"+g],3,k.FLOAT, !1,0,0));f.__webglMorphTargetInfluences[g]=l;j[m]=1;l=-1;g++}}null!==d.program.uniforms.morphTargetInfluences&&k.uniform1fv(d.program.uniforms.morphTargetInfluences,f.__webglMorphTargetInfluences)}if(a){if(e.__webglCustomAttributesList){g=0;for(h=e.__webglCustomAttributesList.length;g<h;g++)c=e.__webglCustomAttributesList[g],0<=b[c.buffer.belongsToAttribute]&&(k.bindBuffer(k.ARRAY_BUFFER,c.buffer),k.vertexAttribPointer(b[c.buffer.belongsToAttribute],c.size,k.FLOAT,!1,0,0))}0<=b.color&&(k.bindBuffer(k.ARRAY_BUFFER, e.__webglColorBuffer),k.vertexAttribPointer(b.color,3,k.FLOAT,!1,0,0));0<=b.normal&&(k.bindBuffer(k.ARRAY_BUFFER,e.__webglNormalBuffer),k.vertexAttribPointer(b.normal,3,k.FLOAT,!1,0,0));0<=b.tangent&&(k.bindBuffer(k.ARRAY_BUFFER,e.__webglTangentBuffer),k.vertexAttribPointer(b.tangent,4,k.FLOAT,!1,0,0));0<=b.uv&&(e.__webglUVBuffer?(k.bindBuffer(k.ARRAY_BUFFER,e.__webglUVBuffer),k.vertexAttribPointer(b.uv,2,k.FLOAT,!1,0,0),k.enableVertexAttribArray(b.uv)):k.disableVertexAttribArray(b.uv));0<=b.uv2&& (e.__webglUV2Buffer?(k.bindBuffer(k.ARRAY_BUFFER,e.__webglUV2Buffer),k.vertexAttribPointer(b.uv2,2,k.FLOAT,!1,0,0),k.enableVertexAttribArray(b.uv2)):k.disableVertexAttribArray(b.uv2));d.skinning&&(0<=b.skinVertexA&&0<=b.skinVertexB&&0<=b.skinIndex&&0<=b.skinWeight)&&(k.bindBuffer(k.ARRAY_BUFFER,e.__webglSkinVertexABuffer),k.vertexAttribPointer(b.skinVertexA,4,k.FLOAT,!1,0,0),k.bindBuffer(k.ARRAY_BUFFER,e.__webglSkinVertexBBuffer),k.vertexAttribPointer(b.skinVertexB,4,k.FLOAT,!1,0,0),k.bindBuffer(k.ARRAY_BUFFER, e.__webglSkinIndicesBuffer),k.vertexAttribPointer(b.skinIndex,4,k.FLOAT,!1,0,0),k.bindBuffer(k.ARRAY_BUFFER,e.__webglSkinWeightsBuffer),k.vertexAttribPointer(b.skinWeight,4,k.FLOAT,!1,0,0))}f instanceof THREE.Mesh?(d.wireframe?(d=d.wireframeLinewidth,d!==Sa&&(k.lineWidth(d),Sa=d),a&&k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,e.__webglLineBuffer),k.drawElements(k.LINES,e.__webglLineCount,k.UNSIGNED_SHORT,0)):(a&&k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),k.drawElements(k.TRIANGLES,e.__webglFaceCount, k.UNSIGNED_SHORT,0)),J.info.render.calls++,J.info.render.vertices+=e.__webglFaceCount,J.info.render.faces+=e.__webglFaceCount/3):f instanceof THREE.Line?(f=f.type===THREE.LineStrip?k.LINE_STRIP:k.LINES,d=d.linewidth,d!==Sa&&(k.lineWidth(d),Sa=d),k.drawArrays(f,0,e.__webglLineCount),J.info.render.calls++):f instanceof THREE.ParticleSystem?(k.drawArrays(k.POINTS,0,e.__webglParticleCount),J.info.render.calls++,J.info.render.points+=e.__webglParticleCount):f instanceof THREE.Ribbon&&(k.drawArrays(k.TRIANGLE_STRIP, 0,e.__webglVertexCount),J.info.render.calls++)}};this.render=function(a,b,c,d){var e,f,l,n,o=a.__lights,p=a.fog;N=-1;Za=!0;void 0===b.parent&&(console.warn("DEPRECATED: Camera hasn't been added to a Scene. Adding it..."),a.add(b));this.autoUpdateScene&&a.updateMatrixWorld();b._viewMatrixArray||(b._viewMatrixArray=new Float32Array(16));b._projectionMatrixArray||(b._projectionMatrixArray=new Float32Array(16));b.matrixWorldInverse.getInverse(b.matrixWorld);b.matrixWorldInverse.flattenToArray(b._viewMatrixArray);b.projectionMatrix.flattenToArray(b._projectionMatrixArray);Ha.multiply(b.projectionMatrix,b.matrixWorldInverse);cb.setFromMatrix(Ha);this.autoUpdateObjects&&this.initWebGLObjects(a);h(this.renderPluginsPre,a,b);J.info.render.calls=0;J.info.render.vertices=0;J.info.render.faces=0;J.info.render.points=0;this.setRenderTarget(c);(this.autoClear||d)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);n=a.__webglObjects;d=0;for(e=n.length;d<e;d++)if(f=n[d],l=f.object,f.render=!1, l.visible&&(!(l instanceof THREE.Mesh||l instanceof THREE.ParticleSystem)||!l.frustumCulled||cb.contains(l))){s(l,b);var q=f,r=q.object,x=q.buffer,u=void 0,u=r.material;u instanceof THREE.MeshFaceMaterial?(u=x.materialIndex,0<=u&&(u=r.geometry.materials[u],u.transparent?(q.transparent=u,q.opaque=null):(q.opaque=u,q.transparent=null))):u&&(u.transparent?(q.transparent=u,q.opaque=null):(q.opaque=u,q.transparent=null));f.render=!0;this.sortObjects&&(l.renderDepth?f.z=l.renderDepth:(gb.copy(l.matrixWorld.getPosition()), Ha.multiplyVector3(gb),f.z=gb.z))}this.sortObjects&&n.sort(g);n=a.__webglObjectsImmediate;d=0;for(e=n.length;d<e;d++)f=n[d],l=f.object,l.visible&&(s(l,b),l=f.object.material,l.transparent?(f.transparent=l,f.opaque=null):(f.opaque=l,f.transparent=null));a.overrideMaterial?(d=a.overrideMaterial,this.setBlending(d.blending,d.blendEquation,d.blendSrc,d.blendDst),this.setDepthTest(d.depthTest),this.setDepthWrite(d.depthWrite),w(d.polygonOffset,d.polygonOffsetFactor,d.polygonOffsetUnits),j(a.__webglObjects, !1,"",b,o,p,!0,d),m(a.__webglObjectsImmediate,"",b,o,p,!1,d)):(this.setBlending(THREE.NormalBlending),j(a.__webglObjects,!0,"opaque",b,o,p,!1),m(a.__webglObjectsImmediate,"opaque",b,o,p,!1),j(a.__webglObjects,!1,"transparent",b,o,p,!0),m(a.__webglObjectsImmediate,"transparent",b,o,p,!0));h(this.renderPluginsPost,a,b);c&&(c.generateMipmaps&&c.minFilter!==THREE.NearestFilter&&c.minFilter!==THREE.LinearFilter)&&(c instanceof THREE.WebGLRenderTargetCube?(k.bindTexture(k.TEXTURE_CUBE_MAP,c.__webglTexture), k.generateMipmap(k.TEXTURE_CUBE_MAP),k.bindTexture(k.TEXTURE_CUBE_MAP,null)):(k.bindTexture(k.TEXTURE_2D,c.__webglTexture),k.generateMipmap(k.TEXTURE_2D),k.bindTexture(k.TEXTURE_2D,null)));this.setDepthTest(!0);this.setDepthWrite(!0)};this.renderImmediateObject=function(a,b,c,d,e){var f=n(a,b,c,d,e);R=-1;J.setObjectFaces(e);e.immediateRenderCallback?e.immediateRenderCallback(f,k,cb):e.render(function(a){J.renderBufferImmediate(a,f,d.shading)})};this.initWebGLObjects=function(a){a.__webglObjects||        (a.__webglObjects=[],a.__webglObjectsImmediate=[],a.__webglSprites=[],a.__webglFlares=[]);for(;a.__objectsAdded.length;){var g=a.__objectsAdded[0],h=a,j=void 0,m=void 0,n=void 0;if(!g.__webglInit)if(g.__webglInit=!0,g._modelViewMatrix=new THREE.Matrix4,g._normalMatrix=new THREE.Matrix3,g instanceof THREE.Mesh){if(m=g.geometry,m instanceof THREE.Geometry){if(void 0===m.geometryGroups){var s=m,u=void 0,x=void 0,w=void 0,v=void 0,z=void 0,y=void 0,B=void 0,D={},E=s.morphTargets.length,G=s.morphNormals.length;s.geometryGroups={};u=0;for(x=s.faces.length;u<x;u++)w=s.faces[u],v=w.materialIndex,y=void 0!==v?v:-1,void 0===D[y]&&(D[y]={hash:y,counter:0}),B=D[y].hash+"_"+D[y].counter,void 0===s.geometryGroups[B]&&(s.geometryGroups[B]={faces3:[],faces4:[],materialIndex:v,vertices:0,numMorphTargets:E,numMorphNormals:G}),z=w instanceof THREE.Face3?3:4,65535<s.geometryGroups[B].vertices+z&&(D[y].counter+=1,B=D[y].hash+"_"+D[y].counter,void 0===s.geometryGroups[B]&&(s.geometryGroups[B]={faces3:[],faces4:[],materialIndex:v, vertices:0,numMorphTargets:E,numMorphNormals:G})),w instanceof THREE.Face3?s.geometryGroups[B].faces3.push(u):s.geometryGroups[B].faces4.push(u),s.geometryGroups[B].vertices+=z;s.geometryGroupsList=[];var I=void 0;for(I in s.geometryGroups)s.geometryGroups[I].id=ma++,s.geometryGroupsList.push(s.geometryGroups[I])}for(j in m.geometryGroups)if(n=m.geometryGroups[j],!n.__webglVertexBuffer){var F=n;F.__webglVertexBuffer=k.createBuffer();F.__webglNormalBuffer=k.createBuffer();F.__webglTangentBuffer=k.createBuffer();F.__webglColorBuffer=k.createBuffer();F.__webglUVBuffer=k.createBuffer();F.__webglUV2Buffer=k.createBuffer();F.__webglSkinVertexABuffer=k.createBuffer();F.__webglSkinVertexBBuffer=k.createBuffer();F.__webglSkinIndicesBuffer=k.createBuffer();F.__webglSkinWeightsBuffer=k.createBuffer();F.__webglFaceBuffer=k.createBuffer();F.__webglLineBuffer=k.createBuffer();var N=void 0,M=void 0;if(F.numMorphTargets){F.__webglMorphTargetsBuffers=[];N=0;for(M=F.numMorphTargets;N<M;N++)F.__webglMorphTargetsBuffers.push(k.createBuffer())}if(F.numMorphNormals){F.__webglMorphNormalsBuffers=[];N=0;for(M=F.numMorphNormals;N<M;N++)F.__webglMorphNormalsBuffers.push(k.createBuffer())}J.info.memory.geometries++;var K=n,R=g,P=R.geometry,U=K.faces3,S=K.faces4,ba=3*U.length+4*S.length,V=1*U.length+2*S.length,da=3*U.length+4*S.length,ca=c(R,K),W=e(ca),X=d(ca),ea=ca.vertexColors?ca.vertexColors:!1;K.__vertexArray=new Float32Array(3*ba);X&&(K.__normalArray=new Float32Array(3*ba));P.hasTangents&&(K.__tangentArray=new Float32Array(4*ba));ea&&(K.__colorArray=new Float32Array(3*ba));if(W){if(0<P.faceUvs.length||        0<P.faceVertexUvs.length)K.__uvArray=new Float32Array(2*ba);if(1<P.faceUvs.length||1<P.faceVertexUvs.length)K.__uv2Array=new Float32Array(2*ba)}R.geometry.skinWeights.length&&R.geometry.skinIndices.length&&(K.__skinVertexAArray=new Float32Array(4*ba),K.__skinVertexBArray=new Float32Array(4*ba),K.__skinIndexArray=new Float32Array(4*ba),K.__skinWeightArray=new Float32Array(4*ba));K.__faceArray=new Uint16Array(3*V);K.__lineArray=new Uint16Array(2*da);var ja=void 0,na=void 0;if(K.numMorphTargets){K.__morphTargetsArrays=[];ja=0;for(na=K.numMorphTargets;ja<na;ja++)K.__morphTargetsArrays.push(new Float32Array(3*ba))}if(K.numMorphNormals){K.__morphNormalsArrays=[];ja=0;for(na=K.numMorphNormals;ja<na;ja++)K.__morphNormalsArrays.push(new Float32Array(3*ba))}K.__webglFaceCount=3*V;K.__webglLineCount=2*da;if(ca.attributes){void 0===K.__webglCustomAttributesList&&(K.__webglCustomAttributesList=[]);var Ra=void 0;for(Ra in ca.attributes){var la=ca.attributes[Ra],Ca={},Xa;for(Xa in la)Ca[Xa]=la[Xa];if(!Ca.__webglInitialized||        Ca.createUniqueBuffers){Ca.__webglInitialized=!0;var sa=1;"v2"===Ca.type?sa=2:"v3"===Ca.type?sa=3:"v4"===Ca.type?sa=4:"c"===Ca.type&&(sa=3);Ca.size=sa;Ca.array=new Float32Array(ba*sa);Ca.buffer=k.createBuffer();Ca.buffer.belongsToAttribute=Ra;la.needsUpdate=!0;Ca.__original=la}K.__webglCustomAttributesList.push(Ca)}}K.__inittedArrays=!0;m.verticesNeedUpdate=!0;m.morphTargetsNeedUpdate=!0;m.elementsNeedUpdate=!0;m.uvsNeedUpdate=!0;m.normalsNeedUpdate=!0;m.tangetsNeedUpdate=!0;m.colorsNeedUpdate=!0}}}else if(g instanceof        THREE.Ribbon){if(m=g.geometry,!m.__webglVertexBuffer){var bb=m;bb.__webglVertexBuffer=k.createBuffer();bb.__webglColorBuffer=k.createBuffer();J.info.memory.geometries++;var Da=m,Ha=Da.vertices.length;Da.__vertexArray=new Float32Array(3*Ha);Da.__colorArray=new Float32Array(3*Ha);Da.__webglVertexCount=Ha;m.verticesNeedUpdate=!0;m.colorsNeedUpdate=!0}}else if(g instanceof THREE.Line){if(m=g.geometry,!m.__webglVertexBuffer){var Ya=m;Ya.__webglVertexBuffer=k.createBuffer();Ya.__webglColorBuffer=k.createBuffer();J.info.memory.geometries++;var Sa=m,Za=g,cb=Sa.vertices.length;Sa.__vertexArray=new Float32Array(3*cb);Sa.__colorArray=new Float32Array(3*cb);Sa.__webglLineCount=cb;b(Sa,Za);m.verticesNeedUpdate=!0;m.colorsNeedUpdate=!0}}else if(g instanceof THREE.ParticleSystem&&(m=g.geometry,!m.__webglVertexBuffer)){var gb=m;gb.__webglVertexBuffer=k.createBuffer();gb.__webglColorBuffer=k.createBuffer();J.info.geometries++;var Va=m,Pb=g,sb=Va.vertices.length;Va.__vertexArray=new Float32Array(3*sb);Va.__colorArray=new Float32Array(3*sb);Va.__sortArray=[];Va.__webglParticleCount=sb;b(Va,Pb);m.verticesNeedUpdate=!0;m.colorsNeedUpdate=!0}if(!g.__webglActive){if(g instanceof THREE.Mesh)if(m=g.geometry,m instanceof THREE.BufferGeometry)l(h.__webglObjects,m,g);else for(j in m.geometryGroups)n=m.geometryGroups[j],l(h.__webglObjects,n,g);else g instanceof THREE.Ribbon||g instanceof THREE.Line||g instanceof THREE.ParticleSystem?(m=g.geometry,l(h.__webglObjects,m,g)):g instanceof THREE.ImmediateRenderObject||g.immediateRenderCallback?        h.__webglObjectsImmediate.push({object:g,opaque:null,transparent:null}):g instanceof THREE.Sprite?h.__webglSprites.push(g):g instanceof THREE.LensFlare&&h.__webglFlares.push(g);g.__webglActive=!0}a.__objectsAdded.splice(0,1)}for(;a.__objectsRemoved.length;){var ib=a.__objectsRemoved[0],hb=a;ib instanceof THREE.Mesh||ib instanceof THREE.ParticleSystem||ib instanceof THREE.Ribbon||ib instanceof THREE.Line?p(hb.__webglObjects,ib):ib instanceof THREE.Sprite?r(hb.__webglSprites,ib):ib instanceof THREE.LensFlare?        r(hb.__webglFlares,ib):(ib instanceof THREE.ImmediateRenderObject||ib.immediateRenderCallback)&&p(hb.__webglObjectsImmediate,ib);ib.__webglActive=!1;a.__objectsRemoved.splice(0,1)}for(var pb=0,Qb=a.__webglObjects.length;pb<Qb;pb++){var qb=a.__webglObjects[pb].object,ka=qb.geometry,lb=void 0,sc=void 0,$a=void 0;if(qb instanceof THREE.Mesh)if(ka instanceof THREE.BufferGeometry)ka.verticesNeedUpdate=!1,ka.elementsNeedUpdate=!1,ka.uvsNeedUpdate=!1,ka.normalsNeedUpdate=!1,ka.colorsNeedUpdate=!1;else{for(var Jb=0,fc=ka.geometryGroupsList.length;Jb<fc;Jb++)if(lb=ka.geometryGroupsList[Jb],$a=c(qb,lb),sc=$a.attributes&&q($a),ka.verticesNeedUpdate||ka.morphTargetsNeedUpdate||ka.elementsNeedUpdate||ka.uvsNeedUpdate||ka.normalsNeedUpdate||ka.colorsNeedUpdate||ka.tangetsNeedUpdate||sc){var ga=lb,gc=qb,db=k.DYNAMIC_DRAW,td=!ka.dynamic,kc=$a;if(ga.__inittedArrays){var id=d(kc),ad=kc.vertexColors?kc.vertexColors:!1,jd=e(kc),Nc=id===THREE.SmoothShading,L=void 0,Y=void 0,ob=void 0,Q=void 0,tc=void 0,Tb=void 0,rb=void 0, Oc=void 0,Kb=void 0,uc=void 0,vc=void 0,Z=void 0,$=void 0,aa=void 0,ta=void 0,tb=void 0,ub=void 0,vb=void 0,Ac=void 0,wb=void 0,xb=void 0,yb=void 0,Bc=void 0,zb=void 0,Ab=void 0,Bb=void 0,Cc=void 0,Cb=void 0,Db=void 0,Eb=void 0,Dc=void 0,Fb=void 0,Gb=void 0,Hb=void 0,Ec=void 0,Ub=void 0,Vb=void 0,Wb=void 0,Pc=void 0,Xb=void 0,Yb=void 0,Zb=void 0,Qc=void 0,pa=void 0,kd=void 0,$b=void 0,wc=void 0,xc=void 0,Ma=void 0,ld=void 0,Ka=void 0,La=void 0,ac=void 0,Lb=void 0,Ea=0,Ja=0,Mb=0,Nb=0,jb=0,Qa=0,ua=0,Ta=0,Fa=0,O=0,fa=0,H=0,eb=void 0,Na=ga.__vertexArray,Fc=ga.__uvArray,Gc=ga.__uv2Array,kb=ga.__normalArray,wa=ga.__tangentArray,Oa=ga.__colorArray,xa=ga.__skinVertexAArray,ya=ga.__skinVertexBArray,za=ga.__skinIndexArray,Aa=ga.__skinWeightArray,bd=ga.__morphTargetsArrays,cd=ga.__morphNormalsArrays,dd=ga.__webglCustomAttributesList,C=void 0,Ib=ga.__faceArray,fb=ga.__lineArray,Ua=gc.geometry,ud=Ua.elementsNeedUpdate,md=Ua.uvsNeedUpdate,vd=Ua.normalsNeedUpdate,wd=Ua.tangetsNeedUpdate,xd=Ua.colorsNeedUpdate, yd=Ua.morphTargetsNeedUpdate,lc=Ua.vertices,qa=ga.faces3,ra=ga.faces4,Ga=Ua.faces,ed=Ua.faceVertexUvs[0],fd=Ua.faceVertexUvs[1],mc=Ua.skinVerticesA,nc=Ua.skinVerticesB,oc=Ua.skinIndices,bc=Ua.skinWeights,cc=Ua.morphTargets,Rc=Ua.morphNormals;if(Ua.verticesNeedUpdate){L=0;for(Y=qa.length;L<Y;L++)Q=Ga[qa[L]],Z=lc[Q.a],$=lc[Q.b],aa=lc[Q.c],Na[Ja]=Z.x,Na[Ja+1]=Z.y,Na[Ja+2]=Z.z,Na[Ja+3]=$.x,Na[Ja+4]=$.y,Na[Ja+5]=$.z,Na[Ja+6]=aa.x,Na[Ja+7]=aa.y,Na[Ja+8]=aa.z,Ja+=9;L=0;for(Y=ra.length;L<Y;L++)Q=Ga[ra[L]], Z=lc[Q.a],$=lc[Q.b],aa=lc[Q.c],ta=lc[Q.d],Na[Ja]=Z.x,Na[Ja+1]=Z.y,Na[Ja+2]=Z.z,Na[Ja+3]=$.x,Na[Ja+4]=$.y,Na[Ja+5]=$.z,Na[Ja+6]=aa.x,Na[Ja+7]=aa.y,Na[Ja+8]=aa.z,Na[Ja+9]=ta.x,Na[Ja+10]=ta.y,Na[Ja+11]=ta.z,Ja+=12;k.bindBuffer(k.ARRAY_BUFFER,ga.__webglVertexBuffer);k.bufferData(k.ARRAY_BUFFER,Na,db)}if(yd){Ma=0;for(ld=cc.length;Ma<ld;Ma++){L=fa=0;for(Y=qa.length;L<Y;L++)ac=qa[L],Q=Ga[ac],Z=cc[Ma].vertices[Q.a],$=cc[Ma].vertices[Q.b],aa=cc[Ma].vertices[Q.c],Ka=bd[Ma],Ka[fa]=Z.x,Ka[fa+1]=Z.y,Ka[fa+2]=Z.z,Ka[fa+3]=$.x,Ka[fa+4]=$.y,Ka[fa+5]=$.z,Ka[fa+6]=aa.x,Ka[fa+7]=aa.y,Ka[fa+8]=aa.z,kc.morphNormals&&(Nc?(Lb=Rc[Ma].vertexNormals[ac],wb=Lb.a,xb=Lb.b,yb=Lb.c):yb=xb=wb=Rc[Ma].faceNormals[ac],La=cd[Ma],La[fa]=wb.x,La[fa+1]=wb.y,La[fa+2]=wb.z,La[fa+3]=xb.x,La[fa+4]=xb.y,La[fa+5]=xb.z,La[fa+6]=yb.x,La[fa+7]=yb.y,La[fa+8]=yb.z),fa+=9;L=0;for(Y=ra.length;L<Y;L++)ac=ra[L],Q=Ga[ac],Z=cc[Ma].vertices[Q.a],$=cc[Ma].vertices[Q.b],aa=cc[Ma].vertices[Q.c],ta=cc[Ma].vertices[Q.d],Ka=bd[Ma],Ka[fa]=Z.x,Ka[fa+1]=Z.y,Ka[fa+2]=Z.z,Ka[fa+3]=$.x,Ka[fa+4]=$.y,Ka[fa+5]=$.z,Ka[fa+6]=aa.x,Ka[fa+7]=aa.y,Ka[fa+8]=aa.z,Ka[fa+9]=ta.x,Ka[fa+10]=ta.y,Ka[fa+11]=ta.z,kc.morphNormals&&(Nc?(Lb=Rc[Ma].vertexNormals[ac],wb=Lb.a,xb=Lb.b,yb=Lb.c,Bc=Lb.d):Bc=yb=xb=wb=Rc[Ma].faceNormals[ac],La=cd[Ma],La[fa]=wb.x,La[fa+1]=wb.y,La[fa+2]=wb.z,La[fa+3]=xb.x,La[fa+4]=xb.y,La[fa+5]=xb.z,La[fa+6]=yb.x,La[fa+7]=yb.y,La[fa+8]=yb.z,La[fa+9]=Bc.x,La[fa+10]=Bc.y,La[fa+11]=Bc.z),fa+=12;k.bindBuffer(k.ARRAY_BUFFER,ga.__webglMorphTargetsBuffers[Ma]);k.bufferData(k.ARRAY_BUFFER,bd[Ma],db);kc.morphNormals&&(k.bindBuffer(k.ARRAY_BUFFER,ga.__webglMorphNormalsBuffers[Ma]),k.bufferData(k.ARRAY_BUFFER,cd[Ma],db))}}if(bc.length){L=0;for(Y=qa.length;L<Y;L++)Q=Ga[qa[L]],Cb=bc[Q.a],Db=bc[Q.b],Eb=bc[Q.c],Aa[O]=Cb.x,Aa[O+1]=Cb.y,Aa[O+2]=Cb.z,Aa[O+3]=Cb.w,Aa[O+4]=Db.x,Aa[O+5]=Db.y,Aa[O+6]=Db.z,Aa[O+7]=Db.w,Aa[O+8]=Eb.x,Aa[O+9]=Eb.y,Aa[O+10]=Eb.z,Aa[O+11]=Eb.w,Fb=oc[Q.a],Gb=oc[Q.b],Hb=oc[Q.c],za[O]=Fb.x,za[O+1]=Fb.y,za[O+2]=Fb.z,za[O+3]=Fb.w,za[O+4]=Gb.x,za[O+        5]=Gb.y,za[O+6]=Gb.z,za[O+7]=Gb.w,za[O+8]=Hb.x,za[O+9]=Hb.y,za[O+10]=Hb.z,za[O+11]=Hb.w,Ub=mc[Q.a],Vb=mc[Q.b],Wb=mc[Q.c],xa[O]=Ub.x,xa[O+1]=Ub.y,xa[O+2]=Ub.z,xa[O+3]=1,xa[O+4]=Vb.x,xa[O+5]=Vb.y,xa[O+6]=Vb.z,xa[O+7]=1,xa[O+8]=Wb.x,xa[O+9]=Wb.y,xa[O+10]=Wb.z,xa[O+11]=1,Xb=nc[Q.a],Yb=nc[Q.b],Zb=nc[Q.c],ya[O]=Xb.x,ya[O+1]=Xb.y,ya[O+2]=Xb.z,ya[O+3]=1,ya[O+4]=Yb.x,ya[O+5]=Yb.y,ya[O+6]=Yb.z,ya[O+7]=1,ya[O+8]=Zb.x,ya[O+9]=Zb.y,ya[O+10]=Zb.z,ya[O+11]=1,O+=12;L=0;for(Y=ra.length;L<Y;L++)Q=Ga[ra[L]],Cb=bc[Q.a], Db=bc[Q.b],Eb=bc[Q.c],Dc=bc[Q.d],Aa[O]=Cb.x,Aa[O+1]=Cb.y,Aa[O+2]=Cb.z,Aa[O+3]=Cb.w,Aa[O+4]=Db.x,Aa[O+5]=Db.y,Aa[O+6]=Db.z,Aa[O+7]=Db.w,Aa[O+8]=Eb.x,Aa[O+9]=Eb.y,Aa[O+10]=Eb.z,Aa[O+11]=Eb.w,Aa[O+12]=Dc.x,Aa[O+13]=Dc.y,Aa[O+14]=Dc.z,Aa[O+15]=Dc.w,Fb=oc[Q.a],Gb=oc[Q.b],Hb=oc[Q.c],Ec=oc[Q.d],za[O]=Fb.x,za[O+1]=Fb.y,za[O+2]=Fb.z,za[O+3]=Fb.w,za[O+4]=Gb.x,za[O+5]=Gb.y,za[O+6]=Gb.z,za[O+7]=Gb.w,za[O+8]=Hb.x,za[O+9]=Hb.y,za[O+10]=Hb.z,za[O+11]=Hb.w,za[O+12]=Ec.x,za[O+13]=Ec.y,za[O+14]=Ec.z,za[O+15]=Ec.w, Ub=mc[Q.a],Vb=mc[Q.b],Wb=mc[Q.c],Pc=mc[Q.d],xa[O]=Ub.x,xa[O+1]=Ub.y,xa[O+2]=Ub.z,xa[O+3]=1,xa[O+4]=Vb.x,xa[O+5]=Vb.y,xa[O+6]=Vb.z,xa[O+7]=1,xa[O+8]=Wb.x,xa[O+9]=Wb.y,xa[O+10]=Wb.z,xa[O+11]=1,xa[O+12]=Pc.x,xa[O+13]=Pc.y,xa[O+14]=Pc.z,xa[O+15]=1,Xb=nc[Q.a],Yb=nc[Q.b],Zb=nc[Q.c],Qc=nc[Q.d],ya[O]=Xb.x,ya[O+1]=Xb.y,ya[O+2]=Xb.z,ya[O+3]=1,ya[O+4]=Yb.x,ya[O+5]=Yb.y,ya[O+6]=Yb.z,ya[O+7]=1,ya[O+8]=Zb.x,ya[O+9]=Zb.y,ya[O+10]=Zb.z,ya[O+11]=1,ya[O+12]=Qc.x,ya[O+13]=Qc.y,ya[O+14]=Qc.z,ya[O+15]=1,O+=16;0<O&&(k.bindBuffer(k.ARRAY_BUFFER, ga.__webglSkinVertexABuffer),k.bufferData(k.ARRAY_BUFFER,xa,db),k.bindBuffer(k.ARRAY_BUFFER,ga.__webglSkinVertexBBuffer),k.bufferData(k.ARRAY_BUFFER,ya,db),k.bindBuffer(k.ARRAY_BUFFER,ga.__webglSkinIndicesBuffer),k.bufferData(k.ARRAY_BUFFER,za,db),k.bindBuffer(k.ARRAY_BUFFER,ga.__webglSkinWeightsBuffer),k.bufferData(k.ARRAY_BUFFER,Aa,db))}if(xd&&ad){L=0;for(Y=qa.length;L<Y;L++)Q=Ga[qa[L]],rb=Q.vertexColors,Oc=Q.color,3===rb.length&&ad===THREE.VertexColors?(zb=rb[0],Ab=rb[1],Bb=rb[2]):Bb=Ab=zb=Oc, Oa[Fa]=zb.r,Oa[Fa+1]=zb.g,Oa[Fa+2]=zb.b,Oa[Fa+3]=Ab.r,Oa[Fa+4]=Ab.g,Oa[Fa+5]=Ab.b,Oa[Fa+6]=Bb.r,Oa[Fa+7]=Bb.g,Oa[Fa+8]=Bb.b,Fa+=9;L=0;for(Y=ra.length;L<Y;L++)Q=Ga[ra[L]],rb=Q.vertexColors,Oc=Q.color,4===rb.length&&ad===THREE.VertexColors?(zb=rb[0],Ab=rb[1],Bb=rb[2],Cc=rb[3]):Cc=Bb=Ab=zb=Oc,Oa[Fa]=zb.r,Oa[Fa+1]=zb.g,Oa[Fa+2]=zb.b,Oa[Fa+3]=Ab.r,Oa[Fa+4]=Ab.g,Oa[Fa+5]=Ab.b,Oa[Fa+6]=Bb.r,Oa[Fa+7]=Bb.g,Oa[Fa+8]=Bb.b,Oa[Fa+9]=Cc.r,Oa[Fa+10]=Cc.g,Oa[Fa+11]=Cc.b,Fa+=12;0<Fa&&(k.bindBuffer(k.ARRAY_BUFFER, ga.__webglColorBuffer),k.bufferData(k.ARRAY_BUFFER,Oa,db))}if(wd&&Ua.hasTangents){L=0;for(Y=qa.length;L<Y;L++)Q=Ga[qa[L]],Kb=Q.vertexTangents,tb=Kb[0],ub=Kb[1],vb=Kb[2],wa[ua]=tb.x,wa[ua+1]=tb.y,wa[ua+2]=tb.z,wa[ua+3]=tb.w,wa[ua+4]=ub.x,wa[ua+5]=ub.y,wa[ua+6]=ub.z,wa[ua+7]=ub.w,wa[ua+8]=vb.x,wa[ua+9]=vb.y,wa[ua+10]=vb.z,wa[ua+11]=vb.w,ua+=12;L=0;for(Y=ra.length;L<Y;L++)Q=Ga[ra[L]],Kb=Q.vertexTangents,tb=Kb[0],ub=Kb[1],vb=Kb[2],Ac=Kb[3],wa[ua]=tb.x,wa[ua+1]=tb.y,wa[ua+2]=tb.z,wa[ua+3]=tb.w,wa[ua+4]=ub.x,wa[ua+5]=ub.y,wa[ua+6]=ub.z,wa[ua+7]=ub.w,wa[ua+8]=vb.x,wa[ua+9]=vb.y,wa[ua+10]=vb.z,wa[ua+11]=vb.w,wa[ua+12]=Ac.x,wa[ua+13]=Ac.y,wa[ua+14]=Ac.z,wa[ua+15]=Ac.w,ua+=16;k.bindBuffer(k.ARRAY_BUFFER,ga.__webglTangentBuffer);k.bufferData(k.ARRAY_BUFFER,wa,db)}if(vd&&id){L=0;for(Y=qa.length;L<Y;L++)if(Q=Ga[qa[L]],tc=Q.vertexNormals,Tb=Q.normal,3===tc.length&&Nc)for(pa=0;3>pa;pa++)$b=tc[pa],kb[Qa]=$b.x,kb[Qa+1]=$b.y,kb[Qa+2]=$b.z,Qa+=3;else for(pa=0;3>pa;pa++)kb[Qa]=Tb.x,kb[Qa+1]=Tb.y,kb[Qa+2]=Tb.z, Qa+=3;L=0;for(Y=ra.length;L<Y;L++)if(Q=Ga[ra[L]],tc=Q.vertexNormals,Tb=Q.normal,4===tc.length&&Nc)for(pa=0;4>pa;pa++)$b=tc[pa],kb[Qa]=$b.x,kb[Qa+1]=$b.y,kb[Qa+2]=$b.z,Qa+=3;else for(pa=0;4>pa;pa++)kb[Qa]=Tb.x,kb[Qa+1]=Tb.y,kb[Qa+2]=Tb.z,Qa+=3;k.bindBuffer(k.ARRAY_BUFFER,ga.__webglNormalBuffer);k.bufferData(k.ARRAY_BUFFER,kb,db)}if(md&&ed&&jd){L=0;for(Y=qa.length;L<Y;L++)if(ob=qa[L],Q=Ga[ob],uc=ed[ob],void 0!==uc)for(pa=0;3>pa;pa++)wc=uc[pa],Fc[Mb]=wc.u,Fc[Mb+1]=wc.v,Mb+=2;L=0;for(Y=ra.length;L<Y;L++)if(ob=ra[L],Q=Ga[ob],uc=ed[ob],void 0!==uc)for(pa=0;4>pa;pa++)wc=uc[pa],Fc[Mb]=wc.u,Fc[Mb+1]=wc.v,Mb+=2;0<Mb&&(k.bindBuffer(k.ARRAY_BUFFER,ga.__webglUVBuffer),k.bufferData(k.ARRAY_BUFFER,Fc,db))}if(md&&fd&&jd){L=0;for(Y=qa.length;L<Y;L++)if(ob=qa[L],Q=Ga[ob],vc=fd[ob],void 0!==vc)for(pa=0;3>pa;pa++)xc=vc[pa],Gc[Nb]=xc.u,Gc[Nb+1]=xc.v,Nb+=2;L=0;for(Y=ra.length;L<Y;L++)if(ob=ra[L],Q=Ga[ob],vc=fd[ob],void 0!==vc)for(pa=0;4>pa;pa++)xc=vc[pa],Gc[Nb]=xc.u,Gc[Nb+1]=xc.v,Nb+=2;0<Nb&&(k.bindBuffer(k.ARRAY_BUFFER, ga.__webglUV2Buffer),k.bufferData(k.ARRAY_BUFFER,Gc,db))}if(ud){L=0;for(Y=qa.length;L<Y;L++)Q=Ga[qa[L]],Ib[jb]=Ea,Ib[jb+1]=Ea+1,Ib[jb+2]=Ea+2,jb+=3,fb[Ta]=Ea,fb[Ta+1]=Ea+1,fb[Ta+2]=Ea,fb[Ta+3]=Ea+2,fb[Ta+4]=Ea+1,fb[Ta+5]=Ea+2,Ta+=6,Ea+=3;L=0;for(Y=ra.length;L<Y;L++)Q=Ga[ra[L]],Ib[jb]=Ea,Ib[jb+1]=Ea+1,Ib[jb+2]=Ea+3,Ib[jb+3]=Ea+1,Ib[jb+4]=Ea+2,Ib[jb+5]=Ea+3,jb+=6,fb[Ta]=Ea,fb[Ta+1]=Ea+1,fb[Ta+2]=Ea,fb[Ta+3]=Ea+3,fb[Ta+4]=Ea+1,fb[Ta+5]=Ea+2,fb[Ta+6]=Ea+2,fb[Ta+7]=Ea+3,Ta+=8,Ea+=4;k.bindBuffer(k.ELEMENT_ARRAY_BUFFER, ga.__webglFaceBuffer);k.bufferData(k.ELEMENT_ARRAY_BUFFER,Ib,db);k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,ga.__webglLineBuffer);k.bufferData(k.ELEMENT_ARRAY_BUFFER,fb,db)}if(dd){pa=0;for(kd=dd.length;pa<kd;pa++)if(C=dd[pa],C.__original.needsUpdate){H=0;if(1===C.size)if(void 0===C.boundTo||"vertices"===C.boundTo){L=0;for(Y=qa.length;L<Y;L++)Q=Ga[qa[L]],C.array[H]=C.value[Q.a],C.array[H+1]=C.value[Q.b],C.array[H+2]=C.value[Q.c],H+=3;L=0;for(Y=ra.length;L<Y;L++)Q=Ga[ra[L]],C.array[H]=C.value[Q.a],C.array[H+        1]=C.value[Q.b],C.array[H+2]=C.value[Q.c],C.array[H+3]=C.value[Q.d],H+=4}else{if("faces"===C.boundTo){L=0;for(Y=qa.length;L<Y;L++)eb=C.value[qa[L]],C.array[H]=eb,C.array[H+1]=eb,C.array[H+2]=eb,H+=3;L=0;for(Y=ra.length;L<Y;L++)eb=C.value[ra[L]],C.array[H]=eb,C.array[H+1]=eb,C.array[H+2]=eb,C.array[H+3]=eb,H+=4}}else if(2===C.size)if(void 0===C.boundTo||"vertices"===C.boundTo){L=0;for(Y=qa.length;L<Y;L++)Q=Ga[qa[L]],Z=C.value[Q.a],$=C.value[Q.b],aa=C.value[Q.c],C.array[H]=Z.x,C.array[H+1]=Z.y,C.array[H+        2]=$.x,C.array[H+3]=$.y,C.array[H+4]=aa.x,C.array[H+5]=aa.y,H+=6;L=0;for(Y=ra.length;L<Y;L++)Q=Ga[ra[L]],Z=C.value[Q.a],$=C.value[Q.b],aa=C.value[Q.c],ta=C.value[Q.d],C.array[H]=Z.x,C.array[H+1]=Z.y,C.array[H+2]=$.x,C.array[H+3]=$.y,C.array[H+4]=aa.x,C.array[H+5]=aa.y,C.array[H+6]=ta.x,C.array[H+7]=ta.y,H+=8}else{if("faces"===C.boundTo){L=0;for(Y=qa.length;L<Y;L++)aa=$=Z=eb=C.value[qa[L]],C.array[H]=Z.x,C.array[H+1]=Z.y,C.array[H+2]=$.x,C.array[H+3]=$.y,C.array[H+4]=aa.x,C.array[H+5]=aa.y,H+=6;L=0;for(Y=ra.length;L<Y;L++)ta=aa=$=Z=eb=C.value[ra[L]],C.array[H]=Z.x,C.array[H+1]=Z.y,C.array[H+2]=$.x,C.array[H+3]=$.y,C.array[H+4]=aa.x,C.array[H+5]=aa.y,C.array[H+6]=ta.x,C.array[H+7]=ta.y,H+=8}}else if(3===C.size){var ha;ha="c"===C.type?["r","g","b"]:["x","y","z"];if(void 0===C.boundTo||"vertices"===C.boundTo){L=0;for(Y=qa.length;L<Y;L++)Q=Ga[qa[L]],Z=C.value[Q.a],$=C.value[Q.b],aa=C.value[Q.c],C.array[H]=Z[ha[0]],C.array[H+1]=Z[ha[1]],C.array[H+2]=Z[ha[2]],C.array[H+3]=$[ha[0]],C.array[H+4]=$[ha[1]],C.array[H+5]=$[ha[2]],C.array[H+6]=aa[ha[0]],C.array[H+7]=aa[ha[1]],C.array[H+8]=aa[ha[2]],H+=9;L=0;for(Y=ra.length;L<Y;L++)Q=Ga[ra[L]],Z=C.value[Q.a],$=C.value[Q.b],aa=C.value[Q.c],ta=C.value[Q.d],C.array[H]=Z[ha[0]],C.array[H+1]=Z[ha[1]],C.array[H+2]=Z[ha[2]],C.array[H+3]=$[ha[0]],C.array[H+4]=$[ha[1]],C.array[H+5]=$[ha[2]],C.array[H+6]=aa[ha[0]],C.array[H+7]=aa[ha[1]],C.array[H+8]=aa[ha[2]],C.array[H+9]=ta[ha[0]],C.array[H+10]=ta[ha[1]],C.array[H+11]=ta[ha[2]],H+=12}else if("faces"===C.boundTo){L=0;for(Y=qa.length;L<Y;L++)aa=$=Z=eb=C.value[qa[L]],C.array[H]=Z[ha[0]],C.array[H+1]=Z[ha[1]],C.array[H+2]=Z[ha[2]],C.array[H+3]=$[ha[0]],C.array[H+4]=$[ha[1]],C.array[H+5]=$[ha[2]],C.array[H+6]=aa[ha[0]],C.array[H+7]=aa[ha[1]],C.array[H+8]=aa[ha[2]],H+=9;L=0;for(Y=ra.length;L<Y;L++)ta=aa=$=Z=eb=C.value[ra[L]],C.array[H]=Z[ha[0]],C.array[H+1]=Z[ha[1]],C.array[H+2]=Z[ha[2]],C.array[H+3]=$[ha[0]],C.array[H+4]=$[ha[1]],C.array[H+5]=$[ha[2]],C.array[H+6]=aa[ha[0]],C.array[H+7]=aa[ha[1]],C.array[H+        8]=aa[ha[2]],C.array[H+9]=ta[ha[0]],C.array[H+10]=ta[ha[1]],C.array[H+11]=ta[ha[2]],H+=12}}else if(4===C.size)if(void 0===C.boundTo||"vertices"===C.boundTo){L=0;for(Y=qa.length;L<Y;L++)Q=Ga[qa[L]],Z=C.value[Q.a],$=C.value[Q.b],aa=C.value[Q.c],C.array[H]=Z.x,C.array[H+1]=Z.y,C.array[H+2]=Z.z,C.array[H+3]=Z.w,C.array[H+4]=$.x,C.array[H+5]=$.y,C.array[H+6]=$.z,C.array[H+7]=$.w,C.array[H+8]=aa.x,C.array[H+9]=aa.y,C.array[H+10]=aa.z,C.array[H+11]=aa.w,H+=12;L=0;for(Y=ra.length;L<Y;L++)Q=Ga[ra[L]],Z=C.value[Q.a], $=C.value[Q.b],aa=C.value[Q.c],ta=C.value[Q.d],C.array[H]=Z.x,C.array[H+1]=Z.y,C.array[H+2]=Z.z,C.array[H+3]=Z.w,C.array[H+4]=$.x,C.array[H+5]=$.y,C.array[H+6]=$.z,C.array[H+7]=$.w,C.array[H+8]=aa.x,C.array[H+9]=aa.y,C.array[H+10]=aa.z,C.array[H+11]=aa.w,C.array[H+12]=ta.x,C.array[H+13]=ta.y,C.array[H+14]=ta.z,C.array[H+15]=ta.w,H+=16}else if("faces"===C.boundTo){L=0;for(Y=qa.length;L<Y;L++)aa=$=Z=eb=C.value[qa[L]],C.array[H]=Z.x,C.array[H+1]=Z.y,C.array[H+2]=Z.z,C.array[H+3]=Z.w,C.array[H+4]=$.x, C.array[H+5]=$.y,C.array[H+6]=$.z,C.array[H+7]=$.w,C.array[H+8]=aa.x,C.array[H+9]=aa.y,C.array[H+10]=aa.z,C.array[H+11]=aa.w,H+=12;L=0;for(Y=ra.length;L<Y;L++)ta=aa=$=Z=eb=C.value[ra[L]],C.array[H]=Z.x,C.array[H+1]=Z.y,C.array[H+2]=Z.z,C.array[H+3]=Z.w,C.array[H+4]=$.x,C.array[H+5]=$.y,C.array[H+6]=$.z,C.array[H+7]=$.w,C.array[H+8]=aa.x,C.array[H+9]=aa.y,C.array[H+10]=aa.z,C.array[H+11]=aa.w,C.array[H+12]=ta.x,C.array[H+13]=ta.y,C.array[H+14]=ta.z,C.array[H+15]=ta.w,H+=16}k.bindBuffer(k.ARRAY_BUFFER, C.buffer);k.bufferData(k.ARRAY_BUFFER,C.array,db)}}td&&(delete ga.__inittedArrays,delete ga.__colorArray,delete ga.__normalArray,delete ga.__tangentArray,delete ga.__uvArray,delete ga.__uv2Array,delete ga.__faceArray,delete ga.__vertexArray,delete ga.__lineArray,delete ga.__skinVertexAArray,delete ga.__skinVertexBArray,delete ga.__skinIndexArray,delete ga.__skinWeightArray)}}ka.verticesNeedUpdate=!1;ka.morphTargetsNeedUpdate=!1;ka.elementsNeedUpdate=!1;ka.uvsNeedUpdate=!1;ka.normalsNeedUpdate=!1;ka.colorsNeedUpdate=!1;ka.tangetsNeedUpdate=!1;$a.attributes&&o($a)}else if(qb instanceof THREE.Ribbon){if(ka.verticesNeedUpdate||ka.colorsNeedUpdate){var dc=ka,nd=k.DYNAMIC_DRAW,Hc=void 0,Ic=void 0,Sc=void 0,ec=void 0,Tc=void 0,od=dc.vertices,pd=dc.colors,zd=od.length,Ad=pd.length,Uc=dc.__vertexArray,Vc=dc.__colorArray,Bd=dc.colorsNeedUpdate;if(dc.verticesNeedUpdate){for(Hc=0;Hc<zd;Hc++)Sc=od[Hc],ec=3*Hc,Uc[ec]=Sc.x,Uc[ec+1]=Sc.y,Uc[ec+2]=Sc.z;k.bindBuffer(k.ARRAY_BUFFER,dc.__webglVertexBuffer);k.bufferData(k.ARRAY_BUFFER,Uc,nd)}if(Bd){for(Ic=0;Ic<Ad;Ic++)Tc=pd[Ic],ec=3*Ic,Vc[ec]=Tc.r,Vc[ec+1]=Tc.g,Vc[ec+2]=Tc.b;k.bindBuffer(k.ARRAY_BUFFER,dc.__webglColorBuffer);k.bufferData(k.ARRAY_BUFFER,Vc,nd)}}ka.verticesNeedUpdate=!1;ka.colorsNeedUpdate=!1}else if(qb instanceof THREE.Line){$a=c(qb,lb);sc=$a.attributes&&q($a);if(ka.verticesNeedUpdate||ka.colorsNeedUpdate||sc){var Ob=ka,gd=k.DYNAMIC_DRAW,Jc=void 0,Kc=void 0,Wc=void 0,Ba=void 0,Xc=void 0,qd=Ob.vertices,rd=Ob.colors,Cd=qd.length,Dd=rd.length, Yc=Ob.__vertexArray,Zc=Ob.__colorArray,Ed=Ob.colorsNeedUpdate,hd=Ob.__webglCustomAttributesList,$c=void 0,sd=void 0,Pa=void 0,yc=void 0,ab=void 0,va=void 0;if(Ob.verticesNeedUpdate){for(Jc=0;Jc<Cd;Jc++)Wc=qd[Jc],Ba=3*Jc,Yc[Ba]=Wc.x,Yc[Ba+1]=Wc.y,Yc[Ba+2]=Wc.z;k.bindBuffer(k.ARRAY_BUFFER,Ob.__webglVertexBuffer);k.bufferData(k.ARRAY_BUFFER,Yc,gd)}if(Ed){for(Kc=0;Kc<Dd;Kc++)Xc=rd[Kc],Ba=3*Kc,Zc[Ba]=Xc.r,Zc[Ba+1]=Xc.g,Zc[Ba+2]=Xc.b;k.bindBuffer(k.ARRAY_BUFFER,Ob.__webglColorBuffer);k.bufferData(k.ARRAY_BUFFER, Zc,gd)}if(hd){$c=0;for(sd=hd.length;$c<sd;$c++)if(va=hd[$c],va.needsUpdate&&(void 0===va.boundTo||"vertices"===va.boundTo)){Ba=0;yc=va.value.length;if(1===va.size)for(Pa=0;Pa<yc;Pa++)va.array[Pa]=va.value[Pa];else if(2===va.size)for(Pa=0;Pa<yc;Pa++)ab=va.value[Pa],va.array[Ba]=ab.x,va.array[Ba+1]=ab.y,Ba+=2;else if(3===va.size)if("c"===va.type)for(Pa=0;Pa<yc;Pa++)ab=va.value[Pa],va.array[Ba]=ab.r,va.array[Ba+1]=ab.g,va.array[Ba+2]=ab.b,Ba+=3;else for(Pa=0;Pa<yc;Pa++)ab=va.value[Pa],va.array[Ba]=ab.x, va.array[Ba+1]=ab.y,va.array[Ba+2]=ab.z,Ba+=3;else if(4===va.size)for(Pa=0;Pa<yc;Pa++)ab=va.value[Pa],va.array[Ba]=ab.x,va.array[Ba+1]=ab.y,va.array[Ba+2]=ab.z,va.array[Ba+3]=ab.w,Ba+=4;k.bindBuffer(k.ARRAY_BUFFER,va.buffer);k.bufferData(k.ARRAY_BUFFER,va.array,gd)}}}ka.verticesNeedUpdate=!1;ka.colorsNeedUpdate=!1;$a.attributes&&o($a)}else qb instanceof THREE.ParticleSystem&&($a=c(qb,lb),sc=$a.attributes&&q($a),(ka.verticesNeedUpdate||ka.colorsNeedUpdate||qb.sortParticles||sc)&&f(ka,k.DYNAMIC_DRAW, qb),ka.verticesNeedUpdate=!1,ka.colorsNeedUpdate=!1,$a.attributes&&o($a))}};this.initMaterial=function(a,b,c,d){var e,f,g;a instanceof THREE.MeshDepthMaterial?g="depth":a instanceof THREE.MeshNormalMaterial?g="normal":a instanceof THREE.MeshBasicMaterial?g="basic":a instanceof THREE.MeshLambertMaterial?g="lambert":a instanceof THREE.MeshPhongMaterial?g="phong":a instanceof THREE.LineBasicMaterial?g="basic":a instanceof THREE.ParticleBasicMaterial&&(g="particle_basic");if(g){var h=THREE.ShaderLib[g];a.uniforms=THREE.UniformsUtils.clone(h.uniforms);a.vertexShader=h.vertexShader;a.fragmentShader=h.fragmentShader}var j,l,m,n,o;j=n=o=h=0;for(l=b.length;j<l;j++)m=b[j],m.onlyShadow||(m instanceof THREE.DirectionalLight&&n++,m instanceof THREE.PointLight&&o++,m instanceof THREE.SpotLight&&h++);o+h+n<=K?(l=n,m=o,n=h):(l=Math.ceil(K*n/(o+n)),n=m=K-l);var p=0,h=0;for(o=b.length;h<o;h++)j=b[h],j.castShadow&&(j instanceof THREE.SpotLight&&p++,j instanceof THREE.DirectionalLight&&!j.shadowCascade&&p++);var q=50;void 0!==d&&d instanceof THREE.SkinnedMesh&&(q=d.bones.length);var r;a:{o=a.fragmentShader;j=a.vertexShader;var h=a.uniforms,b=a.attributes,c={map:!!a.map,envMap:!!a.envMap,lightMap:!!a.lightMap,vertexColors:a.vertexColors,fog:c,useFog:a.fog,sizeAttenuation:a.sizeAttenuation,skinning:a.skinning,maxBones:q,morphTargets:a.morphTargets,morphNormals:a.morphNormals,maxMorphTargets:this.maxMorphTargets,maxMorphNormals:this.maxMorphNormals,maxDirLights:l,maxPointLights:m,maxSpotLights:n,maxShadows:p, shadowMapEnabled:this.shadowMapEnabled&&d.receiveShadow,shadowMapSoft:this.shadowMapSoft,shadowMapDebug:this.shadowMapDebug,shadowMapCascade:this.shadowMapCascade,alphaTest:a.alphaTest,metal:a.metal,perPixel:a.perPixel,wrapAround:a.wrapAround,doubleSided:d&&d.doubleSided},s,d=[];g?d.push(g):(d.push(o),d.push(j));for(s in c)d.push(s),d.push(c[s]);g=d.join();s=0;for(d=X.length;s<d;s++)if(X[s].code===g){r=X[s].program;break a}s=k.createProgram();d=["precision "+B+" float;",0<hb?"#define VERTEX_TEXTURES":        "",J.gammaInput?"#define GAMMA_INPUT":"",J.gammaOutput?"#define GAMMA_OUTPUT":"",J.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"","#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_SHADOWS "+c.maxShadows,"#define MAX_BONES "+c.maxBones,c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.lightMap?"#define USE_LIGHTMAP":"",c.vertexColors?"#define USE_COLOR":"",c.skinning?"#define USE_SKINNING":        "",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals?"#define USE_MORPHNORMALS":"",c.perPixel?"#define PHONG_PER_PIXEL":"",c.wrapAround?"#define WRAP_AROUND":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapSoft?"#define SHADOWMAP_SOFT":"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"","uniform mat4 objectMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n#ifdef USE_COLOR\nattribute vec3 color;\n#endif\n#ifdef USE_MORPHTARGETS\nattribute vec3 morphTarget0;\nattribute vec3 morphTarget1;\nattribute vec3 morphTarget2;\nattribute vec3 morphTarget3;\n#ifdef USE_MORPHNORMALS\nattribute vec3 morphNormal0;\nattribute vec3 morphNormal1;\nattribute vec3 morphNormal2;\nattribute vec3 morphNormal3;\n#else\nattribute vec3 morphTarget4;\nattribute vec3 morphTarget5;\nattribute vec3 morphTarget6;\nattribute vec3 morphTarget7;\n#endif\n#endif\n#ifdef USE_SKINNING\nattribute vec4 skinVertexA;\nattribute vec4 skinVertexB;\nattribute vec4 skinIndex;\nattribute vec4 skinWeight;\n#endif\n"].join("\n");l=["precision "+B+" float;","#define MAX_DIR_LIGHTS "+c.maxDirLights,"#define MAX_POINT_LIGHTS "+c.maxPointLights,"#define MAX_SPOT_LIGHTS "+c.maxSpotLights,"#define MAX_SHADOWS "+c.maxShadows,c.alphaTest?"#define ALPHATEST "+c.alphaTest:"",J.gammaInput?"#define GAMMA_INPUT":"",J.gammaOutput?"#define GAMMA_OUTPUT":"",J.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"",c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fog instanceof THREE.FogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":        "",c.envMap?"#define USE_ENVMAP":"",c.lightMap?"#define USE_LIGHTMAP":"",c.vertexColors?"#define USE_COLOR":"",c.metal?"#define METAL":"",c.perPixel?"#define PHONG_PER_PIXEL":"",c.wrapAround?"#define WRAP_AROUND":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapSoft?"#define SHADOWMAP_SOFT":"",c.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",c.shadowMapCascade?"#define SHADOWMAP_CASCADE":"","uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n"].join("\n");k.attachShader(s,v("fragment",l+o));k.attachShader(s,v("vertex",d+j));k.linkProgram(s);k.getProgramParameter(s,k.LINK_STATUS)||console.error("Could not initialise shader\nVALIDATE_STATUS: "+k.getProgramParameter(s,k.VALIDATE_STATUS)+", gl error ["+k.getError()+"]");s.uniforms={};s.attributes={};var u,d="viewMatrix modelViewMatrix projectionMatrix normalMatrix objectMatrix cameraPosition boneGlobalMatrices morphTargetInfluences".split(" ");for(u in h)d.push(u);u=d;d=0;for(h=u.length;d<h;d++)o=u[d], s.uniforms[o]=k.getUniformLocation(s,o);d="position normal uv uv2 tangent color skinVertexA skinVertexB skinIndex skinWeight".split(" ");for(u=0;u<c.maxMorphTargets;u++)d.push("morphTarget"+u);for(u=0;u<c.maxMorphNormals;u++)d.push("morphNormal"+u);for(r in b)d.push(r);r=d;u=0;for(b=r.length;u<b;u++)c=r[u],s.attributes[c]=k.getAttribLocation(s,c);s.id=X.length;X.push({program:s,code:g});J.info.memory.programs=X.length;r=s}a.program=r;r=a.program.attributes;0<=r.position&&k.enableVertexAttribArray(r.position);0<=r.color&&k.enableVertexAttribArray(r.color);0<=r.normal&&k.enableVertexAttribArray(r.normal);0<=r.tangent&&k.enableVertexAttribArray(r.tangent);a.skinning&&(0<=r.skinVertexA&&0<=r.skinVertexB&&0<=r.skinIndex&&0<=r.skinWeight)&&(k.enableVertexAttribArray(r.skinVertexA),k.enableVertexAttribArray(r.skinVertexB),k.enableVertexAttribArray(r.skinIndex),k.enableVertexAttribArray(r.skinWeight));if(a.attributes)for(f in a.attributes)void 0!==r[f]&&0<=r[f]&&k.enableVertexAttribArray(r[f]);if(a.morphTargets){a.numSupportedMorphTargets=0;s="morphTarget";for(f=0;f<this.maxMorphTargets;f++)u=s+f,0<=r[u]&&(k.enableVertexAttribArray(r[u]),a.numSupportedMorphTargets++)}if(a.morphNormals){a.numSupportedMorphNormals=0;s="morphNormal";for(f=0;f<this.maxMorphNormals;f++)u=s+f,0<=r[u]&&(k.enableVertexAttribArray(r[u]),a.numSupportedMorphNormals++)}a.uniformsList=[];for(e in a.uniforms)a.uniformsList.push([a.uniforms[e],e])};this.setFaceCulling=function(a,b){a?(!b||"ccw"===b?k.frontFace(k.CCW):k.frontFace(k.CW),"back"===a?k.cullFace(k.BACK):        "front"===a?k.cullFace(k.FRONT):k.cullFace(k.FRONT_AND_BACK),k.enable(k.CULL_FACE)):k.disable(k.CULL_FACE)};this.setObjectFaces=function(a){na!==a.doubleSided&&(a.doubleSided?k.disable(k.CULL_FACE):k.enable(k.CULL_FACE),na=a.doubleSided);U!==a.flipSided&&(a.flipSided?k.frontFace(k.CW):k.frontFace(k.CCW),U=a.flipSided)};this.setDepthTest=function(a){Ca!==a&&(a?k.enable(k.DEPTH_TEST):k.disable(k.DEPTH_TEST),Ca=a)};this.setDepthWrite=function(a){Ra!==a&&(k.depthMask(a),Ra=a)};this.setBlending=function(a, b,c,d){if(a!==ba){switch(a){case THREE.NoBlending:k.disable(k.BLEND);break;case THREE.AdditiveBlending:k.enable(k.BLEND);k.blendEquation(k.FUNC_ADD);k.blendFunc(k.SRC_ALPHA,k.ONE);break;case THREE.SubtractiveBlending:k.enable(k.BLEND);k.blendEquation(k.FUNC_ADD);k.blendFunc(k.ZERO,k.ONE_MINUS_SRC_COLOR);break;case THREE.MultiplyBlending:k.enable(k.BLEND);k.blendEquation(k.FUNC_ADD);k.blendFunc(k.ZERO,k.SRC_COLOR);break;case THREE.CustomBlending:k.enable(k.BLEND);break;default:k.enable(k.BLEND),k.blendEquationSeparate(k.FUNC_ADD, k.FUNC_ADD),k.blendFuncSeparate(k.SRC_ALPHA,k.ONE_MINUS_SRC_ALPHA,k.ONE,k.ONE_MINUS_SRC_ALPHA)}ba=a}if(a===THREE.CustomBlending){if(b!==da&&(k.blendEquation(I(b)),da=b),c!==ca||d!==ja)k.blendFunc(I(c),I(d)),ca=c,ja=d}else ja=ca=da=null};this.setTexture=function(a,b){if(a.needsUpdate){a.__webglInit||(a.__webglInit=!0,a.__webglTexture=k.createTexture(),J.info.memory.textures++);k.activeTexture(k.TEXTURE0+b);k.bindTexture(k.TEXTURE_2D,a.__webglTexture);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL, a.premultiplyAlpha);var c=a.image,d=0===(c.width&c.width-1)&&0===(c.height&c.height-1),e=I(a.format),f=I(a.type);u(k.TEXTURE_2D,a,d);a instanceof THREE.DataTexture?k.texImage2D(k.TEXTURE_2D,0,e,c.width,c.height,0,e,f,c.data):k.texImage2D(k.TEXTURE_2D,0,e,e,f,a.image);a.generateMipmaps&&d&&k.generateMipmap(k.TEXTURE_2D);a.needsUpdate=!1;if(a.onUpdate)a.onUpdate()}else k.activeTexture(k.TEXTURE0+b),k.bindTexture(k.TEXTURE_2D,a.__webglTexture)};this.setRenderTarget=function(a){var b=a instanceof THREE.WebGLRenderTargetCube;if(a&&!a.__webglFramebuffer){void 0===a.depthBuffer&&(a.depthBuffer=!0);void 0===a.stencilBuffer&&(a.stencilBuffer=!0);a.__webglTexture=k.createTexture();var c=0===(a.width&a.width-1)&&0===(a.height&a.height-1),d=I(a.format),e=I(a.type);if(b){a.__webglFramebuffer=[];a.__webglRenderbuffer=[];k.bindTexture(k.TEXTURE_CUBE_MAP,a.__webglTexture);u(k.TEXTURE_CUBE_MAP,a,c);for(var f=0;6>f;f++){a.__webglFramebuffer[f]=k.createFramebuffer();a.__webglRenderbuffer[f]=k.createRenderbuffer();k.texImage2D(k.TEXTURE_CUBE_MAP_POSITIVE_X+        f,0,d,a.width,a.height,0,d,e,null);var g=a,h=k.TEXTURE_CUBE_MAP_POSITIVE_X+f;k.bindFramebuffer(k.FRAMEBUFFER,a.__webglFramebuffer[f]);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,h,g.__webglTexture,0);x(a.__webglRenderbuffer[f],a)}c&&k.generateMipmap(k.TEXTURE_CUBE_MAP)}else a.__webglFramebuffer=k.createFramebuffer(),a.__webglRenderbuffer=k.createRenderbuffer(),k.bindTexture(k.TEXTURE_2D,a.__webglTexture),u(k.TEXTURE_2D,a,c),k.texImage2D(k.TEXTURE_2D,0,d,a.width,a.height,0,d,e,null),d=k.TEXTURE_2D,k.bindFramebuffer(k.FRAMEBUFFER,a.__webglFramebuffer),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,d,a.__webglTexture,0),x(a.__webglRenderbuffer,a),c&&k.generateMipmap(k.TEXTURE_2D);b?k.bindTexture(k.TEXTURE_CUBE_MAP,null):k.bindTexture(k.TEXTURE_2D,null);k.bindRenderbuffer(k.RENDERBUFFER,null);k.bindFramebuffer(k.FRAMEBUFFER,null)}a?(b=b?a.__webglFramebuffer[a.activeCubeFace]:a.__webglFramebuffer,c=a.width,a=a.height,e=d=0):(b=null,c=Qb,a=lb,d=Pb,e=sb);b!==F&&(k.bindFramebuffer(k.FRAMEBUFFER, b),k.viewport(d,e,c,a),F=b);Jb=c;fc=a};this.shadowMapPlugin=new THREE.ShadowMapPlugin;this.addPrePlugin(this.shadowMapPlugin);this.addPostPlugin(new THREE.SpritePlugin);this.addPostPlugin(new THREE.LensFlarePlugin)};THREE.WebGLRenderTarget=function(a,b,c){this.width=a;this.height=b;c=c||{};this.wrapS=void 0!==c.wrapS?c.wrapS:THREE.ClampToEdgeWrapping;this.wrapT=void 0!==c.wrapT?c.wrapT:THREE.ClampToEdgeWrapping;this.magFilter=void 0!==c.magFilter?c.magFilter:THREE.LinearFilter;this.minFilter=void 0!==c.minFilter?c.minFilter:THREE.LinearMipMapLinearFilter;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.format=void 0!==c.format?c.format:THREE.RGBAFormat;this.type=void 0!==c.type?c.type:        THREE.UnsignedByteType;this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.generateMipmaps=!0};THREE.WebGLRenderTarget.prototype.clone=function(){var a=new THREE.WebGLRenderTarget(this.width,this.height);a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.format=this.format;a.type=this.type;a.depthBuffer=this.depthBuffer;a.stencilBuffer=this.stencilBuffer;return a};THREE.WebGLRenderTargetCube=function(a,b,c){THREE.WebGLRenderTarget.call(this,a,b,c);this.activeCubeFace=0};THREE.WebGLRenderTargetCube.prototype=new THREE.WebGLRenderTarget;THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube;THREE.RenderableVertex=function(){this.positionWorld=new THREE.Vector3;this.positionScreen=new THREE.Vector4;this.visible=!0};THREE.RenderableVertex.prototype.copy=function(a){this.positionWorld.copy(a.positionWorld);this.positionScreen.copy(a.positionScreen)};THREE.RenderableFace3=function(){this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.v3=new THREE.RenderableVertex;this.centroidWorld=new THREE.Vector3;this.centroidScreen=new THREE.Vector3;this.normalWorld=new THREE.Vector3;this.vertexNormalsWorld=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.faceMaterial=this.material=null;this.uvs=[[]];this.z=null};THREE.RenderableFace4=function(){this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.v3=new THREE.RenderableVertex;this.v4=new THREE.RenderableVertex;this.centroidWorld=new THREE.Vector3;this.centroidScreen=new THREE.Vector3;this.normalWorld=new THREE.Vector3;this.vertexNormalsWorld=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];this.faceMaterial=this.material=null;this.uvs=[[]];this.z=null};THREE.RenderableObject=function(){this.z=this.object=null};THREE.RenderableParticle=function(){this.rotation=this.z=this.y=this.x=null;this.scale=new THREE.Vector2;this.material=null};THREE.RenderableLine=function(){this.z=null;this.v1=new THREE.RenderableVertex;this.v2=new THREE.RenderableVertex;this.material=null};THREE.ColorUtils={adjustHSV:function(a,b,c,d){var e=THREE.ColorUtils.__hsv;THREE.ColorUtils.rgbToHsv(a,e);e.h=THREE.Math.clamp(e.h+b,0,1);e.s=THREE.Math.clamp(e.s+c,0,1);e.v=THREE.Math.clamp(e.v+d,0,1);a.setHSV(e.h,e.s,e.v)},rgbToHsv:function(a,b){var c=a.r,d=a.g,e=a.b,f=Math.max(Math.max(c,d),e),g=Math.min(Math.min(c,d),e);if(g===f)g=c=0;else{var h=f-g,g=h/f,c=(c===f?(d-e)/h:d===f?2+(e-c)/h:4+(c-d)/h)/6;0>c&&(c+=1);1<c&&(c-=1)}void 0===b&&(b={h:0,s:0,v:0});b.h=c;b.s=g;b.v=f;return b}};THREE.ColorUtils.__hsv={h:0,s:0,v:0};THREE.GeometryUtils={merge:function(a,b){for(var c,d,e=a.vertices.length,f=b instanceof THREE.Mesh?b.geometry:b,g=a.vertices,h=f.vertices,j=a.faces,m=f.faces,l=a.faceVertexUvs[0],q=f.faceVertexUvs[0],o={},p=0;p<a.materials.length;p++)o[a.materials[p].id]=p;b instanceof THREE.Mesh&&(b.matrixAutoUpdate&&b.updateMatrix(),c=b.matrix,d=new THREE.Matrix4,d.extractRotation(c,b.scale));for(var p=0,r=h.length;p<r;p++){var n=h[p].clone();c&&c.multiplyVector3(n);g.push(n)}p=0;for(r=m.length;p<r;p++){var g=m[p], s,w,v=g.vertexNormals,u=g.vertexColors;g instanceof THREE.Face3?s=new THREE.Face3(g.a+e,g.b+e,g.c+e):g instanceof THREE.Face4&&(s=new THREE.Face4(g.a+e,g.b+e,g.c+e,g.d+e));s.normal.copy(g.normal);d&&d.multiplyVector3(s.normal);h=0;for(n=v.length;h<n;h++)w=v[h].clone(),d&&d.multiplyVector3(w),s.vertexNormals.push(w);s.color.copy(g.color);h=0;for(n=u.length;h<n;h++)w=u[h],s.vertexColors.push(w.clone());void 0!==g.materialIndex&&(h=f.materials[g.materialIndex],n=h.id,u=o[n],void 0===u&&(u=a.materials.length, o[n]=u,a.materials.push(h)),s.materialIndex=u);s.centroid.copy(g.centroid);c&&c.multiplyVector3(s.centroid);j.push(s)}p=0;for(r=q.length;p<r;p++){c=q[p];d=[];h=0;for(n=c.length;h<n;h++)d.push(new THREE.UV(c[h].u,c[h].v));l.push(d)}},clone:function(a){var b=new THREE.Geometry,c,d=a.vertices,e=a.faces,f=a.faceVertexUvs[0];a.materials&&(b.materials=a.materials.slice());a=0;for(c=d.length;a<c;a++)b.vertices.push(d[a].clone());a=0;for(c=e.length;a<c;a++)b.faces.push(e[a].clone());a=0;for(c=f.length;a<        c;a++){for(var d=f[a],e=[],g=0,h=d.length;g<h;g++)e.push(new THREE.UV(d[g].u,d[g].v));b.faceVertexUvs[0].push(e)}return b},randomPointInTriangle:function(a,b,c){var d,e,f,g=new THREE.Vector3,h=THREE.GeometryUtils.__v1;d=THREE.GeometryUtils.random();e=THREE.GeometryUtils.random();1<d+e&&(d=1-d,e=1-e);f=1-d-e;g.copy(a);g.multiplyScalar(d);h.copy(b);h.multiplyScalar(e);g.addSelf(h);h.copy(c);h.multiplyScalar(f);g.addSelf(h);return g},randomPointInFace:function(a,b,c){var d,e,f;if(a instanceof THREE.Face3)return d=b.vertices[a.a],e=b.vertices[a.b],f=b.vertices[a.c],THREE.GeometryUtils.randomPointInTriangle(d,e,f);if(a instanceof THREE.Face4){d=b.vertices[a.a];e=b.vertices[a.b];f=b.vertices[a.c];var b=b.vertices[a.d],g;c?a._area1&&a._area2?(c=a._area1,g=a._area2):(c=THREE.GeometryUtils.triangleArea(d,e,b),g=THREE.GeometryUtils.triangleArea(e,f,b),a._area1=c,a._area2=g):(c=THREE.GeometryUtils.triangleArea(d,e,b),g=THREE.GeometryUtils.triangleArea(e,f,b));return THREE.GeometryUtils.random()*(c+g)<c?THREE.GeometryUtils.randomPointInTriangle(d, e,b):THREE.GeometryUtils.randomPointInTriangle(e,f,b)}},randomPointsInGeometry:function(a,b){function c(a){function b(c,d){if(d<c)return c;var e=c+Math.floor((d-c)/2);return m[e]>a?b(c,e-1):m[e]<a?b(e+1,d):e}return b(0,m.length-1)}var d,e,f=a.faces,g=a.vertices,h=f.length,j=0,m=[],l,q,o,p;for(e=0;e<h;e++)d=f[e],d instanceof THREE.Face3?(l=g[d.a],q=g[d.b],o=g[d.c],d._area=THREE.GeometryUtils.triangleArea(l,q,o)):d instanceof THREE.Face4&&(l=g[d.a],q=g[d.b],o=g[d.c],p=g[d.d],d._area1=THREE.GeometryUtils.triangleArea(l, q,p),d._area2=THREE.GeometryUtils.triangleArea(q,o,p),d._area=d._area1+d._area2),j+=d._area,m[e]=j;d=[];for(e=0;e<b;e++)g=THREE.GeometryUtils.random()*j,g=c(g),d[e]=THREE.GeometryUtils.randomPointInFace(f[g],a,!0);return d},triangleArea:function(a,b,c){var d,e=THREE.GeometryUtils.__v1;e.sub(a,b);d=e.length();e.sub(a,c);a=e.length();e.sub(b,c);c=e.length();b=0.5*(d+a+c);return Math.sqrt(b*(b-d)*(b-a)*(b-c))},center:function(a){a.computeBoundingBox();var b=a.boundingBox,c=new THREE.Vector3;c.add(b.min, b.max);c.multiplyScalar(-0.5);a.applyMatrix((new THREE.Matrix4).makeTranslation(c.x,c.y,c.z));a.computeBoundingBox();return c},normalizeUVs:function(a){for(var a=a.faceVertexUvs[0],b=0,c=a.length;b<c;b++)for(var d=a[b],e=0,f=d.length;e<f;e++)if(1!==d[e].u&&(d[e].u-=Math.floor(d[e].u)),1!==d[e].v)d[e].v-=Math.floor(d[e].v)},triangulateQuads:function(a){var b,c,d,e,f=[],g=[],h=[];b=0;for(c=a.faceUvs.length;b<c;b++)g[b]=[];b=0;for(c=a.faceVertexUvs.length;b<c;b++)h[b]=[];b=0;for(c=a.faces.length;b<c;b++)if(d=a.faces[b],d instanceof THREE.Face4){e=d.a;var j=d.b,m=d.c,l=d.d,q=new THREE.Face3,o=new THREE.Face3;q.color.copy(d.color);o.color.copy(d.color);q.materialIndex=d.materialIndex;o.materialIndex=d.materialIndex;q.a=e;q.b=j;q.c=l;o.a=j;o.b=m;o.c=l;4===d.vertexColors.length&&(q.vertexColors[0]=d.vertexColors[0].clone(),q.vertexColors[1]=d.vertexColors[1].clone(),q.vertexColors[2]=d.vertexColors[3].clone(),o.vertexColors[0]=d.vertexColors[1].clone(),o.vertexColors[1]=d.vertexColors[2].clone(),o.vertexColors[2]=d.vertexColors[3].clone());f.push(q,o);d=0;for(e=a.faceVertexUvs.length;d<e;d++)a.faceVertexUvs[d].length&&(q=a.faceVertexUvs[d][b],j=q[1],m=q[2],l=q[3],q=[q[0].clone(),j.clone(),l.clone()],j=[j.clone(),m.clone(),l.clone()],h[d].push(q,j));d=0;for(e=a.faceUvs.length;d<e;d++)a.faceUvs[d].length&&(j=a.faceUvs[d][b],g[d].push(j,j))}else{f.push(d);d=0;for(e=a.faceUvs.length;d<e;d++)g[d].push(a.faceUvs[d]);d=0;for(e=a.faceVertexUvs.length;d<e;d++)h[d].push(a.faceVertexUvs[d])}a.faces=f;a.faceUvs=g;a.faceVertexUvs=h;a.computeCentroids();a.computeFaceNormals();a.computeVertexNormals();a.hasTangents&&a.computeTangents()},explode:function(a){for(var b=[],c=0,d=a.faces.length;c<d;c++){var e=b.length,f=a.faces[c];if(f instanceof THREE.Face4){var g=f.a,h=f.b,j=f.c,g=a.vertices[g],h=a.vertices[h],j=a.vertices[j],m=a.vertices[f.d];b.push(g.clone());b.push(h.clone());b.push(j.clone());b.push(m.clone());f.a=e;f.b=e+1;f.c=e+2;f.d=e+3}else g=f.a,h=f.b,j=f.c,g=a.vertices[g],h=a.vertices[h],j=a.vertices[j],b.push(g.clone()), b.push(h.clone()),b.push(j.clone()),f.a=e,f.b=e+1,f.c=e+2}a.vertices=b;delete a.__tmpVertices},tessellate:function(a,b){var c,d,e,f,g,h,j,m,l,q,o,p,r,n,s,w,v,u,x,z=[],I=[];c=0;for(d=a.faceVertexUvs.length;c<d;c++)I[c]=[];c=0;for(d=a.faces.length;c<d;c++)if(e=a.faces[c],e instanceof THREE.Face3)if(f=e.a,g=e.b,h=e.c,m=a.vertices[f],l=a.vertices[g],q=a.vertices[h],p=m.distanceTo(l),r=l.distanceTo(q),o=m.distanceTo(q),p>b||r>b||o>b){j=a.vertices.length;u=e.clone();x=e.clone();p>=r&&p>=o?(m=m.clone(), m.lerpSelf(l,0.5),u.a=f,u.b=j,u.c=h,x.a=j,x.b=g,x.c=h,3===e.vertexNormals.length&&(f=e.vertexNormals[0].clone(),f.lerpSelf(e.vertexNormals[1],0.5),u.vertexNormals[1].copy(f),x.vertexNormals[0].copy(f)),3===e.vertexColors.length&&(f=e.vertexColors[0].clone(),f.lerpSelf(e.vertexColors[1],0.5),u.vertexColors[1].copy(f),x.vertexColors[0].copy(f)),e=0):r>=p&&r>=o?(m=l.clone(),m.lerpSelf(q,0.5),u.a=f,u.b=g,u.c=j,x.a=j,x.b=h,x.c=f,3===e.vertexNormals.length&&(f=e.vertexNormals[1].clone(),f.lerpSelf(e.vertexNormals[2], 0.5),u.vertexNormals[2].copy(f),x.vertexNormals[0].copy(f),x.vertexNormals[1].copy(e.vertexNormals[2]),x.vertexNormals[2].copy(e.vertexNormals[0])),3===e.vertexColors.length&&(f=e.vertexColors[1].clone(),f.lerpSelf(e.vertexColors[2],0.5),u.vertexColors[2].copy(f),x.vertexColors[0].copy(f),x.vertexColors[1].copy(e.vertexColors[2]),x.vertexColors[2].copy(e.vertexColors[0])),e=1):(m=m.clone(),m.lerpSelf(q,0.5),u.a=f,u.b=g,u.c=j,x.a=j,x.b=g,x.c=h,3===e.vertexNormals.length&&(f=e.vertexNormals[0].clone(), f.lerpSelf(e.vertexNormals[2],0.5),u.vertexNormals[2].copy(f),x.vertexNormals[0].copy(f)),3===e.vertexColors.length&&(f=e.vertexColors[0].clone(),f.lerpSelf(e.vertexColors[2],0.5),u.vertexColors[2].copy(f),x.vertexColors[0].copy(f)),e=2);z.push(u,x);a.vertices.push(m);f=0;for(g=a.faceVertexUvs.length;f<g;f++)a.faceVertexUvs[f].length&&(m=a.faceVertexUvs[f][c],x=m[0],h=m[1],u=m[2],0===e?(l=x.clone(),l.lerpSelf(h,0.5),m=[x.clone(),l.clone(),u.clone()],h=[l.clone(),h.clone(),u.clone()]):1===e?(l=h.clone(), l.lerpSelf(u,0.5),m=[x.clone(),h.clone(),l.clone()],h=[l.clone(),u.clone(),x.clone()]):(l=x.clone(),l.lerpSelf(u,0.5),m=[x.clone(),h.clone(),l.clone()],h=[l.clone(),h.clone(),u.clone()]),I[f].push(m,h))}else{z.push(e);f=0;for(g=a.faceVertexUvs.length;f<g;f++)I[f].push(a.faceVertexUvs[f][c])}else if(f=e.a,g=e.b,h=e.c,j=e.d,m=a.vertices[f],l=a.vertices[g],q=a.vertices[h],o=a.vertices[j],p=m.distanceTo(l),r=l.distanceTo(q),n=q.distanceTo(o),s=m.distanceTo(o),p>b||r>b||n>b||s>b){w=a.vertices.length;v=a.vertices.length+1;u=e.clone();x=e.clone();p>=r&&p>=n&&p>=s||n>=r&&n>=p&&n>=s?(p=m.clone(),p.lerpSelf(l,0.5),l=q.clone(),l.lerpSelf(o,0.5),u.a=f,u.b=w,u.c=v,u.d=j,x.a=w,x.b=g,x.c=h,x.d=v,4===e.vertexNormals.length&&(f=e.vertexNormals[0].clone(),f.lerpSelf(e.vertexNormals[1],0.5),g=e.vertexNormals[2].clone(),g.lerpSelf(e.vertexNormals[3],0.5),u.vertexNormals[1].copy(f),u.vertexNormals[2].copy(g),x.vertexNormals[0].copy(f),x.vertexNormals[3].copy(g)),4===e.vertexColors.length&&(f=e.vertexColors[0].clone(), f.lerpSelf(e.vertexColors[1],0.5),g=e.vertexColors[2].clone(),g.lerpSelf(e.vertexColors[3],0.5),u.vertexColors[1].copy(f),u.vertexColors[2].copy(g),x.vertexColors[0].copy(f),x.vertexColors[3].copy(g)),e=0):(p=l.clone(),p.lerpSelf(q,0.5),l=o.clone(),l.lerpSelf(m,0.5),u.a=f,u.b=g,u.c=w,u.d=v,x.a=v,x.b=w,x.c=h,x.d=j,4===e.vertexNormals.length&&(f=e.vertexNormals[1].clone(),f.lerpSelf(e.vertexNormals[2],0.5),g=e.vertexNormals[3].clone(),g.lerpSelf(e.vertexNormals[0],0.5),u.vertexNormals[2].copy(f),u.vertexNormals[3].copy(g), x.vertexNormals[0].copy(g),x.vertexNormals[1].copy(f)),4===e.vertexColors.length&&(f=e.vertexColors[1].clone(),f.lerpSelf(e.vertexColors[2],0.5),g=e.vertexColors[3].clone(),g.lerpSelf(e.vertexColors[0],0.5),u.vertexColors[2].copy(f),u.vertexColors[3].copy(g),x.vertexColors[0].copy(g),x.vertexColors[1].copy(f)),e=1);z.push(u,x);a.vertices.push(p,l);f=0;for(g=a.faceVertexUvs.length;f<g;f++)a.faceVertexUvs[f].length&&(m=a.faceVertexUvs[f][c],x=m[0],h=m[1],u=m[2],m=m[3],0===e?(l=x.clone(),l.lerpSelf(h, 0.5),q=u.clone(),q.lerpSelf(m,0.5),x=[x.clone(),l.clone(),q.clone(),m.clone()],h=[l.clone(),h.clone(),u.clone(),q.clone()]):(l=h.clone(),l.lerpSelf(u,0.5),q=m.clone(),q.lerpSelf(x,0.5),x=[x.clone(),h.clone(),l.clone(),q.clone()],h=[q.clone(),l.clone(),u.clone(),m.clone()]),I[f].push(x,h))}else{z.push(e);f=0;for(g=a.faceVertexUvs.length;f<g;f++)I[f].push(a.faceVertexUvs[f][c])}a.faces=z;a.faceVertexUvs=I}};THREE.GeometryUtils.random=THREE.Math.random16;THREE.GeometryUtils.__v1=new THREE.Vector3;THREE.ImageUtils={crossOrigin:"anonymous",loadTexture:function(a,b,c){var d=new Image,e=new THREE.Texture(d,b);d.onload=function(){e.needsUpdate=!0;c&&c(this)};d.crossOrigin=this.crossOrigin;d.src=a;return e},loadTextureCube:function(a,b,c){var d,e=[],f=new THREE.Texture(e,b),b=e.loadCount=0;for(d=a.length;b<d;++b)e[b]=new Image,e[b].onload=function(){e.loadCount+=1;6===e.loadCount&&(f.needsUpdate=!0);c&&c(this)},e[b].crossOrigin=this.crossOrigin,e[b].src=a[b];return f},getNormalMap:function(a,b){var c=function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);return[a[0]/b,a[1]/b,a[2]/b]},b=b|1,d=a.width,e=a.height,f=document.createElement("canvas");f.width=d;f.height=e;var g=f.getContext("2d");g.drawImage(a,0,0);for(var h=g.getImageData(0,0,d,e).data,j=g.createImageData(d,e),m=j.data,l=0;l<d;l++)for(var q=0;q<e;q++){var o=0>q-1?0:q-1,p=q+1>e-1?e-1:q+1,r=0>l-1?0:l-1,n=l+1>d-1?d-1:l+1,s=[],w=[0,0,h[4*(q*d+l)]/255*b];s.push([-1,0,h[4*(q*d+r)]/255*b]);s.push([-1,-1,h[4*(o*d+r)]/255*b]);s.push([0, -1,h[4*(o*d+l)]/255*b]);s.push([1,-1,h[4*(o*d+n)]/255*b]);s.push([1,0,h[4*(q*d+n)]/255*b]);s.push([1,1,h[4*(p*d+n)]/255*b]);s.push([0,1,h[4*(p*d+l)]/255*b]);s.push([-1,1,h[4*(p*d+r)]/255*b]);o=[];r=s.length;for(p=0;p<r;p++){var n=s[p],v=s[(p+1)%r],n=[n[0]-w[0],n[1]-w[1],n[2]-w[2]],v=[v[0]-w[0],v[1]-w[1],v[2]-w[2]];o.push(c([n[1]*v[2]-n[2]*v[1],n[2]*v[0]-n[0]*v[2],n[0]*v[1]-n[1]*v[0]]))}s=[0,0,0];for(p=0;p<o.length;p++)s[0]+=o[p][0],s[1]+=o[p][1],s[2]+=o[p][2];s[0]/=o.length;s[1]/=o.length;s[2]/=o.length;w=4*(q*d+l);m[w]=255*((s[0]+1)/2)|0;m[w+1]=255*(s[1]+0.5)|0;m[w+2]=255*s[2]|0;m[w+3]=255}g.putImageData(j,0,0);return f},generateDataTexture:function(a,b,c){for(var d=a*b,e=new Uint8Array(3*d),f=Math.floor(255*c.r),g=Math.floor(255*c.g),c=Math.floor(255*c.b),h=0;h<d;h++)e[3*h]=f,e[3*h+1]=g,e[3*h+2]=c;a=new THREE.DataTexture(e,a,b,THREE.RGBFormat);a.needsUpdate=!0;return a}};THREE.SceneUtils={showHierarchy:function(a,b){THREE.SceneUtils.traverseHierarchy(a,function(a){a.visible=b})},traverseHierarchy:function(a,b){var c,d,e=a.children.length;for(d=0;d<e;d++)c=a.children[d],b(c),THREE.SceneUtils.traverseHierarchy(c,b)},createMultiMaterialObject:function(a,b){var c,d=b.length,e=new THREE.Object3D;for(c=0;c<d;c++){var f=new THREE.Mesh(a,b[c]);e.add(f)}return e},cloneObject:function(a){var b;a instanceof THREE.MorphAnimMesh?(b=new THREE.MorphAnimMesh(a.geometry,a.material), b.duration=a.duration,b.mirroredLoop=a.mirroredLoop,b.time=a.time,b.lastKeyframe=a.lastKeyframe,b.currentKeyframe=a.currentKeyframe,b.direction=a.direction,b.directionBackwards=a.directionBackwards):a instanceof THREE.SkinnedMesh?b=new THREE.SkinnedMesh(a.geometry,a.material):a instanceof THREE.Mesh?b=new THREE.Mesh(a.geometry,a.material):a instanceof THREE.Line?b=new THREE.Line(a.geometry,a.material,a.type):a instanceof THREE.Ribbon?b=new THREE.Ribbon(a.geometry,a.material):a instanceof THREE.ParticleSystem?        (b=new THREE.ParticleSystem(a.geometry,a.material),b.sortParticles=a.sortParticles):a instanceof THREE.Particle?b=new THREE.Particle(a.material):a instanceof THREE.Sprite?(b=new THREE.Sprite({}),b.color.copy(a.color),b.map=a.map,b.blending=a.blending,b.useScreenCoordinates=a.useScreenCoordinates,b.mergeWith3D=a.mergeWith3D,b.affectedByDistance=a.affectedByDistance,b.scaleByViewport=a.scaleByViewport,b.alignment=a.alignment,b.rotation3d.copy(a.rotation3d),b.rotation=a.rotation,b.opacity=a.opacity, b.uvOffset.copy(a.uvOffset),b.uvScale.copy(a.uvScale)):a instanceof THREE.LOD?b=new THREE.LOD:a instanceof THREE.MarchingCubes?(b=new THREE.MarchingCubes(a.resolution,a.material),b.field.set(a.field),b.isolation=a.isolation):a instanceof THREE.Object3D&&(b=new THREE.Object3D);b.name=a.name;b.parent=a.parent;b.up.copy(a.up);b.position.copy(a.position);b.rotation instanceof THREE.Vector3&&b.rotation.copy(a.rotation);b.eulerOrder=a.eulerOrder;b.scale.copy(a.scale);b.dynamic=a.dynamic;b.doubleSided=a.doubleSided;b.flipSided=a.flipSided;b.renderDepth=a.renderDepth;b.rotationAutoUpdate=a.rotationAutoUpdate;b.matrix.copy(a.matrix);b.matrixWorld.copy(a.matrixWorld);b.matrixRotationWorld.copy(a.matrixRotationWorld);b.matrixAutoUpdate=a.matrixAutoUpdate;b.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;b.quaternion.copy(a.quaternion);b.useQuaternion=a.useQuaternion;b.boundRadius=a.boundRadius;b.boundRadiusScale=a.boundRadiusScale;b.visible=a.visible;b.castShadow=a.castShadow;b.receiveShadow=a.receiveShadow;b.frustumCulled=a.frustumCulled;for(var c=0;c<a.children.length;c++){var d=THREE.SceneUtils.cloneObject(a.children[c]);b.children[c]=d;d.parent=b}if(a instanceof THREE.LOD)for(c=0;c<a.LODs.length;c++)b.LODs[c]={visibleAtDistance:a.LODs[c].visibleAtDistance,object3D:b.children[c]};return b},detach:function(a,b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){var d=new THREE.Matrix4;d.getInverse(c.matrixWorld);a.applyMatrix(d);b.remove(a);c.add(a)}};THREE.WebGLRenderer&&(THREE.ShaderUtils={lib:{fresnel:{uniforms:{mRefractionRatio:{type:"f",value:1.02},mFresnelBias:{type:"f",value:0.1},mFresnelPower:{type:"f",value:2},mFresnelScale:{type:"f",value:1},tCube:{type:"t",value:1,texture:null}},fragmentShader:"uniform samplerCube tCube;\nvarying vec3 vReflect;\nvarying vec3 vRefract[3];\nvarying float vReflectionFactor;\nvoid main(){\nvec4 reflectedColor=textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\nvec4 refractedColor=vec4( 1.0, 1.0, 1.0, 1.0 );\nrefractedColor.r=textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) ).r;\nrefractedColor.g=textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) ).g;\nrefractedColor.b=textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) ).b;\nrefractedColor.a=1.0;\ngl_FragColor=mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );\n}", vertexShader:"uniform float mRefractionRatio;\nuniform float mFresnelBias;\nuniform float mFresnelScale;\nuniform float mFresnelPower;\nvarying vec3 vReflect;\nvarying vec3 vRefract[3];\nvarying float vReflectionFactor;\nvoid main(){\nvec4 mvPosition=modelViewMatrix * vec4( position, 1.0 );\nvec4 mPosition=objectMatrix * vec4( position, 1.0 );\nvec3 nWorld=normalize ( mat3( objectMatrix[0].xyz, objectMatrix[1].xyz, objectMatrix[2].xyz ) * normal );\nvec3 I=mPosition.xyz - cameraPosition;\nvReflect=reflect( I, nWorld );\nvRefract[0]=refract( normalize( I ), nWorld, mRefractionRatio );\nvRefract[1]=refract( normalize( I ), nWorld, mRefractionRatio * 0.99 );\nvRefract[2]=refract( normalize( I ), nWorld, mRefractionRatio * 0.98 );\nvReflectionFactor=mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), nWorld ), mFresnelPower );\ngl_Position=projectionMatrix * mvPosition;\n}"}, normal:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},tDiffuse:{type:"t",value:0,texture:null},tCube:{type:"t",value:1,texture:null},tNormal:{type:"t",value:2,texture:null},tSpecular:{type:"t",value:3,texture:null},tAO:{type:"t",value:4,texture:null},tDisplacement:{type:"t",value:5,texture:null},uNormalScale:{type:"f", value:1},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},uDiffuseColor:{type:"c",value:new THREE.Color(16777215)},uSpecularColor:{type:"c",value:new THREE.Color(1118481)},uAmbientColor:{type:"c",value:new THREE.Color(16777215)},uShininess:{type:"f",value:30},uOpacity:{type:"f",value:1},uReflectivity:{type:"f",value:0.5},uOffset:{type:"v2",value:new THREE.Vector2(0,0)},uRepeat:{type:"v2",value:new THREE.Vector2(1,1)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]), fragmentShader:["uniform vec3 uAmbientColor;\nuniform vec3 uDiffuseColor;\nuniform vec3 uSpecularColor;\nuniform float uShininess;\nuniform float uOpacity;\nuniform bool enableDiffuse;\nuniform bool enableSpecular;\nuniform bool enableAO;\nuniform bool enableReflection;\nuniform sampler2D tDiffuse;\nuniform sampler2D tNormal;\nuniform sampler2D tSpecular;\nuniform sampler2D tAO;\nuniform samplerCube tCube;\nuniform float uNormalScale;\nuniform float uReflectivity;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#ifdef WRAP_AROUND\nuniform vec3 wrapRGB;\n#endif\nvarying vec3 vViewPosition;", THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,"void main(){\ngl_FragColor=vec4( vec3( 1.0 ), uOpacity );\nvec3 specularTex=vec3( 1.0 );\nvec3 normalTex=texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;\nnormalTex.xy *=uNormalScale;\nnormalTex=normalize( normalTex );\nif( enableDiffuse ){\n#ifdef GAMMA_INPUT\nvec4 texelColor=texture2D( tDiffuse, vUv );\ntexelColor.xyz *=texelColor.xyz;\ngl_FragColor=gl_FragColor * texelColor;\n#else\ngl_FragColor=gl_FragColor * texture2D( tDiffuse, vUv );\n#endif\n}\nif( enableAO ){\n#ifdef GAMMA_INPUT\nvec4 aoColor=texture2D( tAO, vUv );\naoColor.xyz *=aoColor.xyz;\ngl_FragColor.xyz=gl_FragColor.xyz * aoColor.xyz;\n#else\ngl_FragColor.xyz=gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;\n#endif\n}\nif( enableSpecular )\nspecularTex=texture2D( tSpecular, vUv ).xyz;\nmat3 tsb=mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );\nvec3 finalNormal=tsb * normalTex;\nvec3 normal=normalize( finalNormal );\nvec3 viewPosition=normalize( vViewPosition );\n#if MAX_POINT_LIGHTS > 0\nvec3 pointDiffuse=vec3( 0.0 );\nvec3 pointSpecular=vec3( 0.0 );\nfor ( int i=0;i < MAX_POINT_LIGHTS;i ++ ){\nvec3 pointVector=normalize( vPointLight[ i ].xyz );\nfloat pointDistance=vPointLight[ i ].w;\n#ifdef WRAP_AROUND\nfloat pointDiffuseWeightFull=max( dot( normal, pointVector ), 0.0 );\nfloat pointDiffuseWeightHalf=max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );\nvec3 pointDiffuseWeight=mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n#else\nfloat pointDiffuseWeight=max( dot( normal, pointVector ), 0.0 );\n#endif\npointDiffuse +=pointDistance * pointLightColor[ i ] * uDiffuseColor * pointDiffuseWeight;\nvec3 pointHalfVector=normalize( pointVector + viewPosition );\nfloat pointDotNormalHalf=max( dot( normal, pointHalfVector ), 0.0 );\nfloat pointSpecularWeight=specularTex.r * max( pow( pointDotNormalHalf, uShininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization=( uShininess + 2.0001 ) / 8.0;\nvec3 schlick=uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );\npointSpecular +=schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;\n#else\npointSpecular +=pointDistance * pointLightColor[ i ] * uSpecularColor * pointSpecularWeight * pointDiffuseWeight;\n#endif\n}\n#endif\n#if MAX_DIR_LIGHTS > 0\nvec3 dirDiffuse=vec3( 0.0 );\nvec3 dirSpecular=vec3( 0.0 );\nfor( int i=0;i < MAX_DIR_LIGHTS;i++ ){\nvec4 lDirection=viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector=normalize( lDirection.xyz );\n#ifdef WRAP_AROUND\nfloat directionalLightWeightingFull=max( dot( normal, dirVector ), 0.0 );\nfloat directionalLightWeightingHalf=max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );\nvec3 dirDiffuseWeight=mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );\n#else\nfloat dirDiffuseWeight=max( dot( normal, dirVector ), 0.0 );\n#endif\ndirDiffuse +=directionalLightColor[ i ] * uDiffuseColor * dirDiffuseWeight;\nvec3 dirHalfVector=normalize( dirVector + viewPosition );\nfloat dirDotNormalHalf=max( dot( normal, dirHalfVector ), 0.0 );\nfloat dirSpecularWeight=specularTex.r * max( pow( dirDotNormalHalf, uShininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization=( uShininess + 2.0001 ) / 8.0;\nvec3 schlick=uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\ndirSpecular +=schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n#else\ndirSpecular +=directionalLightColor[ i ] * uSpecularColor * dirSpecularWeight * dirDiffuseWeight;\n#endif\n}\n#endif\nvec3 totalDiffuse=vec3( 0.0 );\nvec3 totalSpecular=vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\ntotalDiffuse +=dirDiffuse;\ntotalSpecular +=dirSpecular;\n#endif\n#if MAX_POINT_LIGHTS > 0\ntotalDiffuse +=pointDiffuse;\ntotalSpecular +=pointSpecular;\n#endif\ngl_FragColor.xyz=gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor) + totalSpecular;\nif ( enableReflection ){\nvec3 wPos=cameraPosition - vViewPosition;\nvec3 vReflect=reflect( normalize( wPos ), normal );\nvec4 cubeColor=textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\n#ifdef GAMMA_INPUT\ncubeColor.xyz *=cubeColor.xyz;\n#endif\ngl_FragColor.xyz=mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * uReflectivity );\n}", THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;\nuniform vec2 uOffset;\nuniform vec2 uRepeat;\n#ifdef VERTEX_TEXTURES\nuniform sampler2D tDisplacement;\nuniform float uDisplacementScale;\nuniform float uDisplacementBias;\n#endif\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\nvarying vec3 vViewPosition;", THREE.ShaderChunk.shadowmap_pars_vertex,"void main(){\nvec4 mvPosition=modelViewMatrix * vec4( position, 1.0 );\nvViewPosition=-mvPosition.xyz;\nvNormal=normalMatrix * normal;\nvTangent=normalMatrix * tangent.xyz;\nvBinormal=cross( vNormal, vTangent ) * tangent.w;\nvUv=uv * uRepeat + uOffset;\n#if MAX_POINT_LIGHTS > 0\nfor( int i=0;i < MAX_POINT_LIGHTS;i++ ){\nvec4 lPosition=viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector=lPosition.xyz - mvPosition.xyz;\nfloat lDistance=1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance=1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector=normalize( lVector );\nvPointLight[ i ]=vec4( lVector, lDistance );\n}\n#endif\n#ifdef VERTEX_TEXTURES\nvec3 dv=texture2D( tDisplacement, uv ).xyz;\nfloat df=uDisplacementScale * dv.x + uDisplacementBias;\nvec4 displacedPosition=vec4( normalize( vNormal.xyz ) * df, 0.0 ) + mvPosition;\ngl_Position=projectionMatrix * displacedPosition;\n#else\ngl_Position=projectionMatrix * mvPosition;\n#endif", THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:1,texture:null},tFlip:{type:"f",value:-1}},vertexShader:"varying vec3 vViewPosition;\nvoid main(){\nvec4 mPosition=objectMatrix * vec4( position, 1.0 );\nvViewPosition=cameraPosition - mPosition.xyz;\ngl_Position=projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vViewPosition;\nvoid main(){\nvec3 wPos=cameraPosition - vViewPosition;\ngl_FragColor=textureCube( tCube, vec3( tFlip * wPos.x, wPos.yz ) );\n}"}}});THREE.BufferGeometry=function(){this.id=THREE.GeometryCount++;this.vertexColorArray=this.vertexUvArray=this.vertexNormalArray=this.vertexPositionArray=this.vertexIndexArray=this.vertexColorBuffer=this.vertexUvBuffer=this.vertexNormalBuffer=this.vertexPositionBuffer=this.vertexIndexBuffer=null;this.dynamic=!1;this.boundingSphere=this.boundingBox=null;this.morphTargets=[]};THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,computeBoundingBox:function(){},computeBoundingSphere:function(){}};THREE.Curve=function(){};THREE.Curve.prototype.getPoint=function(){console.log("Warning, getPoint() not implemented!");return null};THREE.Curve.prototype.getPointAt=function(a){return this.getPoint(this.getUtoTmapping(a))};THREE.Curve.prototype.getPoints=function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPoint(b/a));return c};THREE.Curve.prototype.getSpacedPoints=function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPointAt(b/a));return c};THREE.Curve.prototype.getLength=function(){var a=this.getLengths();return a[a.length-1]};THREE.Curve.prototype.getLengths=function(a){a||(a=this.__arcLengthDivisions?this.__arcLengthDivisions:200);if(this.cacheArcLengths&&this.cacheArcLengths.length==a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],c,d=this.getPoint(0),e,f=0;b.push(0);for(e=1;e<=a;e++)c=this.getPoint(e/a),f+=c.distanceTo(d),b.push(f),d=c;return this.cacheArcLengths=b};THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0;this.getLengths()};THREE.Curve.prototype.getUtoTmapping=function(a,b){var c=this.getLengths(),d=0,e=c.length,f;f=b?b:a*c[e-1];for(var g=0,h=e-1,j;g<=h;)if(d=Math.floor(g+(h-g)/2),j=c[d]-f,0>j)g=d+1;else if(0<j)h=d-1;else{h=d;break}d=h;if(c[d]==f)return d/(e-1);g=c[d];return(d+(f-g)/(c[d+1]-g))/(e-1)};THREE.Curve.prototype.getNormalVector=function(a){a=this.getTangent(a);return new THREE.Vector2(-a.y,a.x)};THREE.Curve.prototype.getTangent=function(a){var b=a-1E-4,a=a+1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().subSelf(b).normalize()};THREE.Curve.prototype.getTangentAt=function(a){return this.getTangent(this.getUtoTmapping(a))};THREE.LineCurve=function(a,b){this.v1=a;this.v2=b};THREE.LineCurve.prototype=new THREE.Curve;THREE.LineCurve.prototype.constructor=THREE.LineCurve;THREE.LineCurve.prototype.getPoint=function(a){var b=this.v2.clone().subSelf(this.v1);b.multiplyScalar(a).addSelf(this.v1);return b};THREE.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};THREE.LineCurve.prototype.getTangent=function(){return this.v2.clone().subSelf(this.v1).normalize()};THREE.QuadraticBezierCurve=function(a,b,c){this.v0=a;this.v1=b;this.v2=c};THREE.QuadraticBezierCurve.prototype=new THREE.Curve;THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve;THREE.QuadraticBezierCurve.prototype.getPoint=function(a){var b;b=THREE.Shape.Utils.b2(a,this.v0.x,this.v1.x,this.v2.x);a=THREE.Shape.Utils.b2(a,this.v0.y,this.v1.y,this.v2.y);return new THREE.Vector2(b,a)};THREE.QuadraticBezierCurve.prototype.getTangent=function(a){var b;b=THREE.Curve.Utils.tangentQuadraticBezier(a,this.v0.x,this.v1.x,this.v2.x);a=THREE.Curve.Utils.tangentQuadraticBezier(a,this.v0.y,this.v1.y,this.v2.y);b=new THREE.Vector2(b,a);b.normalize();return b};THREE.CubicBezierCurve=function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d};THREE.CubicBezierCurve.prototype=new THREE.Curve;THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve;THREE.CubicBezierCurve.prototype.getPoint=function(a){var b;b=THREE.Shape.Utils.b3(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);a=THREE.Shape.Utils.b3(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);return new THREE.Vector2(b,a)};THREE.CubicBezierCurve.prototype.getTangent=function(a){var b;b=THREE.Curve.Utils.tangentCubicBezier(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);a=THREE.Curve.Utils.tangentCubicBezier(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);b=new THREE.Vector2(b,a);b.normalize();return b};THREE.SplineCurve=function(a){this.points=void 0==a?[]:a};THREE.SplineCurve.prototype=new THREE.Curve;THREE.SplineCurve.prototype.constructor=THREE.SplineCurve;THREE.SplineCurve.prototype.getPoint=function(a){var b=new THREE.Vector2,c=[],d=this.points,e;e=(d.length-1)*a;a=Math.floor(e);e-=a;c[0]=0==a?a:a-1;c[1]=a;c[2]=a>d.length-2?d.length-1:a+1;c[3]=a>d.length-3?d.length-1:a+2;b.x=THREE.Curve.Utils.interpolate(d[c[0]].x,d[c[1]].x,d[c[2]].x,d[c[3]].x,e);b.y=THREE.Curve.Utils.interpolate(d[c[0]].y,d[c[1]].y,d[c[2]].y,d[c[3]].y,e);return b};THREE.ArcCurve=function(a,b,c,d,e,f){this.aX=a;this.aY=b;this.aRadius=c;this.aStartAngle=d;this.aEndAngle=e;this.aClockwise=f};THREE.ArcCurve.prototype=new THREE.Curve;THREE.ArcCurve.prototype.constructor=THREE.ArcCurve;THREE.ArcCurve.prototype.getPoint=function(a){var b=this.aEndAngle-this.aStartAngle;this.aClockwise||(a=1-a);b=this.aStartAngle+a*b;a=this.aX+this.aRadius*Math.cos(b);b=this.aY+this.aRadius*Math.sin(b);return new THREE.Vector2(a,b)};THREE.Curve.Utils={tangentQuadraticBezier:function(a,b,c,d){return 2*(1-a)*(c-b)+2*a*(d-c)},tangentCubicBezier:function(a,b,c,d,e){return-3*b*(1-a)*(1-a)+3*c*(1-a)*(1-a)-6*a*c*(1-a)+6*a*d*(1-a)-3*a*a*d+3*a*a*e},tangentSpline:function(a){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,c,d,e){var a=0.5*(c-a),d=0.5*(d-b),f=e*e;return(2*b-2*c+a+d)*e*f+(-3*b+3*c-2*a-d)*f+a*e+b}};THREE.Curve.create=function(a,b){a.prototype=new THREE.Curve;a.prototype.constructor=a;a.prototype.getPoint=b;return a};THREE.LineCurve3=THREE.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var b=new THREE.Vector3;b.sub(this.v2,this.v1);b.multiplyScalar(a);b.addSelf(this.v1);return b});THREE.QuadraticBezierCurve3=THREE.Curve.create(function(a,b,c){this.v0=a;this.v1=b;this.v2=c},function(a){var b,c;b=THREE.Shape.Utils.b2(a,this.v0.x,this.v1.x,this.v2.x);c=THREE.Shape.Utils.b2(a,this.v0.y,this.v1.y,this.v2.y);a=THREE.Shape.Utils.b2(a,this.v0.z,this.v1.z,this.v2.z);return new THREE.Vector3(b,c,a)});THREE.CubicBezierCurve3=THREE.Curve.create(function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d},function(a){var b,c;b=THREE.Shape.Utils.b3(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);c=THREE.Shape.Utils.b3(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);a=THREE.Shape.Utils.b3(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z);return new THREE.Vector3(b,c,a)});THREE.SplineCurve3=THREE.Curve.create(function(a){this.points=void 0==a?[]:a},function(a){var b=new THREE.Vector3,c=[],d=this.points,e,a=(d.length-1)*a;e=Math.floor(a);a-=e;c[0]=0==e?e:e-1;c[1]=e;c[2]=e>d.length-2?d.length-1:e+1;c[3]=e>d.length-3?d.length-1:e+2;e=d[c[0]];var f=d[c[1]],g=d[c[2]],c=d[c[3]];b.x=THREE.Curve.Utils.interpolate(e.x,f.x,g.x,c.x,a);b.y=THREE.Curve.Utils.interpolate(e.y,f.y,g.y,c.y,a);b.z=THREE.Curve.Utils.interpolate(e.z,f.z,g.z,c.z,a);return b});THREE.ClosedSplineCurve3=THREE.Curve.create(function(a){this.points=void 0==a?[]:a},function(a){var b=new THREE.Vector3,c=[],d=this.points,e;e=(d.length-0)*a;a=Math.floor(e);e-=a;a+=0<a?0:(Math.floor(Math.abs(a)/d.length)+1)*d.length;c[0]=(a-1)%d.length;c[1]=a%d.length;c[2]=(a+1)%d.length;c[3]=(a+2)%d.length;b.x=THREE.Curve.Utils.interpolate(d[c[0]].x,d[c[1]].x,d[c[2]].x,d[c[3]].x,e);b.y=THREE.Curve.Utils.interpolate(d[c[0]].y,d[c[1]].y,d[c[2]].y,d[c[3]].y,e);b.z=THREE.Curve.Utils.interpolate(d[c[0]].z, d[c[1]].z,d[c[2]].z,d[c[3]].z,e);return b});THREE.CurvePath=function(){this.curves=[];this.bends=[];this.autoClose=!1};THREE.CurvePath.prototype=new THREE.Curve;THREE.CurvePath.prototype.constructor=THREE.CurvePath;THREE.CurvePath.prototype.add=function(a){this.curves.push(a)};THREE.CurvePath.prototype.checkConnection=function(){};THREE.CurvePath.prototype.closePath=function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new THREE.LineCurve(b,a))};THREE.CurvePath.prototype.getPoint=function(a){for(var b=a*this.getLength(),c=this.getCurveLengths(),a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.curves[a],b=1-b/a.getLength(),a.getPointAt(b);a++}return null};THREE.CurvePath.prototype.getLength=function(){var a=this.getCurveLengths();return a[a.length-1]};THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var a=[],b=0,c,d=this.curves.length;for(c=0;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a};THREE.CurvePath.prototype.getBoundingBox=function(){var a=this.getPoints(),b,c,d,e;b=c=Number.NEGATIVE_INFINITY;d=e=Number.POSITIVE_INFINITY;var f,g,h,j;j=new THREE.Vector2;g=0;for(h=a.length;g<h;g++)f=a[g],f.x>b?b=f.x:f.x<d&&(d=f.x),f.y>c?c=f.y:f.y<c&&(e=f.y),j.addSelf(f.x,f.y);return{minX:d,minY:e,maxX:b,maxY:c,centroid:j.divideScalar(h)}};THREE.CurvePath.prototype.createPointsGeometry=function(a){return this.createGeometry(this.getPoints(a,!0))};THREE.CurvePath.prototype.createSpacedPointsGeometry=function(a){return this.createGeometry(this.getSpacedPoints(a,!0))};THREE.CurvePath.prototype.createGeometry=function(a){for(var b=new THREE.Geometry,c=0;c<a.length;c++)b.vertices.push(new THREE.Vector3(a[c].x,a[c].y,0));return b};THREE.CurvePath.prototype.addWrapPath=function(a){this.bends.push(a)};THREE.CurvePath.prototype.getTransformedPoints=function(a,b){var c=this.getPoints(a),d,e;b||(b=this.bends);d=0;for(e=b.length;d<e;d++)c=this.getWrapPoints(c,b[d]);return c};THREE.CurvePath.prototype.getTransformedSpacedPoints=function(a,b){var c=this.getSpacedPoints(a),d,e;b||(b=this.bends);d=0;for(e=b.length;d<e;d++)c=this.getWrapPoints(c,b[d]);return c};THREE.CurvePath.prototype.getWrapPoints=function(a,b){var c=this.getBoundingBox(),d,e,f,g,h,j;d=0;for(e=a.length;d<e;d++)f=a[d],g=f.x,h=f.y,j=g/c.maxX,j=b.getUtoTmapping(j,g),g=b.getPoint(j),h=b.getNormalVector(j).multiplyScalar(h),f.x=g.x+h.x,f.y=g.y+h.y;return a};THREE.EventTarget=function(){var a={};this.addEventListener=function(b,c){void 0==a[b]&&(a[b]=[]);-1===a[b].indexOf(c)&&a[b].push(c)};this.dispatchEvent=function(b){for(var c in a[b.type])a[b.type][c](b)};this.removeEventListener=function(b,c){var d=a[b].indexOf(c);-1!==d&&a[b].splice(d,1)}};THREE.Gyroscope=function(){THREE.Object3D.call(this)};THREE.Gyroscope.prototype=new THREE.Object3D;THREE.Gyroscope.prototype.constructor=THREE.Gyroscope;THREE.Gyroscope.prototype.updateMatrixWorld=function(a){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||a)this.parent?(this.matrixWorld.multiply(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(this.translationWorld,this.rotationWorld,this.scaleWorld),this.matrix.decompose(this.translationObject,this.rotationObject,this.scaleObject),this.matrixWorld.compose(this.translationWorld,this.rotationObject,this.scaleWorld)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,c=this.children.length;b<c;b++)this.children[b].updateMatrixWorld(a)};THREE.Gyroscope.prototype.translationWorld=new THREE.Vector3;THREE.Gyroscope.prototype.translationObject=new THREE.Vector3;THREE.Gyroscope.prototype.rotationWorld=new THREE.Quaternion;THREE.Gyroscope.prototype.rotationObject=new THREE.Quaternion;THREE.Gyroscope.prototype.scaleWorld=new THREE.Vector3;THREE.Gyroscope.prototype.scaleObject=new THREE.Vector3;THREE.Path=function(a){THREE.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};THREE.Path.prototype=new THREE.CurvePath;THREE.Path.prototype.constructor=THREE.Path;THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc"};THREE.Path.prototype.fromPoints=function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)};THREE.Path.prototype.moveTo=function(a,b){var c=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:c})};THREE.Path.prototype.lineTo=function(a,b){var c=Array.prototype.slice.call(arguments),d=this.actions[this.actions.length-1].args;this.curves.push(new THREE.LineCurve(new THREE.Vector2(d[d.length-2],d[d.length-1]),new THREE.Vector2(a,b)));this.actions.push({action:THREE.PathActions.LINE_TO,args:c})};THREE.Path.prototype.quadraticCurveTo=function(a,b,c,d){var e=Array.prototype.slice.call(arguments),f=this.actions[this.actions.length-1].args;this.curves.push(new THREE.QuadraticBezierCurve(new THREE.Vector2(f[f.length-2],f[f.length-1]),new THREE.Vector2(a,b),new THREE.Vector2(c,d)));this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:e})};THREE.Path.prototype.bezierCurveTo=function(a,b,c,d,e,f){var g=Array.prototype.slice.call(arguments),h=this.actions[this.actions.length-1].args;this.curves.push(new THREE.CubicBezierCurve(new THREE.Vector2(h[h.length-2],h[h.length-1]),new THREE.Vector2(a,b),new THREE.Vector2(c,d),new THREE.Vector2(e,f)));this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:g})};THREE.Path.prototype.splineThru=function(a){var b=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args,c=[new THREE.Vector2(c[c.length-2],c[c.length-1])];Array.prototype.push.apply(c,a);this.curves.push(new THREE.SplineCurve(c));this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:b})};THREE.Path.prototype.arc=function(a,b,c,d,e,f){var g=Array.prototype.slice.call(arguments),h=this.actions[this.actions.length-1],h=new THREE.ArcCurve(h.x+a,h.y+b,c,d,e,f);this.curves.push(h);h=h.getPoint(f?1:0);g.push(h.x);g.push(h.y);this.actions.push({action:THREE.PathActions.ARC,args:g})};THREE.Path.prototype.absarc=function(a,b,c,d,e,f){var g=Array.prototype.slice.call(arguments),h=new THREE.ArcCurve(a,b,c,d,e,f);this.curves.push(h);h=h.getPoint(f?1:0);g.push(h.x);g.push(h.y);this.actions.push({action:THREE.PathActions.ARC,args:g})};THREE.Path.prototype.getSpacedPoints=function(a){a||(a=40);for(var b=[],c=0;c<a;c++)b.push(this.getPoint(c/a));return b};THREE.Path.prototype.getPoints=function(a,b){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(a,b);var a=a||12,c=[],d,e,f,g,h,j,m,l,q,o,p,r,n;d=0;for(e=this.actions.length;d<e;d++)switch(f=this.actions[d],g=f.action,f=f.args,g){case THREE.PathActions.MOVE_TO:c.push(new THREE.Vector2(f[0],f[1]));break;case THREE.PathActions.LINE_TO:c.push(new THREE.Vector2(f[0],f[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:h=f[2];j=f[3];q=f[0];o=f[1];0<c.length?(g=c[c.length-1],p=g.x, r=g.y):(g=this.actions[d-1].args,p=g[g.length-2],r=g[g.length-1]);for(f=1;f<=a;f++)n=f/a,g=THREE.Shape.Utils.b2(n,p,q,h),n=THREE.Shape.Utils.b2(n,r,o,j),c.push(new THREE.Vector2(g,n));break;case THREE.PathActions.BEZIER_CURVE_TO:h=f[4];j=f[5];q=f[0];o=f[1];m=f[2];l=f[3];0<c.length?(g=c[c.length-1],p=g.x,r=g.y):(g=this.actions[d-1].args,p=g[g.length-2],r=g[g.length-1]);for(f=1;f<=a;f++)n=f/a,g=THREE.Shape.Utils.b3(n,p,q,m,h),n=THREE.Shape.Utils.b3(n,r,o,l,j),c.push(new THREE.Vector2(g,n));break;case THREE.PathActions.CSPLINE_THRU:g=this.actions[d-1].args;n=[new THREE.Vector2(g[g.length-2],g[g.length-1])];g=a*f[0].length;n=n.concat(f[0]);n=new THREE.SplineCurve(n);for(f=1;f<=g;f++)c.push(n.getPointAt(f/g));break;case THREE.PathActions.ARC:h=f[0];j=f[1];m=f[2];q=f[3];o=!!f[5];l=f[4]-q;p=2*a;for(f=1;f<=p;f++)n=f/p,o||(n=1-n),n=q+n*l,g=h+m*Math.cos(n),n=j+m*Math.sin(n),c.push(new THREE.Vector2(g,n))}d=c[c.length-1];1E-10>Math.abs(d.x-c[0].x)&&1E-10>Math.abs(d.y-c[0].y)&&c.splice(c.length-1,1);b&&c.push(c[0]);return c};THREE.Path.prototype.transform=function(a,b){this.getBoundingBox();return this.getWrapPoints(this.getPoints(b),a)};THREE.Path.prototype.nltransform=function(a,b,c,d,e,f){var g=this.getPoints(),h,j,m,l,q;h=0;for(j=g.length;h<j;h++)m=g[h],l=m.x,q=m.y,m.x=a*l+b*q+c,m.y=d*q+e*l+f;return g};THREE.Path.prototype.debug=function(a){var b=this.getBoundingBox();a||(a=document.createElement("canvas"),a.setAttribute("width",b.maxX+100),a.setAttribute("height",b.maxY+100),document.body.appendChild(a));b=a.getContext("2d");b.fillStyle="white";b.fillRect(0,0,a.width,a.height);b.strokeStyle="black";b.beginPath();var c,d,e,a=0;for(c=this.actions.length;a<c;a++)d=this.actions[a],e=d.args,d=d.action,d!=THREE.PathActions.CSPLINE_THRU&&b[d].apply(b,e);b.stroke();b.closePath();b.strokeStyle="red";d=this.getPoints();a=0;for(c=d.length;a<c;a++)e=d[a],b.beginPath(),b.arc(e.x,e.y,1.5,0,2*Math.PI,!1),b.stroke(),b.closePath()};THREE.Path.prototype.toShapes=function(){var a,b,c,d,e=[],f=new THREE.Path;a=0;for(b=this.actions.length;a<b;a++)c=this.actions[a],d=c.args,c=c.action,c==THREE.PathActions.MOVE_TO&&0!=f.actions.length&&(e.push(f),f=new THREE.Path),f[c].apply(f,d);0!=f.actions.length&&e.push(f);if(0==e.length)return[];var g;d=[];a=!THREE.Shape.Utils.isClockWise(e[0].getPoints());if(1==e.length)return f=e[0],g=new THREE.Shape,g.actions=f.actions,g.curves=f.curves,d.push(g),d;if(a){g=new THREE.Shape;a=0;for(b=e.length;a<        b;a++)f=e[a],THREE.Shape.Utils.isClockWise(f.getPoints())?(g.actions=f.actions,g.curves=f.curves,d.push(g),g=new THREE.Shape):g.holes.push(f)}else{a=0;for(b=e.length;a<b;a++)f=e[a],THREE.Shape.Utils.isClockWise(f.getPoints())?(g&&d.push(g),g=new THREE.Shape,g.actions=f.actions,g.curves=f.curves):g.holes.push(f);d.push(g)}return d};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[]};THREE.Shape.prototype=new THREE.Path;THREE.Shape.prototype.constructor=THREE.Path;THREE.Shape.prototype.extrude=function(a){return new THREE.ExtrudeGeometry(this,a)};THREE.Shape.prototype.getPointsHoles=function(a){var b,c=this.holes.length,d=[];for(b=0;b<c;b++)d[b]=this.holes[b].getTransformedPoints(a,this.bends);return d};THREE.Shape.prototype.getSpacedPointsHoles=function(a){var b,c=this.holes.length,d=[];for(b=0;b<c;b++)d[b]=this.holes[b].getTransformedSpacedPoints(a,this.bends);return d};THREE.Shape.prototype.extractAllPoints=function(a){return{shape:this.getTransformedPoints(a),holes:this.getPointsHoles(a)}};THREE.Shape.prototype.extractPoints=function(a){return this.useSpacedPoints?this.extractAllSpacedPoints(a):this.extractAllPoints(a)};THREE.Shape.prototype.extractAllSpacedPoints=function(a){return{shape:this.getTransformedSpacedPoints(a),holes:this.getSpacedPointsHoles(a)}};THREE.Shape.Utils={removeHoles:function(a,b){var c=a.concat(),d=c.concat(),e,f,g,h,j,m,l,q,o,p,r=[];for(j=0;j<b.length;j++){m=b[j];Array.prototype.push.apply(d,m);f=Number.POSITIVE_INFINITY;for(e=0;e<m.length;e++){o=m[e];p=[];for(q=0;q<c.length;q++)l=c[q],l=o.distanceToSquared(l),p.push(l),l<f&&(f=l,g=e,h=q)}e=0<=h-1?h-1:c.length-1;f=0<=g-1?g-1:m.length-1;var n=[m[g],c[h],c[e]];q=THREE.FontUtils.Triangulate.area(n);var s=[m[g],m[f],c[h]];o=THREE.FontUtils.Triangulate.area(s);p=h;l=g;h+=1;g+=-1;0> h&&(h+=c.length);h%=c.length;0>g&&(g+=m.length);g%=m.length;e=0<=h-1?h-1:c.length-1;f=0<=g-1?g-1:m.length-1;n=[m[g],c[h],c[e]];n=THREE.FontUtils.Triangulate.area(n);s=[m[g],m[f],c[h]];s=THREE.FontUtils.Triangulate.area(s);q+o>n+s&&(h=p,g=l,0>h&&(h+=c.length),h%=c.length,0>g&&(g+=m.length),g%=m.length,e=0<=h-1?h-1:c.length-1,f=0<=g-1?g-1:m.length-1);q=c.slice(0,h);o=c.slice(h);p=m.slice(g);l=m.slice(0,g);f=[m[g],m[f],c[h]];r.push([m[g],c[h],c[e]]);r.push(f);c=q.concat(p).concat(l).concat(o)}return{shape:c, isolatedPts:r,allpoints:d}},triangulateShape:function(a,b){var c=THREE.Shape.Utils.removeHoles(a,b),d=c.allpoints,e=c.isolatedPts,c=THREE.FontUtils.Triangulate(c.shape,!1),f,g,h,j,m={};f=0;for(g=d.length;f<g;f++)j=d[f].x+":"+d[f].y,void 0!==m[j]&&console.log("Duplicate point",j),m[j]=f;f=0;for(g=c.length;f<g;f++){h=c[f];for(d=0;3>d;d++)j=h[d].x+":"+h[d].y,j=m[j],void 0!==j&&(h[d]=j)}f=0;for(g=e.length;f<g;f++){h=e[f];for(d=0;3>d;d++)j=h[d].x+":"+h[d].y,j=m[j],void 0!==j&&(h[d]=j)}return c.concat(e)}, isClockWise:function(a){return 0>THREE.FontUtils.Triangulate.area(a)},b2p0:function(a,b){var c=1-a;return c*c*b},b2p1:function(a,b){return 2*(1-a)*a*b},b2p2:function(a,b){return a*a*b},b2:function(a,b,c,d){return this.b2p0(a,b)+this.b2p1(a,c)+this.b2p2(a,d)},b3p0:function(a,b){var c=1-a;return c*c*c*b},b3p1:function(a,b){var c=1-a;return 3*c*c*a*b},b3p2:function(a,b){return 3*(1-a)*a*a*b},b3p3:function(a,b){return a*a*a*b},b3:function(a,b,c,d,e){return this.b3p0(a,b)+this.b3p1(a,c)+this.b3p2(a,d)+        this.b3p3(a,e)}};THREE.TextPath=function(a,b){THREE.Path.call(this);this.parameters=b||{};this.set(a)};THREE.TextPath.prototype.set=function(a,b){b=b||this.parameters;this.text=a;var c=void 0!==b.curveSegments?b.curveSegments:4,d=void 0!==b.font?b.font:"helvetiker",e=void 0!==b.weight?b.weight:"normal",f=void 0!==b.style?b.style:"normal";THREE.FontUtils.size=void 0!==b.size?b.size:100;THREE.FontUtils.divisions=c;THREE.FontUtils.face=d;THREE.FontUtils.weight=e;THREE.FontUtils.style=f};THREE.TextPath.prototype.toShapes=function(){for(var a=THREE.FontUtils.drawText(this.text).paths,b=[],c=0,d=a.length;c<d;c++)Array.prototype.push.apply(b,a[c].toShapes());return b};THREE.AnimationHandler=function(){var a=[],b={},c={update:function(b){for(var c=0;c<a.length;c++)a[c].update(b)},addToUpdate:function(b){-1===a.indexOf(b)&&a.push(b)},removeFromUpdate:function(b){b=a.indexOf(b);-1!==b&&a.splice(b,1)},add:function(a){void 0!==b[a.name]&&console.log("THREE.AnimationHandler.add: Warning! "+a.name+" already exists in library. Overwriting.");b[a.name]=a;if(!0!==a.initialized){for(var c=0;c<a.hierarchy.length;c++){for(var d=0;d<a.hierarchy[c].keys.length;d++)if(0>a.hierarchy[c].keys[d].time&& (a.hierarchy[c].keys[d].time=0),void 0!==a.hierarchy[c].keys[d].rot&&!(a.hierarchy[c].keys[d].rot instanceof THREE.Quaternion)){var h=a.hierarchy[c].keys[d].rot;a.hierarchy[c].keys[d].rot=new THREE.Quaternion(h[0],h[1],h[2],h[3])}if(a.hierarchy[c].keys.length&&void 0!==a.hierarchy[c].keys[0].morphTargets){h={};for(d=0;d<a.hierarchy[c].keys.length;d++)for(var j=0;j<a.hierarchy[c].keys[d].morphTargets.length;j++){var m=a.hierarchy[c].keys[d].morphTargets[j];h[m]=-1}a.hierarchy[c].usedMorphTargets=h;for(d=0;d<a.hierarchy[c].keys.length;d++){var l={};for(m in h){for(j=0;j<a.hierarchy[c].keys[d].morphTargets.length;j++)if(a.hierarchy[c].keys[d].morphTargets[j]===m){l[m]=a.hierarchy[c].keys[d].morphTargetsInfluences[j];break}j===a.hierarchy[c].keys[d].morphTargets.length&&(l[m]=0)}a.hierarchy[c].keys[d].morphTargetsInfluences=l}}for(d=1;d<a.hierarchy[c].keys.length;d++)a.hierarchy[c].keys[d].time===a.hierarchy[c].keys[d-1].time&&(a.hierarchy[c].keys.splice(d,1),d--);for(d=0;d<a.hierarchy[c].keys.length;d++)a.hierarchy[c].keys[d].index=d}d=parseInt(a.length*a.fps,10);a.JIT={};a.JIT.hierarchy=[];for(c=0;c<a.hierarchy.length;c++)a.JIT.hierarchy.push(Array(d));a.initialized=!0}},get:function(a){if("string"===typeof a){if(b[a])return b[a];console.log("THREE.AnimationHandler.get: Couldn't find animation "+a);return null}},parse:function(a){var b=[];if(a instanceof THREE.SkinnedMesh)for(var c=0;c<a.bones.length;c++)b.push(a.bones[c]);else d(a,b);return b}},d=function(a,b){b.push(a);for(var c=0;c<a.children.length;c++)d(a.children[c], b)};c.LINEAR=0;c.CATMULLROM=1;c.CATMULLROM_FORWARD=2;return c}();THREE.Animation=function(a,b,c,d){this.root=a;this.data=THREE.AnimationHandler.get(b);this.hierarchy=THREE.AnimationHandler.parse(a);this.currentTime=0;this.timeScale=1;this.isPlaying=!1;this.loop=this.isPaused=!0;this.interpolationType=void 0!==c?c:THREE.AnimationHandler.LINEAR;this.JITCompile=void 0!==d?d:!0;this.points=[];this.target=new THREE.Vector3};THREE.Animation.prototype.play=function(a,b){if(!this.isPlaying){this.isPlaying=!0;this.loop=void 0!==a?a:!0;this.currentTime=void 0!==b?b:0;var c,d=this.hierarchy.length,e;for(c=0;c<d;c++){e=this.hierarchy[c];this.interpolationType!==THREE.AnimationHandler.CATMULLROM_FORWARD&&(e.useQuaternion=!0);e.matrixAutoUpdate=!0;void 0===e.animationCache&&(e.animationCache={},e.animationCache.prevKey={pos:0,rot:0,scl:0},e.animationCache.nextKey={pos:0,rot:0,scl:0},e.animationCache.originalMatrix=e instanceof        THREE.Bone?e.skinMatrix:e.matrix);var f=e.animationCache.prevKey;e=e.animationCache.nextKey;f.pos=this.data.hierarchy[c].keys[0];f.rot=this.data.hierarchy[c].keys[0];f.scl=this.data.hierarchy[c].keys[0];e.pos=this.getNextKeyWith("pos",c,1);e.rot=this.getNextKeyWith("rot",c,1);e.scl=this.getNextKeyWith("scl",c,1)}this.update(0)}this.isPaused=!1;THREE.AnimationHandler.addToUpdate(this)};THREE.Animation.prototype.pause=function(){this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this);this.isPaused=!this.isPaused};THREE.Animation.prototype.stop=function(){this.isPaused=this.isPlaying=!1;THREE.AnimationHandler.removeFromUpdate(this);for(var a=0;a<this.hierarchy.length;a++)void 0!==this.hierarchy[a].animationCache&&(this.hierarchy[a]instanceof THREE.Bone?this.hierarchy[a].skinMatrix=this.hierarchy[a].animationCache.originalMatrix:this.hierarchy[a].matrix=this.hierarchy[a].animationCache.originalMatrix,delete this.hierarchy[a].animationCache)};THREE.Animation.prototype.update=function(a){if(this.isPlaying){var b=["pos","rot","scl"],c,d,e,f,g,h,j,m,l=this.data.JIT.hierarchy,q,o;o=this.currentTime+=a*this.timeScale;q=this.currentTime%=this.data.length;m=parseInt(Math.min(q*this.data.fps,this.data.length*this.data.fps),10);for(var p=0,r=this.hierarchy.length;p<r;p++)if(a=this.hierarchy[p],j=a.animationCache,this.JITCompile&&void 0!==l[p][m])a instanceof THREE.Bone?(a.skinMatrix=l[p][m],a.matrixAutoUpdate=!1,a.matrixWorldNeedsUpdate=!1):(a.matrix=l[p][m],a.matrixAutoUpdate=!1,a.matrixWorldNeedsUpdate=!0);else{this.JITCompile&&(a instanceof THREE.Bone?a.skinMatrix=a.animationCache.originalMatrix:a.matrix=a.animationCache.originalMatrix);for(var n=0;3>n;n++){c=b[n];g=j.prevKey[c];h=j.nextKey[c];if(h.time<=o){if(q<o)if(this.loop){g=this.data.hierarchy[p].keys[0];for(h=this.getNextKeyWith(c,p,1);h.time<q;)g=h,h=this.getNextKeyWith(c,p,h.index+1)}else{this.stop();return}else{do g=h,h=this.getNextKeyWith(c,p,h.index+1);while(h.time<q)}j.prevKey[c]=g;j.nextKey[c]=h}a.matrixAutoUpdate=!0;a.matrixWorldNeedsUpdate=!0;d=(q-g.time)/(h.time-g.time);e=g[c];f=h[c];if(0>d||1<d)console.log("THREE.Animation.update: Warning! Scale out of bounds:"+d+" on bone "+p),d=0>d?0:1;if("pos"===c)if(c=a.position,this.interpolationType===THREE.AnimationHandler.LINEAR)c.x=e[0]+(f[0]-e[0])*d,c.y=e[1]+(f[1]-e[1])*d,c.z=e[2]+(f[2]-e[2])*d;else{if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD)this.points[0]=this.getPrevKeyWith("pos",p,g.index-1).pos,this.points[1]=e,this.points[2]=f,this.points[3]=this.getNextKeyWith("pos",p,h.index+1).pos,d=0.33*d+0.33,e=this.interpolateCatmullRom(this.points,d),c.x=e[0],c.y=e[1],c.z=e[2],this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD&&(d=this.interpolateCatmullRom(this.points,1.01*d),this.target.set(d[0],d[1],d[2]),this.target.subSelf(c),this.target.y=0,this.target.normalize(),d=Math.atan2(this.target.x,this.target.z),a.rotation.set(0,d,0))}else"rot"===c?THREE.Quaternion.slerp(e,f,a.quaternion,d):"scl"===c&&(c=a.scale,c.x=e[0]+(f[0]-e[0])*d,c.y=e[1]+(f[1]-e[1])*d,c.z=e[2]+(f[2]-e[2])*d)}}if(this.JITCompile&&void 0===l[0][m]){this.hierarchy[0].updateMatrixWorld(!0);for(p=0;p<this.hierarchy.length;p++)l[p][m]=this.hierarchy[p]instanceof THREE.Bone?this.hierarchy[p].skinMatrix.clone():this.hierarchy[p].matrix.clone()}}};THREE.Animation.prototype.interpolateCatmullRom=function(a,b){var c=[],d=[],e,f,g,h,j,m;e=(a.length-1)*b;f=Math.floor(e);e-=f;c[0]=0===f?f:f-1;c[1]=f;c[2]=f>a.length-2?f:f+1;c[3]=f>a.length-3?f:f+2;f=a[c[0]];h=a[c[1]];j=a[c[2]];m=a[c[3]];c=e*e;g=e*c;d[0]=this.interpolate(f[0],h[0],j[0],m[0],e,c,g);d[1]=this.interpolate(f[1],h[1],j[1],m[1],e,c,g);d[2]=this.interpolate(f[2],h[2],j[2],m[2],e,c,g);return d};THREE.Animation.prototype.interpolate=function(a,b,c,d,e,f,g){a=0.5*(c-a);d=0.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b};THREE.Animation.prototype.getNextKeyWith=function(a,b,c){for(var d=this.data.hierarchy[b].keys,c=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?c<d.length-1?c:d.length-1:c%d.length;c<d.length;c++)if(void 0!==d[c][a])return d[c];return this.data.hierarchy[b].keys[0]};THREE.Animation.prototype.getPrevKeyWith=function(a,b,c){for(var d=this.data.hierarchy[b].keys,c=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?0<c?c:0:0<=c?c:c+d.length;0<=c;c--)if(void 0!==d[c][a])return d[c];return this.data.hierarchy[b].keys[d.length-1]};THREE.KeyFrameAnimation=function(a,b,c){this.root=a;this.data=THREE.AnimationHandler.get(b);this.hierarchy=THREE.AnimationHandler.parse(a);this.currentTime=0;this.timeScale=0.001;this.isPlaying=!1;this.loop=this.isPaused=!0;this.JITCompile=void 0!==c?c:!0;a=0;for(b=this.hierarchy.length;a<b;a++){var c=this.data.hierarchy[a].sids,d=this.hierarchy[a];if(this.data.hierarchy[a].keys.length&&c){for(var e=0;e<c.length;e++){var f=c[e],g=this.getNextKeyWith(f,a,0);g&&g.apply(f)}d.matrixAutoUpdate=!1;this.data.hierarchy[a].node.updateMatrix();d.matrixWorldNeedsUpdate=!0}}};THREE.KeyFrameAnimation.prototype.play=function(a,b){if(!this.isPlaying){this.isPlaying=!0;this.loop=void 0!==a?a:!0;this.currentTime=void 0!==b?b:0;this.startTimeMs=b;this.startTime=1E7;this.endTime=-this.startTime;var c,d=this.hierarchy.length,e,f;for(c=0;c<d;c++)if(e=this.hierarchy[c],f=this.data.hierarchy[c],e.useQuaternion=!0,void 0===f.animationCache&&(f.animationCache={},f.animationCache.prevKey=null,f.animationCache.nextKey=null,f.animationCache.originalMatrix=e instanceof THREE.Bone?e.skinMatrix:        e.matrix),e=this.data.hierarchy[c].keys,e.length)f.animationCache.prevKey=e[0],f.animationCache.nextKey=e[1],this.startTime=Math.min(e[0].time,this.startTime),this.endTime=Math.max(e[e.length-1].time,this.endTime);this.update(0)}this.isPaused=!1;THREE.AnimationHandler.addToUpdate(this)};THREE.KeyFrameAnimation.prototype.pause=function(){this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this);this.isPaused=!this.isPaused};THREE.KeyFrameAnimation.prototype.stop=function(){this.isPaused=this.isPlaying=!1;THREE.AnimationHandler.removeFromUpdate(this);for(var a=0;a<this.data.hierarchy.length;a++){var b=this.hierarchy[a],c=this.data.hierarchy[a];if(void 0!==c.animationCache){var d=c.animationCache.originalMatrix;b instanceof THREE.Bone?(d.copy(b.skinMatrix),b.skinMatrix=d):(d.copy(b.matrix),b.matrix=d);delete c.animationCache}}};THREE.KeyFrameAnimation.prototype.update=function(a){if(this.isPlaying){var b,c,d,e,f=this.data.JIT.hierarchy,g,h,j;h=this.currentTime+=a*this.timeScale;g=this.currentTime%=this.data.length;g<this.startTimeMs&&(g=this.currentTime=this.startTimeMs+g);e=parseInt(Math.min(g*this.data.fps,this.data.length*this.data.fps),10);if((j=g<h)&&!this.loop){for(var a=0,m=this.hierarchy.length;a<m;a++){var l=this.data.hierarchy[a].keys,f=this.data.hierarchy[a].sids;d=l.length-1;e=this.hierarchy[a];if(l.length){for(l=0;l<f.length;l++)g=f[l],(h=this.getPrevKeyWith(g,a,d))&&h.apply(g);this.data.hierarchy[a].node.updateMatrix();e.matrixWorldNeedsUpdate=!0}}this.stop()}else if(!(g<this.startTime)){a=0;for(m=this.hierarchy.length;a<m;a++){d=this.hierarchy[a];b=this.data.hierarchy[a];var l=b.keys,q=b.animationCache;if(this.JITCompile&&void 0!==f[a][e])d instanceof THREE.Bone?(d.skinMatrix=f[a][e],d.matrixWorldNeedsUpdate=!1):(d.matrix=f[a][e],d.matrixWorldNeedsUpdate=!0);else if(l.length){this.JITCompile&&q&&(d instanceof        THREE.Bone?d.skinMatrix=q.originalMatrix:d.matrix=q.originalMatrix);b=q.prevKey;c=q.nextKey;if(b&&c){if(c.time<=h){if(j&&this.loop){b=l[0];for(c=l[1];c.time<g;)b=c,c=l[b.index+1]}else if(!j)for(var o=l.length-1;c.time<g&&c.index!==o;)b=c,c=l[b.index+1];q.prevKey=b;q.nextKey=c}c.time>=g?b.interpolate(c,g):b.interpolate(c,c.time)}this.data.hierarchy[a].node.updateMatrix();d.matrixWorldNeedsUpdate=!0}}if(this.JITCompile&&void 0===f[0][e]){this.hierarchy[0].updateMatrixWorld(!0);for(a=0;a<this.hierarchy.length;a++)f[a][e]=this.hierarchy[a]instanceof THREE.Bone?this.hierarchy[a].skinMatrix.clone():this.hierarchy[a].matrix.clone()}}}};THREE.KeyFrameAnimation.prototype.getNextKeyWith=function(a,b,c){b=this.data.hierarchy[b].keys;for(c%=b.length;c<b.length;c++)if(b[c].hasTarget(a))return b[c];return b[0]};THREE.KeyFrameAnimation.prototype.getPrevKeyWith=function(a,b,c){b=this.data.hierarchy[b].keys;for(c=0<=c?c:c+b.length;0<=c;c--)if(b[c].hasTarget(a))return b[c];return b[b.length-1]};THREE.CubeCamera=function(a,b,c){THREE.Object3D.call(this);var d=new THREE.PerspectiveCamera(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new THREE.Vector3(1,0,0));this.add(d);var e=new THREE.PerspectiveCamera(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new THREE.Vector3(-1,0,0));this.add(e);var f=new THREE.PerspectiveCamera(90,1,a,b);f.up.set(0,0,1);f.lookAt(new THREE.Vector3(0,1,0));this.add(f);var g=new THREE.PerspectiveCamera(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new THREE.Vector3(0,-1,0));this.add(g);var h=new THREE.PerspectiveCamera(90, 1,a,b);h.up.set(0,-1,0);h.lookAt(new THREE.Vector3(0,0,1));this.add(h);var j=new THREE.PerspectiveCamera(90,1,a,b);j.up.set(0,-1,0);j.lookAt(new THREE.Vector3(0,0,-1));this.add(j);this.renderTarget=new THREE.WebGLRenderTargetCube(c,c,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});this.updateCubeMap=function(a,b){var c=this.renderTarget,o=c.generateMipmaps;c.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=1;a.render(b,e,c);c.activeCubeFace=2;a.render(b,f,c);c.activeCubeFace=3;a.render(b,g,c);c.activeCubeFace=4;a.render(b,h,c);c.generateMipmaps=o;c.activeCubeFace=5;a.render(b,j,c)}};THREE.CubeCamera.prototype=new THREE.Object3D;THREE.CubeCamera.prototype.constructor=THREE.CubeCamera;THREE.CombinedCamera=function(a,b,c,d,e,f,g){THREE.Camera.call(this);this.fov=c;this.left=-a/2;this.right=a/2;this.top=b/2;this.bottom=-b/2;this.cameraO=new THREE.OrthographicCamera(a/-2,a/2,b/2,b/-2,f,g);this.cameraP=new THREE.PerspectiveCamera(c,a/b,d,e);this.zoom=1;this.toPerspective()};THREE.CombinedCamera.prototype=new THREE.Camera;THREE.CombinedCamera.prototype.constructor=THREE.CombinedCamera;THREE.CombinedCamera.prototype.toPerspective=function(){this.near=this.cameraP.near;this.far=this.cameraP.far;this.cameraP.fov=this.fov/this.zoom;this.cameraP.updateProjectionMatrix();this.projectionMatrix=this.cameraP.projectionMatrix;this.inPersepectiveMode=!0;this.inOrthographicMode=!1};THREE.CombinedCamera.prototype.toOrthographic=function(){var a=this.cameraP.aspect,b=(this.cameraP.near+this.cameraP.far)/2,b=Math.tan(this.fov/2)*b,a=2*b*a/2,b=b/this.zoom,a=a/this.zoom;this.cameraO.left=-a;this.cameraO.right=a;this.cameraO.top=b;this.cameraO.bottom=-b;this.cameraO.updateProjectionMatrix();this.near=this.cameraO.near;this.far=this.cameraO.far;this.projectionMatrix=this.cameraO.projectionMatrix;this.inPersepectiveMode=!1;this.inOrthographicMode=!0};THREE.CombinedCamera.prototype.setSize=function(a,b){this.cameraP.aspect=a/b;this.left=-a/2;this.right=a/2;this.top=b/2;this.bottom=-b/2};THREE.CombinedCamera.prototype.setFov=function(a){this.fov=a;this.inPersepectiveMode?this.toPerspective():this.toOrthographic()};THREE.CombinedCamera.prototype.updateProjectionMatrix=function(){this.inPersepectiveMode?this.toPerspective():(this.toPerspective(),this.toOrthographic())};THREE.CombinedCamera.prototype.setLens=function(a,b){var c=2*Math.atan((void 0!==b?b:24)/(2*a))*(180/Math.PI);this.setFov(c);return c};THREE.CombinedCamera.prototype.setZoom=function(a){this.zoom=a;this.inPersepectiveMode?this.toPerspective():this.toOrthographic()};THREE.CombinedCamera.prototype.toFrontView=function(){this.rotation.x=0;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toBackView=function(){this.rotation.x=0;this.rotation.y=Math.PI;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toLeftView=function(){this.rotation.x=0;this.rotation.y=-Math.PI/2;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toRightView=function(){this.rotation.x=0;this.rotation.y=Math.PI/2;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toTopView=function(){this.rotation.x=-Math.PI/2;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.CombinedCamera.prototype.toBottomView=function(){this.rotation.x=Math.PI/2;this.rotation.y=0;this.rotation.z=0;this.rotationAutoUpdate=!1};THREE.FirstPersonControls=function(a,b){function c(a,b){return function(){b.apply(a,arguments)}}this.object=a;this.target=new THREE.Vector3(0,0,0);this.domElement=void 0!==b?b:document;this.movementSpeed=1;this.lookSpeed=0.005;this.noFly=!1;this.lookVertical=!0;this.autoForward=!1;this.activeLook=!0;this.heightSpeed=!1;this.heightCoef=1;this.heightMin=0;this.constrainVertical=!1;this.verticalMin=0;this.verticalMax=Math.PI;this.theta=this.phi=this.lon=this.lat=this.mouseY=this.mouseX=this.autoSpeedFactor=0;this.mouseDragOn=this.freeze=this.moveRight=this.moveLeft=this.moveBackward=this.moveForward=!1;this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2,this.domElement.setAttribute("tabindex",-1));this.onMouseDown=function(a){this.domElement!==document&&this.domElement.focus();a.preventDefault();a.stopPropagation();if(this.activeLook)switch(a.button){case 0:this.moveForward=true;break;case 2:this.moveBackward=true}this.mouseDragOn=true};this.onMouseUp=function(a){a.preventDefault();a.stopPropagation();if(this.activeLook)switch(a.button){case 0:this.moveForward=false;break;case 2:this.moveBackward=false}this.mouseDragOn=false};this.onMouseMove=function(a){if(this.domElement===document){this.mouseX=a.pageX-this.viewHalfX;this.mouseY=a.pageY-this.viewHalfY}else{this.mouseX=a.pageX-this.domElement.offsetLeft-this.viewHalfX;this.mouseY=a.pageY-this.domElement.offsetTop-this.viewHalfY}};this.onKeyDown=function(a){switch(a.keyCode){case 38:case 87:this.moveForward=true;break;case 37:case 65:this.moveLeft=true;break;case 40:case 83:this.moveBackward=true;break;case 39:case 68:this.moveRight=true;break;case 82:this.moveUp=true;break;case 70:this.moveDown=true;break;case 81:this.freeze=!this.freeze}};this.onKeyUp=function(a){switch(a.keyCode){case 38:case 87:this.moveForward=false;break;case 37:case 65:this.moveLeft=false;break;case 40:case 83:this.moveBackward=false;break;case 39:case 68:this.moveRight=false;break;case 82:this.moveUp=false;break;case 70:this.moveDown=false}};this.update=function(a){var b=0;if(!this.freeze){if(this.heightSpeed){b=THREE.Math.clamp(this.object.position.y,this.heightMin,this.heightMax)-this.heightMin;this.autoSpeedFactor=a*b*this.heightCoef}else this.autoSpeedFactor=0;b=a*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(b+this.autoSpeedFactor));this.moveBackward&&this.object.translateZ(b);this.moveLeft&&this.object.translateX(-b);this.moveRight&&this.object.translateX(b);this.moveUp&&this.object.translateY(b);this.moveDown&&this.object.translateY(-b);a=a*this.lookSpeed;this.activeLook||(a=0);this.lon=this.lon+this.mouseX*a;if(this.lookVertical)this.lat=this.lat-this.mouseY*a;this.lat=Math.max(-85,Math.min(85,this.lat));this.phi=(90-this.lat)*Math.PI/180;this.theta=this.lon*Math.PI/180;var b=this.target,c=this.object.position;b.x=c.x+100*Math.sin(this.phi)*Math.cos(this.theta);b.y=c.y+100*Math.cos(this.phi);b.z=c.z+100*Math.sin(this.phi)*        Math.sin(this.theta);b=1;this.constrainVertical&&(b=Math.PI/(this.verticalMax-this.verticalMin));this.lon=this.lon+this.mouseX*a;if(this.lookVertical)this.lat=this.lat-this.mouseY*a*b;this.lat=Math.max(-85,Math.min(85,this.lat));this.phi=(90-this.lat)*Math.PI/180;this.theta=this.lon*Math.PI/180;if(this.constrainVertical)this.phi=THREE.Math.mapLinear(this.phi,0,Math.PI,this.verticalMin,this.verticalMax);b=this.target;c=this.object.position;b.x=c.x+100*Math.sin(this.phi)*Math.cos(this.theta);b.y=c.y+        100*Math.cos(this.phi);b.z=c.z+100*Math.sin(this.phi)*Math.sin(this.theta);this.object.lookAt(b)}};this.domElement.addEventListener("contextmenu",function(a){a.preventDefault()},!1);this.domElement.addEventListener("mousemove",c(this,this.onMouseMove),!1);this.domElement.addEventListener("mousedown",c(this,this.onMouseDown),!1);this.domElement.addEventListener("mouseup",c(this,this.onMouseUp),!1);this.domElement.addEventListener("keydown",c(this,this.onKeyDown),!1);this.domElement.addEventListener("keyup", c(this,this.onKeyUp),!1)};THREE.PathControls=function(a,b){function c(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)}function d(a,b){return function(){b.apply(a,arguments)}}function e(a,b,c,d){var e={name:c,fps:0.6,length:d,hierarchy:[]},f,g=b.getControlPointsArray(),h=b.getLength(),s=g.length,w=0;f=s-1;b={parent:-1,keys:[]};b.keys[0]={time:0,pos:g[0],rot:[0,0,0,1],scl:[1,1,1]};b.keys[f]={time:d,pos:g[f],rot:[0,0,0,1],scl:[1,1,1]};for(f=1;f<s-1;f++)w=d*h.chunks[f]/h.total,b.keys[f]={time:w,pos:g[f]};e.hierarchy[0]=b;THREE.AnimationHandler.add(e);return new THREE.Animation(a,c,THREE.AnimationHandler.CATMULLROM_FORWARD,!1)}function f(a,b){var c,d,e=new THREE.Geometry;for(c=0;c<a.points.length*b;c++)d=c/(a.points.length*b),d=a.getPoint(d),e.vertices[c]=new THREE.Vector3(d.x,d.y,d.z);return e}this.object=a;this.domElement=void 0!==b?b:document;this.id="PathControls"+THREE.PathControlsIdCounter++;this.duration=1E4;this.waypoints=[];this.useConstantSpeed=!0;this.resamplingCoef=50;this.debugPath=new THREE.Object3D;this.debugDummy=new THREE.Object3D;this.animationParent=new THREE.Object3D;this.lookSpeed=0.005;this.lookHorizontal=this.lookVertical=!0;this.verticalAngleMap={srcRange:[0,2*Math.PI],dstRange:[0,2*Math.PI]};this.horizontalAngleMap={srcRange:[0,2*Math.PI],dstRange:[0,2*Math.PI]};this.target=new THREE.Object3D;this.theta=this.phi=this.lon=this.lat=this.mouseY=this.mouseX=0;this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/        2,this.domElement.setAttribute("tabindex",-1));var g=2*Math.PI,h=Math.PI/180;this.update=function(a){var b;if(this.lookHorizontal)this.lon=this.lon+this.mouseX*this.lookSpeed*a;if(this.lookVertical)this.lat=this.lat-this.mouseY*this.lookSpeed*a;this.lon=Math.max(0,Math.min(360,this.lon));this.lat=Math.max(-85,Math.min(85,this.lat));this.phi=(90-this.lat)*h;this.theta=this.lon*h;a=this.phi%g;this.phi=a>=0?a:a+g;b=this.verticalAngleMap.srcRange;a=this.verticalAngleMap.dstRange;b=THREE.Math.mapLinear(this.phi, b[0],b[1],a[0],a[1]);var d=a[1]-a[0];this.phi=c((b-a[0])/d)*d+a[0];b=this.horizontalAngleMap.srcRange;a=this.horizontalAngleMap.dstRange;b=THREE.Math.mapLinear(this.theta,b[0],b[1],a[0],a[1]);d=a[1]-a[0];this.theta=c((b-a[0])/d)*d+a[0];a=this.target.position;a.x=100*Math.sin(this.phi)*Math.cos(this.theta);a.y=100*Math.cos(this.phi);a.z=100*Math.sin(this.phi)*Math.sin(this.theta);this.object.lookAt(this.target.position)};this.onMouseMove=function(a){if(this.domElement===document){this.mouseX=a.pageX-        this.viewHalfX;this.mouseY=a.pageY-this.viewHalfY}else{this.mouseX=a.pageX-this.domElement.offsetLeft-this.viewHalfX;this.mouseY=a.pageY-this.domElement.offsetTop-this.viewHalfY}};this.init=function(){this.spline=new THREE.Spline;this.spline.initFromArray(this.waypoints);this.useConstantSpeed&&this.spline.reparametrizeByArcLength(this.resamplingCoef);if(this.createDebugDummy){var a=new THREE.MeshLambertMaterial({color:30719}),b=new THREE.MeshLambertMaterial({color:65280}),c=new THREE.CubeGeometry(10, 10,20),g=new THREE.CubeGeometry(2,2,10);this.animationParent=new THREE.Mesh(c,a);a=new THREE.Mesh(g,b);a.position.set(0,10,0);this.animation=e(this.animationParent,this.spline,this.id,this.duration);this.animationParent.add(this.object);this.animationParent.add(this.target);this.animationParent.add(a)}else{this.animation=e(this.animationParent,this.spline,this.id,this.duration);this.animationParent.add(this.target);this.animationParent.add(this.object)}if(this.createDebugPath){var a=this.debugPath, b=this.spline,g=f(b,10),c=f(b,10),h=new THREE.LineBasicMaterial({color:16711680,linewidth:3}),g=new THREE.Line(g,h),c=new THREE.ParticleSystem(c,new THREE.ParticleBasicMaterial({color:16755200,size:3}));g.scale.set(1,1,1);a.add(g);c.scale.set(1,1,1);a.add(c);for(var g=new THREE.SphereGeometry(1,16,8),h=new THREE.MeshBasicMaterial({color:65280}),p=0;p<b.points.length;p++){c=new THREE.Mesh(g,h);c.position.copy(b.points[p]);a.add(c)}}this.domElement.addEventListener("mousemove",d(this,this.onMouseMove), false)}};THREE.PathControlsIdCounter=0;THREE.FlyControls=function(a,b){function c(a,b){return function(){b.apply(a,arguments)}}this.object=a;this.domElement=void 0!==b?b:document;b&&this.domElement.setAttribute("tabindex",-1);this.movementSpeed=1;this.rollSpeed=0.005;this.autoForward=this.dragToLook=!1;this.object.useQuaternion=!0;this.tmpQuaternion=new THREE.Quaternion;this.mouseStatus=0;this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0};this.moveVector=new THREE.Vector3(0, 0,0);this.rotationVector=new THREE.Vector3(0,0,0);this.handleEvent=function(a){if("function"==typeof this[a.type])this[a.type](a)};this.keydown=function(a){if(!a.altKey){switch(a.keyCode){case 16:this.movementSpeedMultiplier=0.1;break;case 87:this.moveState.forward=1;break;case 83:this.moveState.back=1;break;case 65:this.moveState.left=1;break;case 68:this.moveState.right=1;break;case 82:this.moveState.up=1;break;case 70:this.moveState.down=1;break;case 38:this.moveState.pitchUp=1;break;case 40:this.moveState.pitchDown=1;break;case 37:this.moveState.yawLeft=1;break;case 39:this.moveState.yawRight=1;break;case 81:this.moveState.rollLeft=1;break;case 69:this.moveState.rollRight=1}this.updateMovementVector();this.updateRotationVector()}};this.keyup=function(a){switch(a.keyCode){case 16:this.movementSpeedMultiplier=1;break;case 87:this.moveState.forward=0;break;case 83:this.moveState.back=0;break;case 65:this.moveState.left=0;break;case 68:this.moveState.right=0;break;case 82:this.moveState.up=0;break;case 70:this.moveState.down=0;break;case 38:this.moveState.pitchUp=0;break;case 40:this.moveState.pitchDown=0;break;case 37:this.moveState.yawLeft=0;break;case 39:this.moveState.yawRight=0;break;case 81:this.moveState.rollLeft=0;break;case 69:this.moveState.rollRight=0}this.updateMovementVector();this.updateRotationVector()};this.mousedown=function(a){this.domElement!==document&&this.domElement.focus();a.preventDefault();a.stopPropagation();if(this.dragToLook)this.mouseStatus++;else switch(a.button){case 0:this.object.moveForward=!0;break;case 2:this.object.moveBackward=!0}};this.mousemove=function(a){if(!this.dragToLook||0<this.mouseStatus){var b=this.getContainerDimensions(),c=b.size[0]/2,g=b.size[1]/2;this.moveState.yawLeft=-(a.pageX-b.offset[0]-c)/c;this.moveState.pitchDown=(a.pageY-b.offset[1]-g)/g;this.updateRotationVector()}};this.mouseup=function(a){a.preventDefault();a.stopPropagation();if(this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else switch(a.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1}this.updateRotationVector()};this.update=function(a){var b=a*this.movementSpeed,a=a*this.rollSpeed;this.object.translateX(this.moveVector.x*b);this.object.translateY(this.moveVector.y*b);this.object.translateZ(this.moveVector.z*b);this.tmpQuaternion.set(this.rotationVector.x*a,this.rotationVector.y*a,this.rotationVector.z*a,1).normalize();this.object.quaternion.multiplySelf(this.tmpQuaternion);this.object.matrix.setPosition(this.object.position);this.object.matrix.setRotationFromQuaternion(this.object.quaternion);this.object.matrixWorldNeedsUpdate=!0};this.updateMovementVector=function(){var a=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right;this.moveVector.y=-this.moveState.down+this.moveState.up;this.moveVector.z=-a+this.moveState.back};this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp;this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft;this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft};this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}};this.domElement.addEventListener("mousemove",c(this,this.mousemove),!1);this.domElement.addEventListener("mousedown",c(this,this.mousedown),!1);this.domElement.addEventListener("mouseup",c(this, this.mouseup),!1);this.domElement.addEventListener("keydown",c(this,this.keydown),!1);this.domElement.addEventListener("keyup",c(this,this.keyup),!1);this.updateMovementVector();this.updateRotationVector()};THREE.RollControls=function(a,b){this.object=a;this.domElement=void 0!==b?b:document;this.mouseLook=!0;this.autoForward=!1;this.rollSpeed=this.movementSpeed=this.lookSpeed=1;this.constrainVertical=[-0.9,0.9];this.object.matrixAutoUpdate=!1;this.forward=new THREE.Vector3(0,0,1);this.roll=0;var c=new THREE.Vector3,d=new THREE.Vector3,e=new THREE.Vector3,f=new THREE.Matrix4,g=!1,h=1,j=0,m=0,l=0,q=0,o=0,p=window.innerWidth/2,r=window.innerHeight/2;this.update=function(a){if(this.mouseLook){var b=a*this.lookSpeed;this.rotateHorizontally(b*q);this.rotateVertically(b*o)}b=a*this.movementSpeed;this.object.translateZ(-b*(0<j||this.autoForward&&!(0>j)?1:j));this.object.translateX(b*m);this.object.translateY(b*l);g&&(this.roll+=this.rollSpeed*a*h);this.forward.y>this.constrainVertical[1]?(this.forward.y=this.constrainVertical[1],this.forward.normalize()):this.forward.y<this.constrainVertical[0]&&(this.forward.y=this.constrainVertical[0],this.forward.normalize());e.copy(this.forward);d.set(0,1,0);c.cross(d,e).normalize();d.cross(e,c).normalize();this.object.matrix.elements[0]=c.x;this.object.matrix.elements[4]=d.x;this.object.matrix.elements[8]=e.x;this.object.matrix.elements[1]=c.y;this.object.matrix.elements[5]=d.y;this.object.matrix.elements[9]=e.y;this.object.matrix.elements[2]=c.z;this.object.matrix.elements[6]=d.z;this.object.matrix.elements[10]=e.z;f.identity();f.elements[0]=Math.cos(this.roll);f.elements[4]=-Math.sin(this.roll);f.elements[1]=Math.sin(this.roll);f.elements[5]=Math.cos(this.roll);this.object.matrix.multiplySelf(f);this.object.matrixWorldNeedsUpdate=!0;this.object.matrix.elements[12]=this.object.position.x;this.object.matrix.elements[13]=this.object.position.y;this.object.matrix.elements[14]=this.object.position.z};this.translateX=function(a){this.object.position.x+=this.object.matrix.elements[0]*a;this.object.position.y+=this.object.matrix.elements[1]*a;this.object.position.z+=this.object.matrix.elements[2]*a};this.translateY=function(a){this.object.position.x+=this.object.matrix.elements[4]*a;this.object.position.y+=this.object.matrix.elements[5]*a;this.object.position.z+=this.object.matrix.elements[6]*a};this.translateZ=function(a){this.object.position.x-=this.object.matrix.elements[8]*a;this.object.position.y-=this.object.matrix.elements[9]*a;this.object.position.z-=this.object.matrix.elements[10]*a};this.rotateHorizontally=function(a){c.set(this.object.matrix.elements[0],this.object.matrix.elements[1],this.object.matrix.elements[2]);c.multiplyScalar(a);this.forward.subSelf(c);this.forward.normalize()};this.rotateVertically=function(a){d.set(this.object.matrix.elements[4],this.object.matrix.elements[5],this.object.matrix.elements[6]);d.multiplyScalar(a);this.forward.addSelf(d);this.forward.normalize()};this.domElement.addEventListener("contextmenu",function(a){a.preventDefault()},!1);this.domElement.addEventListener("mousemove",function(a){q=(a.clientX-p)/window.innerWidth;o=(a.clientY-r)/window.innerHeight},!1);this.domElement.addEventListener("mousedown",function(a){a.preventDefault();a.stopPropagation();switch(a.button){case 0:j=1;break;case 2:j=-1}},!1);this.domElement.addEventListener("mouseup",function(a){a.preventDefault();a.stopPropagation();switch(a.button){case 0:j=0;break;case 2:j=0}},!1);this.domElement.addEventListener("keydown",function(a){switch(a.keyCode){case 38:case 87:j=1;break;case 37:case 65:m=-1;break;case 40:case 83:j=-1;break;case 39:case 68:m=1;break;case 81:g=!0;h=1;break;case 69:g=!0;h=-1;break;case 82:l=1;break;case 70:l=-1}},!1);this.domElement.addEventListener("keyup",function(a){switch(a.keyCode){case 38:case 87:j=0;break;case 37:case 65:m=0;break;case 40:case 83:j=0;break;case 39:case 68:m=0;break;case 81:g=!1;break;case 69:g=!1;break;case 82:l=0;break;case 70:l=0}},!1)};THREE.TrackballControls=function(a,b){THREE.EventTarget.call(this);var c=this;this.object=a;this.domElement=void 0!==b?b:document;this.enabled=!0;this.screen={width:window.innerWidth,height:window.innerHeight,offsetLeft:0,offsetTop:0};this.radius=(this.screen.width+this.screen.height)/4;this.rotateSpeed=1;this.zoomSpeed=1.2;this.panSpeed=0.3;this.staticMoving=this.noPan=this.noZoom=this.noRotate=!1;this.dynamicDampingFactor=0.2;this.minDistance=0;this.maxDistance=Infinity;this.keys=[65,83,68];this.target=new THREE.Vector3;var d=new THREE.Vector3,e=!1,f=-1,g=new THREE.Vector3,h=new THREE.Vector3,j=new THREE.Vector3,m=new THREE.Vector2,l=new THREE.Vector2,q=new THREE.Vector2,o=new THREE.Vector2,p={type:"change"};this.handleEvent=function(a){if("function"==typeof this[a.type])this[a.type](a)};this.getMouseOnScreen=function(a,b){return new THREE.Vector2(0.5*((a-c.screen.offsetLeft)/c.radius),0.5*((b-c.screen.offsetTop)/c.radius))};this.getMouseProjectionOnBall=function(a,b){var d=new THREE.Vector3((a-        0.5*c.screen.width-c.screen.offsetLeft)/c.radius,(0.5*c.screen.height+c.screen.offsetTop-b)/c.radius,0),e=d.length();1<e?d.normalize():d.z=Math.sqrt(1-e*e);g.copy(c.object.position).subSelf(c.target);e=c.object.up.clone().setLength(d.y);e.addSelf(c.object.up.clone().crossSelf(g).setLength(d.x));e.addSelf(g.setLength(d.z));return e};this.rotateCamera=function(){var a=Math.acos(h.dot(j)/h.length()/j.length());if(a){var b=(new THREE.Vector3).cross(h,j).normalize(),d=new THREE.Quaternion,a=a*c.rotateSpeed;d.setFromAxisAngle(b,-a);d.multiplyVector3(g);d.multiplyVector3(c.object.up);d.multiplyVector3(j);c.staticMoving?h=j:(d.setFromAxisAngle(b,a*(c.dynamicDampingFactor-1)),d.multiplyVector3(h))}};this.zoomCamera=function(){var a=1+(l.y-m.y)*c.zoomSpeed;1!==a&&0<a&&(g.multiplyScalar(a),c.staticMoving?m=l:m.y+=(l.y-m.y)*this.dynamicDampingFactor)};this.panCamera=function(){var a=o.clone().subSelf(q);if(a.lengthSq()){a.multiplyScalar(g.length()*c.panSpeed);var b=g.clone().crossSelf(c.object.up).setLength(a.x);b.addSelf(c.object.up.clone().setLength(a.y));c.object.position.addSelf(b);c.target.addSelf(b);c.staticMoving?q=o:q.addSelf(a.sub(o,q).multiplyScalar(c.dynamicDampingFactor))}};this.checkDistances=function(){if(!c.noZoom||!c.noPan)c.object.position.lengthSq()>c.maxDistance*c.maxDistance&&c.object.position.setLength(c.maxDistance),g.lengthSq()<c.minDistance*c.minDistance&&c.object.position.add(c.target,g.setLength(c.minDistance))};this.update=function(){g.copy(c.object.position).subSelf(c.target);c.noRotate||c.rotateCamera();c.noZoom||c.zoomCamera();c.noPan||c.panCamera();c.object.position.add(c.target,g);c.checkDistances();c.object.lookAt(c.target);0<d.distanceTo(c.object.position)&&(c.dispatchEvent(p),d.copy(c.object.position))};this.domElement.addEventListener("contextmenu",function(a){a.preventDefault()},!1);this.domElement.addEventListener("mousemove",function(a){c.enabled&&(e&&(h=j=c.getMouseProjectionOnBall(a.clientX,a.clientY),m=l=c.getMouseOnScreen(a.clientX,a.clientY),q=o=c.getMouseOnScreen(a.clientX, a.clientY),e=!1),-1!==f&&(0===f&&!c.noRotate?j=c.getMouseProjectionOnBall(a.clientX,a.clientY):1===f&&!c.noZoom?l=c.getMouseOnScreen(a.clientX,a.clientY):2===f&&!c.noPan&&(o=c.getMouseOnScreen(a.clientX,a.clientY))))},!1);this.domElement.addEventListener("mousedown",function(a){c.enabled&&(a.preventDefault(),a.stopPropagation(),-1===f&&(f=a.button,0===f&&!c.noRotate?h=j=c.getMouseProjectionOnBall(a.clientX,a.clientY):1===f&&!c.noZoom?m=l=c.getMouseOnScreen(a.clientX,a.clientY):this.noPan||(q=o=c.getMouseOnScreen(a.clientX, a.clientY))))},!1);this.domElement.addEventListener("mouseup",function(a){c.enabled&&(a.preventDefault(),a.stopPropagation(),f=-1)},!1);window.addEventListener("keydown",function(a){c.enabled&&-1===f&&(a.keyCode===c.keys[0]&&!c.noRotate?f=0:a.keyCode===c.keys[1]&&!c.noZoom?f=1:a.keyCode===c.keys[2]&&!c.noPan&&(f=2),-1!==f&&(e=!0))},!1);window.addEventListener("keyup",function(){c.enabled&&-1!==f&&(f=-1)},!1)};THREE.CubeGeometry=function(a,b,c,d,e,f,g,h){function j(a,b,c,g,h,j,l,o){var n,p=d||1,q=e||1,r=h/2,s=j/2,u=m.vertices.length;if("x"===a&&"y"===b||"y"===a&&"x"===b)n="z";else if("x"===a&&"z"===b||"z"===a&&"x"===b)n="y",q=f||1;else if("z"===a&&"y"===b||"y"===a&&"z"===b)n="x",p=f||1;var k=p+1,v=q+1,w=h/p,F=j/q,N=new THREE.Vector3;N[n]=0<l?1:-1;for(h=0;h<v;h++)for(j=0;j<k;j++){var R=new THREE.Vector3;R[a]=(j*w-r)*c;R[b]=(h*F-s)*g;R[n]=l;m.vertices.push(R)}for(h=0;h<q;h++)for(j=0;j<p;j++)a=new THREE.Face4(j+        k*h+u,j+k*(h+1)+u,j+1+k*(h+1)+u,j+1+k*h+u),a.normal.copy(N),a.vertexNormals.push(N.clone(),N.clone(),N.clone(),N.clone()),a.materialIndex=o,m.faces.push(a),m.faceVertexUvs[0].push([new THREE.UV(j/p,h/q),new THREE.UV(j/p,(h+1)/q),new THREE.UV((j+1)/p,(h+1)/q),new THREE.UV((j+1)/p,h/q)])}THREE.Geometry.call(this);var m=this,l=a/2,q=b/2,o=c/2,p,r,n,s,w,v;if(void 0!==g){if(g instanceof Array)this.materials=g;else{this.materials=[];for(p=0;6>p;p++)this.materials.push(g)}p=0;s=1;r=2;w=3;n=4;v=5}else this.materials=[];this.sides={px:!0,nx:!0,py:!0,ny:!0,pz:!0,nz:!0};if(void 0!=h)for(var u in h)void 0!==this.sides[u]&&(this.sides[u]=h[u]);this.sides.px&&j("z","y",-1,-1,c,b,l,p);this.sides.nx&&j("z","y",1,-1,c,b,-l,s);this.sides.py&&j("x","z",1,1,a,c,q,r);this.sides.ny&&j("x","z",1,-1,a,c,-q,w);this.sides.pz&&j("x","y",1,-1,a,b,o,n);this.sides.nz&&j("x","y",-1,-1,a,b,-o,v);this.computeCentroids();this.mergeVertices()};THREE.CubeGeometry.prototype=new THREE.Geometry;THREE.CubeGeometry.prototype.constructor=THREE.CubeGeometry;THREE.CylinderGeometry=function(a,b,c,d,e,f){THREE.Geometry.call(this);var a=void 0!==a?a:20,b=void 0!==b?b:20,c=void 0!==c?c:100,g=c/2,d=d||8,e=e||1,h,j,m=[],l=[];for(j=0;j<=e;j++){var q=[],o=[],p=j/e,r=p*(b-a)+a;for(h=0;h<=d;h++){var n=h/d,s=new THREE.Vector3;s.x=r*Math.sin(2*n*Math.PI);s.y=-p*c+g;s.z=r*Math.cos(2*n*Math.PI);this.vertices.push(s);q.push(this.vertices.length-1);o.push(new THREE.UV(n,p))}m.push(q);l.push(o)}c=(b-a)/c;for(h=0;h<d;h++){0!==a?(q=this.vertices[m[0][h]].clone(),o=this.vertices[m[0][h+        1]].clone()):(q=this.vertices[m[1][h]].clone(),o=this.vertices[m[1][h+1]].clone());q.setY(Math.sqrt(q.x*q.x+q.z*q.z)*c).normalize();o.setY(Math.sqrt(o.x*o.x+o.z*o.z)*c).normalize();for(j=0;j<e;j++){var p=m[j][h],r=m[j+1][h],n=m[j+1][h+1],s=m[j][h+1],w=q.clone(),v=q.clone(),u=o.clone(),x=o.clone(),z=l[j][h].clone(),I=l[j+1][h].clone(),y=l[j+1][h+1].clone(),B=l[j][h+1].clone();this.faces.push(new THREE.Face4(p,r,n,s,[w,v,u,x]));this.faceVertexUvs[0].push([z,I,y,B])}}if(!f&&0<a){this.vertices.push(new THREE.Vector3(0, g,0));for(h=0;h<d;h++)p=m[0][h],r=m[0][h+1],n=this.vertices.length-1,w=new THREE.Vector3(0,1,0),v=new THREE.Vector3(0,1,0),u=new THREE.Vector3(0,1,0),z=l[0][h].clone(),I=l[0][h+1].clone(),y=new THREE.UV(I.u,0),this.faces.push(new THREE.Face3(p,r,n,[w,v,u])),this.faceVertexUvs[0].push([z,I,y])}if(!f&&0<b){this.vertices.push(new THREE.Vector3(0,-g,0));for(h=0;h<d;h++)p=m[j][h+1],r=m[j][h],n=this.vertices.length-1,w=new THREE.Vector3(0,-1,0),v=new THREE.Vector3(0,-1,0),u=new THREE.Vector3(0,-1,0),z=l[j][h+1].clone(),I=l[j][h].clone(),y=new THREE.UV(I.u,1),this.faces.push(new THREE.Face3(p,r,n,[w,v,u])),this.faceVertexUvs[0].push([z,I,y])}this.computeCentroids();this.computeFaceNormals()};THREE.CylinderGeometry.prototype=new THREE.Geometry;THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry;THREE.ExtrudeGeometry=function(a,b){"undefined"!==typeof a&&(THREE.Geometry.call(this),a=a instanceof Array?a:[a],this.shapebb=a[a.length-1].getBoundingBox(),this.addShapeList(a,b),this.computeCentroids(),this.computeFaceNormals())};THREE.ExtrudeGeometry.prototype=new THREE.Geometry;THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry;THREE.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var c=a.length,d=0;d<c;d++)this.addShape(a[d],b)};THREE.ExtrudeGeometry.prototype.addShape=function(a,b){function c(a,b,c){b||console.log("die");return b.clone().multiplyScalar(c).addSelf(a)}function d(a,b,c){var d=THREE.ExtrudeGeometry.__v1,e=THREE.ExtrudeGeometry.__v2,f=THREE.ExtrudeGeometry.__v3,g=THREE.ExtrudeGeometry.__v4,h=THREE.ExtrudeGeometry.__v5,j=THREE.ExtrudeGeometry.__v6;d.set(a.x-b.x,a.y-b.y);e.set(a.x-c.x,a.y-c.y);d=d.normalize();e=e.normalize();f.set(-d.y,d.x);g.set(e.y,-e.x);h.copy(a).addSelf(f);j.copy(a).addSelf(g);if(h.equals(j))return g.clone();h.copy(b).addSelf(f);j.copy(c).addSelf(g);f=d.dot(g);g=j.subSelf(h).dot(g);0===f&&(console.log("Either infinite or no solutions!"),0===g?console.log("Its finite solutions."):console.log("Too bad, no solutions."));g/=f;return 0>g?(b=Math.atan2(b.y-a.y,b.x-a.x),a=Math.atan2(c.y-a.y,c.x-a.x),b>a&&(a+=2*Math.PI),c=(b+a)/2,a=-Math.cos(c),c=-Math.sin(c),new THREE.Vector2(a,c)):d.multiplyScalar(g).addSelf(h).subSelf(a).clone()}function e(c,d){var e,f;for(N=c.length;0<=--N;){e=N;f=N-1;0>f&&(f=c.length-1);for(var g=0,h=o+2*l,g=0;g<h;g++){var j=W*g,k=W*(g+1),m=d+e+j,j=d+f+j,n=d+f+k,k=d+e+k,p=c,q=g,r=h,m=m+P,j=j+P,n=n+P,k=k+P;E.faces.push(new THREE.Face4(m,j,n,k,null,null,v));m=na.generateSideWallUV(E,a,p,b,m,j,n,k,q,r);E.faceVertexUvs[0].push(m)}}}function f(a,b,c){E.vertices.push(new THREE.Vector3(a,b,c))}function g(c,d,e,f){c+=P;d+=P;e+=P;E.faces.push(new THREE.Face3(c,d,e,null,null,w));c=f?na.generateBottomUV(E,a,b,c,d,e):na.generateTopUV(E,a,b,c,d,e);E.faceVertexUvs[0].push(c)}var h=void 0!==b.amount?        b.amount:100,j=void 0!==b.bevelThickness?b.bevelThickness:6,m=void 0!==b.bevelSize?b.bevelSize:j-2,l=void 0!==b.bevelSegments?b.bevelSegments:3,q=void 0!==b.bevelEnabled?b.bevelEnabled:!0,o=void 0!==b.steps?b.steps:1,p=b.bendPath,r=b.extrudePath,n,s=!1,w=b.material,v=b.extrudeMaterial,u,x,z,I;r&&(n=r.getSpacedPoints(o),s=!0,q=!1,u=new THREE.TubeGeometry.FrenetFrames(r,o,!1),x=new THREE.Vector3,z=new THREE.Vector3,I=new THREE.Vector3);q||(m=j=l=0);var y,B,D,E=this,P=this.vertices.length;p&&a.addWrapPath(p);var r=a.extractPoints(),p=r.shape,M=r.holes;if(r=!THREE.Shape.Utils.isClockWise(p)){p=p.reverse();B=0;for(D=M.length;B<D;B++)y=M[B],THREE.Shape.Utils.isClockWise(y)&&(M[B]=y.reverse());r=!1}var V=THREE.Shape.Utils.triangulateShape(p,M),S=p;B=0;for(D=M.length;B<D;B++)y=M[B],p=p.concat(y);var G,K,J,k,X,W=p.length,F=V.length,r=[],N=0;J=S.length;G=J-1;for(K=N+1;N<J;N++,G++,K++)G===J&&(G=0),K===J&&(K=0),r[N]=d(S[N],S[G],S[K]);var R=[],ea,ma=r.concat();B=0;for(D=M.length;B<D;B++){y=M[B];ea=[];N=0;J=y.length;G=J-1;for(K=N+1;N<J;N++,G++,K++)G===J&&(G=0),K===J&&(K=0),ea[N]=d(y[N],y[G],y[K]);R.push(ea);ma=ma.concat(ea)}for(G=0;G<l;G++){J=G/l;k=j*(1-J);K=m*Math.sin(J*Math.PI/2);N=0;for(J=S.length;N<J;N++)X=c(S[N],r[N],K),f(X.x,X.y,-k);B=0;for(D=M.length;B<D;B++){y=M[B];ea=R[B];N=0;for(J=y.length;N<J;N++)X=c(y[N],ea[N],K),f(X.x,X.y,-k)}}K=m;for(N=0;N<W;N++)X=q?c(p[N],ma[N],K):p[N],s?(z.copy(u.normals[0]).multiplyScalar(X.x),x.copy(u.binormals[0]).multiplyScalar(X.y),I.copy(n[0]).addSelf(z).addSelf(x),f(I.x, I.y,I.z)):f(X.x,X.y,0);for(J=1;J<=o;J++)for(N=0;N<W;N++)X=q?c(p[N],ma[N],K):p[N],s?(z.copy(u.normals[J]).multiplyScalar(X.x),x.copy(u.binormals[J]).multiplyScalar(X.y),I.copy(n[J]).addSelf(z).addSelf(x),f(I.x,I.y,I.z)):f(X.x,X.y,h/o*J);for(G=l-1;0<=G;G--){J=G/l;k=j*(1-J);K=m*Math.sin(J*Math.PI/2);N=0;for(J=S.length;N<J;N++)X=c(S[N],r[N],K),f(X.x,X.y,h+k);B=0;for(D=M.length;B<D;B++){y=M[B];ea=R[B];N=0;for(J=y.length;N<J;N++)X=c(y[N],ea[N],K),s?f(X.x,X.y+n[o-1].y,n[o-1].x+k):f(X.x,X.y,h+k)}}var na=THREE.ExtrudeGeometry.WorldUVGenerator;if(q){B=0*W;for(N=0;N<F;N++)y=V[N],g(y[2]+B,y[1]+B,y[0]+B,!0);B=W*(o+2*l);for(N=0;N<F;N++)y=V[N],g(y[0]+B,y[1]+B,y[2]+B,!1)}else{for(N=0;N<F;N++)y=V[N],g(y[2],y[1],y[0],!0);for(N=0;N<F;N++)y=V[N],g(y[0]+W*o,y[1]+W*o,y[2]+W*o,!1)}V=0;e(S,V);V+=S.length;B=0;for(D=M.length;B<D;B++)y=M[B],e(y,V),V+=y.length};THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,b,c,d,e,f){b=a.vertices[e].x;e=a.vertices[e].y;c=a.vertices[f].x;f=a.vertices[f].y;return[new THREE.UV(a.vertices[d].x,1-a.vertices[d].y),new THREE.UV(b,1-e),new THREE.UV(c,1-f)]},generateBottomUV:function(a,b,c,d,e,f){return this.generateTopUV(a,b,c,d,e,f)},generateSideWallUV:function(a,b,c,d,e,f,g,h){var b=a.vertices[e].x,c=a.vertices[e].y,e=a.vertices[e].z,d=a.vertices[f].x,j=a.vertices[f].y,f=a.vertices[f].z,m=a.vertices[g].x,l=a.vertices[g].y,g=a.vertices[g].z,q=a.vertices[h].x,o=a.vertices[h].y,a=a.vertices[h].z;return 0.01>Math.abs(c-j)?[new THREE.UV(b,e),new THREE.UV(d,f),new THREE.UV(m,g),new THREE.UV(q,a)]:[new THREE.UV(c,e),new THREE.UV(j,f),new THREE.UV(l,g),new THREE.UV(o,a)]}};THREE.ExtrudeGeometry.__v1=new THREE.Vector2;THREE.ExtrudeGeometry.__v2=new THREE.Vector2;THREE.ExtrudeGeometry.__v3=new THREE.Vector2;THREE.ExtrudeGeometry.__v4=new THREE.Vector2;THREE.ExtrudeGeometry.__v5=new THREE.Vector2;THREE.ExtrudeGeometry.__v6=new THREE.Vector2;THREE.LatheGeometry=function(a,b,c){THREE.Geometry.call(this);for(var b=b||12,c=c||2*Math.PI,d=[],e=(new THREE.Matrix4).makeRotationZ(c/b),f=0;f<a.length;f++)d[f]=a[f].clone(),this.vertices.push(d[f]);for(var g=b+1,c=0;c<g;c++)for(f=0;f<d.length;f++)d[f]=e.multiplyVector3(d[f].clone()),this.vertices.push(d[f]);for(c=0;c<b;c++){d=0;for(e=a.length;d<e-1;d++)this.faces.push(new THREE.Face4(c*e+d,(c+1)%g*e+d,(c+1)%g*e+(d+1)%e,c*e+(d+1)%e)),this.faceVertexUvs[0].push([new THREE.UV(1-c/b,d/e),new THREE.UV(1-        (c+1)/b,d/e),new THREE.UV(1-(c+1)/b,(d+1)/e),new THREE.UV(1-c/b,(d+1)/e)])}this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals()};THREE.LatheGeometry.prototype=new THREE.Geometry;THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry;THREE.PlaneGeometry=function(a,b,c,d){THREE.Geometry.call(this);for(var e=a/2,f=b/2,c=c||1,d=d||1,g=c+1,h=d+1,j=a/c,m=b/d,l=new THREE.Vector3(0,1,0),a=0;a<h;a++)for(b=0;b<g;b++)this.vertices.push(new THREE.Vector3(b*j-e,0,a*m-f));for(a=0;a<d;a++)for(b=0;b<c;b++)e=new THREE.Face4(b+g*a,b+g*(a+1),b+1+g*(a+1),b+1+g*a),e.normal.copy(l),e.vertexNormals.push(l.clone(),l.clone(),l.clone(),l.clone()),this.faces.push(e),this.faceVertexUvs[0].push([new THREE.UV(b/c,a/d),new THREE.UV(b/c,(a+1)/d),new THREE.UV((b+        1)/c,(a+1)/d),new THREE.UV((b+1)/c,a/d)]);this.computeCentroids()};THREE.PlaneGeometry.prototype=new THREE.Geometry;THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry;THREE.SphereGeometry=function(a,b,c,d,e,f,g){THREE.Geometry.call(this);var a=a||50,d=void 0!==d?d:0,e=void 0!==e?e:2*Math.PI,f=void 0!==f?f:0,g=void 0!==g?g:Math.PI,b=Math.max(3,Math.floor(b)||8),c=Math.max(2,Math.floor(c)||6),h,j,m=[],l=[];for(j=0;j<=c;j++){var q=[],o=[];for(h=0;h<=b;h++){var p=h/b,r=j/c,n=new THREE.Vector3;n.x=-a*Math.cos(d+p*e)*Math.sin(f+r*g);n.y=a*Math.cos(f+r*g);n.z=a*Math.sin(d+p*e)*Math.sin(f+r*g);this.vertices.push(n);q.push(this.vertices.length-1);o.push(new THREE.UV(p, r))}m.push(q);l.push(o)}for(j=0;j<c;j++)for(h=0;h<b;h++){var d=m[j][h+1],e=m[j][h],f=m[j+1][h],g=m[j+1][h+1],q=this.vertices[d].clone().normalize(),o=this.vertices[e].clone().normalize(),p=this.vertices[f].clone().normalize(),r=this.vertices[g].clone().normalize(),n=l[j][h+1].clone(),s=l[j][h].clone(),w=l[j+1][h].clone(),v=l[j+1][h+1].clone();Math.abs(this.vertices[d].y)==a?(this.faces.push(new THREE.Face3(d,f,g,[q,p,r])),this.faceVertexUvs[0].push([n,w,v])):Math.abs(this.vertices[f].y)==a?(this.faces.push(new THREE.Face3(d, e,f,[q,o,p])),this.faceVertexUvs[0].push([n,s,w])):(this.faces.push(new THREE.Face4(d,e,f,g,[q,o,p,r])),this.faceVertexUvs[0].push([n,s,w,v]))}this.computeCentroids();this.computeFaceNormals();this.boundingSphere={radius:a}};THREE.SphereGeometry.prototype=new THREE.Geometry;THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry;THREE.TextGeometry=function(a,b){var c=(new THREE.TextPath(a,b)).toShapes();b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);if(b.bend){var d=c[c.length-1].getBoundingBox().maxX;b.bendPath=new THREE.QuadraticBezierCurve(new THREE.Vector2(0,0),new THREE.Vector2(d/2,120),new THREE.Vector2(d,0))}THREE.ExtrudeGeometry.call(this,c,b)};THREE.TextGeometry.prototype=new THREE.ExtrudeGeometry;THREE.TextGeometry.prototype.constructor=THREE.TextGeometry;THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(a){var b=a.familyName.toLowerCase();this.faces[b]=this.faces[b]||{};this.faces[b][a.cssFontWeight]=this.faces[b][a.cssFontWeight]||{};this.faces[b][a.cssFontWeight][a.cssFontStyle]=a;return this.faces[b][a.cssFontWeight][a.cssFontStyle]=a},drawText:function(a){for(var b=this.getFace(),c=this.size/b.resolution,d=0,e=(""+a).split(""),f=e.length,g=[],a=0;a<f;a++){var h=new THREE.Path,h=this.extractGlyphPoints(e[a],b,c,d,h),d=d+h.offset;g.push(h.path)}return{paths:g,offset:d/2}},extractGlyphPoints:function(a,b,c,d,e){var f=[],g,h,j,m,l,q,o,p,r,n,s,w=b.glyphs[a]||b.glyphs["?"];if(w){if(w.o){b=w._cachedOutline||(w._cachedOutline=w.o.split(" "));m=b.length;for(a=0;a<m;)switch(j=b[a++],j){case "m":j=b[a++]*c+d;l=b[a++]*c;f.push(new THREE.Vector2(j,l));e.moveTo(j,l);break;case "l":j=b[a++]*c+d;l=b[a++]*c;f.push(new THREE.Vector2(j, l));e.lineTo(j,l);break;case "q":j=b[a++]*c+d;l=b[a++]*c;p=b[a++]*c+d;r=b[a++]*c;e.quadraticCurveTo(p,r,j,l);if(g=f[f.length-1]){q=g.x;o=g.y;g=1;for(h=this.divisions;g<=h;g++){var v=g/h,u=THREE.Shape.Utils.b2(v,q,p,j),v=THREE.Shape.Utils.b2(v,o,r,l);f.push(new THREE.Vector2(u,v))}}break;case "b":if(j=b[a++]*c+d,l=b[a++]*c,p=b[a++]*c+d,r=b[a++]*-c,n=b[a++]*c+d,s=b[a++]*-c,e.bezierCurveTo(j,l,p,r,n,s),g=f[f.length-1]){q=g.x;o=g.y;g=1;for(h=this.divisions;g<=h;g++)v=g/h,u=THREE.Shape.Utils.b3(v,q,p, n,j),v=THREE.Shape.Utils.b3(v,o,r,s,l),f.push(new THREE.Vector2(u,v))}}}return{offset:w.ha*c,points:f,path:e}}}};(function(a){var b=function(a){for(var b=a.length,e=0,f=b-1,g=0;g<b;f=g++)e+=a[f].x*a[g].y-a[g].x*a[f].y;return 0.5*e};a.Triangulate=function(a,d){var e=a.length;if(3>e)return null;var f=[],g=[],h=[],j,m,l;if(0<b(a))for(m=0;m<e;m++)g[m]=m;else for(m=0;m<e;m++)g[m]=e-1-m;var q=2*e;for(m=e-1;2<e;){if(0>=q--){console.log("Warning, unable to triangulate polygon!");break}j=m;e<=j&&(j=0);m=j+1;e<=m&&(m=0);l=m+1;e<=l&&(l=0);var o;a:{o=a;var p=j,r=m,n=l,s=e,w=g,v=void 0,u=void 0,x=void 0,z=void 0,I=void 0, y=void 0,B=void 0,D=void 0,E=void 0,u=o[w[p]].x,x=o[w[p]].y,z=o[w[r]].x,I=o[w[r]].y,y=o[w[n]].x,B=o[w[n]].y;if(1E-10>(z-u)*(B-x)-(I-x)*(y-u))o=!1;else{for(v=0;v<s;v++)if(!(v==p||v==r||v==n)){var D=o[w[v]].x,E=o[w[v]].y,P=void 0,M=void 0,V=void 0,S=void 0,G=void 0,K=void 0,J=void 0,k=void 0,X=void 0,W=void 0,F=void 0,N=void 0,P=y-z,M=B-I,V=u-y,S=x-B,G=z-u,K=I-x,J=D-u,k=E-x,X=D-z,W=E-I,F=D-y,N=E-B,P=P*W-M*X,G=G*k-K*J,V=V*N-S*F;if(0<=P&&0<=V&&0<=G){o=!1;break a}}o=!0}}if(o){f.push([a[g[j]],a[g[m]],a[g[l]]]);h.push([g[j],g[m],g[l]]);j=m;for(l=m+1;l<e;j++,l++)g[j]=g[l];e--;q=2*e}}return d?h:f};a.Triangulate.area=b;return a})(THREE.FontUtils);self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace};THREE.TorusGeometry=function(a,b,c,d,e){THREE.Geometry.call(this);this.radius=a||100;this.tube=b||40;this.segmentsR=c||8;this.segmentsT=d||6;this.arc=e||2*Math.PI;e=new THREE.Vector3;a=[];b=[];for(c=0;c<=this.segmentsR;c++)for(d=0;d<=this.segmentsT;d++){var f=d/this.segmentsT*this.arc,g=2*c/this.segmentsR*Math.PI;e.x=this.radius*Math.cos(f);e.y=this.radius*Math.sin(f);var h=new THREE.Vector3;h.x=(this.radius+this.tube*Math.cos(g))*Math.cos(f);h.y=(this.radius+this.tube*Math.cos(g))*Math.sin(f);h.z=this.tube*Math.sin(g);this.vertices.push(h);a.push(new THREE.UV(d/this.segmentsT,1-c/this.segmentsR));b.push(h.clone().subSelf(e).normalize())}for(c=1;c<=this.segmentsR;c++)for(d=1;d<=this.segmentsT;d++){var e=(this.segmentsT+1)*c+d-1,f=(this.segmentsT+1)*(c-1)+d-1,g=(this.segmentsT+1)*(c-1)+d,h=(this.segmentsT+1)*c+d,j=new THREE.Face4(e,f,g,h,[b[e],b[f],b[g],b[h]]);j.normal.addSelf(b[e]);j.normal.addSelf(b[f]);j.normal.addSelf(b[g]);j.normal.addSelf(b[h]);j.normal.normalize();this.faces.push(j);this.faceVertexUvs[0].push([a[e].clone(),a[f].clone(),a[g].clone(),a[h].clone()])}this.computeCentroids()};THREE.TorusGeometry.prototype=new THREE.Geometry;THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry;THREE.TorusKnotGeometry=function(a,b,c,d,e,f,g){function h(a,b,c,d,e,f){var g=Math.cos(a);Math.cos(b);b=Math.sin(a);a*=c/d;c=Math.cos(a);g*=0.5*e*(2+c);b=0.5*e*(2+c)*b;e=0.5*f*e*Math.sin(a);return new THREE.Vector3(g,b,e)}THREE.Geometry.call(this);this.radius=a||200;this.tube=b||40;this.segmentsR=c||64;this.segmentsT=d||8;this.p=e||2;this.q=f||3;this.heightScale=g||1;this.grid=Array(this.segmentsR);c=new THREE.Vector3;d=new THREE.Vector3;e=new THREE.Vector3;for(a=0;a<this.segmentsR;++a){this.grid[a]=Array(this.segmentsT);for(b=0;b<this.segmentsT;++b){var j=2*(a/this.segmentsR)*this.p*Math.PI,g=2*(b/this.segmentsT)*Math.PI,f=h(j,g,this.q,this.p,this.radius,this.heightScale),j=h(j+0.01,g,this.q,this.p,this.radius,this.heightScale);c.sub(j,f);d.add(j,f);e.cross(c,d);d.cross(e,c);e.normalize();d.normalize();j=-this.tube*Math.cos(g);g=this.tube*Math.sin(g);f.x+=j*d.x+g*e.x;f.y+=j*d.y+g*e.y;f.z+=j*d.z+g*e.z;this.grid[a][b]=this.vertices.push(new THREE.Vector3(f.x,f.y,f.z))-1}}for(a=0;a<this.segmentsR;++a)for(b=0;b<this.segmentsT;++b){var e=(a+1)%this.segmentsR,f=(b+1)%this.segmentsT,c=this.grid[a][b],d=this.grid[e][b],e=this.grid[e][f],f=this.grid[a][f],g=new THREE.UV(a/this.segmentsR,b/this.segmentsT),j=new THREE.UV((a+1)/this.segmentsR,b/this.segmentsT),m=new THREE.UV((a+1)/this.segmentsR,(b+1)/this.segmentsT),l=new THREE.UV(a/this.segmentsR,(b+1)/this.segmentsT);this.faces.push(new THREE.Face4(c,d,e,f));this.faceVertexUvs[0].push([g,j,m,l])}this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals()};THREE.TorusKnotGeometry.prototype=new THREE.Geometry;THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry;THREE.TubeGeometry=function(a,b,c,d,e,f){THREE.Geometry.call(this);this.path=a;this.segments=b||64;this.radius=c||1;this.segmentsRadius=d||8;this.closed=e||!1;f&&(this.debug=new THREE.Object3D);this.grid=[];var g,h,f=this.segments+1,j,m,l,q=new THREE.Vector3,o,p,r,b=new THREE.TubeGeometry.FrenetFrames(a,b,e);o=b.tangents;p=b.normals;r=b.binormals;this.tangents=o;this.normals=p;this.binormals=r;for(b=0;b<f;b++){this.grid[b]=[];d=b/(f-1);l=a.getPointAt(d);d=o[b];g=p[b];h=r[b];this.debug&&(this.debug.add(new THREE.ArrowHelper(d, l,c,255)),this.debug.add(new THREE.ArrowHelper(g,l,c,16711680)),this.debug.add(new THREE.ArrowHelper(h,l,c,65280)));for(d=0;d<this.segmentsRadius;d++)j=2*(d/this.segmentsRadius)*Math.PI,m=-this.radius*Math.cos(j),j=this.radius*Math.sin(j),q.copy(l),q.x+=m*g.x+j*h.x,q.y+=m*g.y+j*h.y,q.z+=m*g.z+j*h.z,this.grid[b][d]=this.vertices.push(new THREE.Vector3(q.x,q.y,q.z))-1}for(b=0;b<this.segments;b++)for(d=0;d<this.segmentsRadius;d++)f=e?(b+1)%this.segments:b+1,q=(d+1)%this.segmentsRadius,a=this.grid[b][d], c=this.grid[f][d],f=this.grid[f][q],q=this.grid[b][q],o=new THREE.UV(b/this.segments,d/this.segmentsRadius),p=new THREE.UV((b+1)/this.segments,d/this.segmentsRadius),r=new THREE.UV((b+1)/this.segments,(d+1)/this.segmentsRadius),g=new THREE.UV(b/this.segments,(d+1)/this.segmentsRadius),this.faces.push(new THREE.Face4(a,c,f,q)),this.faceVertexUvs[0].push([o,p,r,g]);this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals()};THREE.TubeGeometry.prototype=new THREE.Geometry;THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry;THREE.TubeGeometry.FrenetFrames=function(a,b,c){new THREE.Vector3;var d=new THREE.Vector3;new THREE.Vector3;var e=[],f=[],g=[],h=new THREE.Vector3,j=new THREE.Matrix4,b=b+1,m,l,q;this.tangents=e;this.normals=f;this.binormals=g;for(m=0;m<b;m++)l=m/(b-1),e[m]=a.getTangentAt(l),e[m].normalize();f[0]=new THREE.Vector3;g[0]=new THREE.Vector3;a=Number.MAX_VALUE;m=Math.abs(e[0].x);l=Math.abs(e[0].y);q=Math.abs(e[0].z);m<=a&&(a=m,d.set(1,0,0));l<=a&&(a=l,d.set(0,1,0));q<=a&&d.set(0,0,1);h.cross(e[0],d).normalize();f[0].cross(e[0],h);g[0].cross(e[0],f[0]);for(m=1;m<b;m++)f[m]=f[m-1].clone(),g[m]=g[m-1].clone(),h.cross(e[m-1],e[m]),1E-4<h.length()&&(h.normalize(),d=Math.acos(e[m-1].dot(e[m])),j.makeRotationAxis(h,d).multiplyVector3(f[m])),g[m].cross(e[m],f[m]);if(c){d=Math.acos(f[0].dot(f[b-1]));d/=b-1;0<e[0].dot(h.cross(f[0],f[b-1]))&&(d=-d);for(m=1;m<b;m++)j.makeRotationAxis(e[m],d*m).multiplyVector3(f[m]),g[m].cross(e[m],f[m])}};THREE.PolyhedronGeometry=function(a,b,c,d){function e(a){var b=a.normalize().clone();b.index=j.vertices.push(b)-1;var c=Math.atan2(a.z,-a.x)/2/Math.PI+0.5,a=Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+0.5;b.uv=new THREE.UV(c,a);return b}function f(a,b,c,d){1>d?(d=new THREE.Face3(a.index,b.index,c.index,[a.clone(),b.clone(),c.clone()]),d.centroid.addSelf(a).addSelf(b).addSelf(c).divideScalar(3),d.normal=d.centroid.clone().normalize(),j.faces.push(d),d=Math.atan2(d.centroid.z,-d.centroid.x), j.faceVertexUvs[0].push([h(a.uv,a,d),h(b.uv,b,d),h(c.uv,c,d)])):(d-=1,f(a,g(a,b),g(a,c),d),f(g(a,b),b,g(b,c),d),f(g(a,c),g(b,c),c,d),f(g(a,b),g(b,c),g(a,c),d))}function g(a,b){q[a.index]||(q[a.index]=[]);q[b.index]||(q[b.index]=[]);var c=q[a.index][b.index];void 0===c&&(q[a.index][b.index]=q[b.index][a.index]=c=e((new THREE.Vector3).add(a,b).divideScalar(2)));return c}function h(a,b,c){0>c&&1===a.u&&(a=new THREE.UV(a.u-1,a.v));0===b.x&&0===b.z&&(a=new THREE.UV(c/2/Math.PI+0.5,a.v));return a}THREE.Geometry.call(this);for(var c=c||1,d=d||0,j=this,m=0,l=a.length;m<l;m++)e(new THREE.Vector3(a[m][0],a[m][1],a[m][2]));for(var q=[],a=this.vertices,m=0,l=b.length;m<l;m++)f(a[b[m][0]],a[b[m][1]],a[b[m][2]],d);this.mergeVertices();m=0;for(l=this.vertices.length;m<l;m++)this.vertices[m].multiplyScalar(c);this.computeCentroids();this.boundingSphere={radius:c}};THREE.PolyhedronGeometry.prototype=new THREE.Geometry;THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry;THREE.IcosahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2;THREE.PolyhedronGeometry.call(this,[[-1,c,0],[1,c,0],[-1,-c,0],[1,-c,0],[0,-1,c],[0,1,c],[0,-1,-c],[0,1,-c],[c,0,-1],[c,0,1],[-c,0,-1],[-c,0,1]],[[0,11,5],[0,5,1],[0,1,7],[0,7,10],[0,10,11],[1,5,9],[5,11,4],[11,10,2],[10,7,6],[7,1,8],[3,9,4],[3,4,2],[3,2,6],[3,6,8],[3,8,9],[4,9,5],[2,4,11],[6,2,10],[8,6,7],[9,8,1]],a,b)};THREE.IcosahedronGeometry.prototype=new THREE.Geometry;THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry;THREE.OctahedronGeometry=function(a,b){THREE.PolyhedronGeometry.call(this,[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],[[0,2,4],[0,4,3],[0,3,5],[0,5,2],[1,2,5],[1,5,3],[1,3,4],[1,4,2]],a,b)};THREE.OctahedronGeometry.prototype=new THREE.Geometry;THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry;THREE.TetrahedronGeometry=function(a,b){THREE.PolyhedronGeometry.call(this,[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],[[2,1,0],[0,3,2],[1,3,0],[2,3,1]],a,b)};THREE.TetrahedronGeometry.prototype=new THREE.Geometry;THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry;THREE.ParametricGeometry=function(a,b,c,d){THREE.Geometry.call(this);var e=this.vertices,f=this.faces,g=this.faceVertexUvs[0],d=void 0===d?!1:d,h,j,m,l,q=b+1;for(h=0;h<=c;h++){l=h/c;for(j=0;j<=b;j++)m=j/b,m=a(m,l),e.push(m)}var o,p,r,n;for(h=0;h<c;h++)for(j=0;j<b;j++)a=h*q+j,e=h*q+j+1,l=(h+1)*q+j,m=(h+1)*q+j+1,o=new THREE.UV(h/b,j/c),p=new THREE.UV(h/b,(j+1)/c),r=new THREE.UV((h+1)/b,j/c),n=new THREE.UV((h+1)/b,(j+1)/c),d?(f.push(new THREE.Face3(a,e,l)),f.push(new THREE.Face3(e,m,l)),g.push([o,p, r]),g.push([p,n,r])):(f.push(new THREE.Face4(a,e,m,l)),g.push([o,p,r,n]));this.computeCentroids();this.computeFaceNormals();this.computeVertexNormals()};THREE.ParametricGeometry.prototype=new THREE.Geometry;THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry;THREE.AxisHelper=function(){THREE.Object3D.call(this);var a=new THREE.Geometry;a.vertices.push(new THREE.Vector3);a.vertices.push(new THREE.Vector3(0,100,0));var b=new THREE.CylinderGeometry(0,5,25,5,1),c;c=new THREE.Line(a,new THREE.LineBasicMaterial({color:16711680}));c.rotation.z=-Math.PI/2;this.add(c);c=new THREE.Mesh(b,new THREE.MeshBasicMaterial({color:16711680}));c.position.x=100;c.rotation.z=-Math.PI/2;this.add(c);c=new THREE.Line(a,new THREE.LineBasicMaterial({color:65280}));this.add(c);c=new THREE.Mesh(b,new THREE.MeshBasicMaterial({color:65280}));c.position.y=100;this.add(c);c=new THREE.Line(a,new THREE.LineBasicMaterial({color:255}));c.rotation.x=Math.PI/2;this.add(c);c=new THREE.Mesh(b,new THREE.MeshBasicMaterial({color:255}));c.position.z=100;c.rotation.x=Math.PI/2;this.add(c)};THREE.AxisHelper.prototype=new THREE.Object3D;THREE.AxisHelper.prototype.constructor=THREE.AxisHelper;THREE.ArrowHelper=function(a,b,c,d){THREE.Object3D.call(this);void 0===d&&(d=16776960);void 0===c&&(c=20);var e=new THREE.Geometry;e.vertices.push(new THREE.Vector3(0,0,0));e.vertices.push(new THREE.Vector3(0,1,0));this.line=new THREE.Line(e,new THREE.LineBasicMaterial({color:d}));this.add(this.line);e=new THREE.CylinderGeometry(0,0.05,0.25,5,1);this.cone=new THREE.Mesh(e,new THREE.MeshBasicMaterial({color:d}));this.cone.position.set(0,1,0);this.add(this.cone);b instanceof THREE.Vector3&&(this.position=b);this.setDirection(a);this.setLength(c)};THREE.ArrowHelper.prototype=new THREE.Object3D;THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper;THREE.ArrowHelper.prototype.setDirection=function(a){var b=(new THREE.Vector3(0,1,0)).crossSelf(a),a=Math.acos((new THREE.Vector3(0,1,0)).dot(a.clone().normalize()));this.matrix=(new THREE.Matrix4).makeRotationAxis(b.normalize(),a);this.rotation.getRotationFromMatrix(this.matrix,this.scale)};THREE.ArrowHelper.prototype.setLength=function(a){this.scale.set(a,a,a)};THREE.ArrowHelper.prototype.setColor=function(a){this.line.material.color.setHex(a);this.cone.material.color.setHex(a)};THREE.CameraHelper=function(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){d.lineGeometry.vertices.push(new THREE.Vector3);d.lineGeometry.colors.push(new THREE.Color(b));void 0===d.pointMap[a]&&(d.pointMap[a]=[]);d.pointMap[a].push(d.lineGeometry.vertices.length-1)}THREE.Object3D.call(this);var d=this;this.lineGeometry=new THREE.Geometry;this.lineMaterial=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors});this.pointMap={};b("n1","n2",16755200);b("n2","n4",16755200);b("n4", "n3",16755200);b("n3","n1",16755200);b("f1","f2",16755200);b("f2","f4",16755200);b("f4","f3",16755200);b("f3","f1",16755200);b("n1","f1",16755200);b("n2","f2",16755200);b("n3","f3",16755200);b("n4","f4",16755200);b("p","n1",16711680);b("p","n2",16711680);b("p","n3",16711680);b("p","n4",16711680);b("u1","u2",43775);b("u2","u3",43775);b("u3","u1",43775);b("c","t",16777215);b("p","c",3355443);b("cn1","cn2",3355443);b("cn3","cn4",3355443);b("cf1","cf2",3355443);b("cf3","cf4",3355443);this.camera=a;this.update(a);this.lines=new THREE.Line(this.lineGeometry,this.lineMaterial,THREE.LinePieces);this.add(this.lines)};THREE.CameraHelper.prototype=new THREE.Object3D;THREE.CameraHelper.prototype.constructor=THREE.CameraHelper;THREE.CameraHelper.prototype.update=function(){function a(a,d,e,f){THREE.CameraHelper.__v.set(d,e,f);THREE.CameraHelper.__projector.unprojectVector(THREE.CameraHelper.__v,THREE.CameraHelper.__c);a=b.pointMap[a];if(void 0!==a){d=0;for(e=a.length;d<e;d++)b.lineGeometry.vertices[a[d]].copy(THREE.CameraHelper.__v)}}var b=this;THREE.CameraHelper.__c.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1, 1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",0.7,1.1,-1);a("u2",-0.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);this.lineGeometry.verticesNeedUpdate=!0};THREE.CameraHelper.__projector=new THREE.Projector;THREE.CameraHelper.__v=new THREE.Vector3;THREE.CameraHelper.__c=new THREE.Camera;THREE.SubdivisionModifier=function(a){this.subdivisions=void 0===a?1:a;this.useOldVertexColors=!1;this.supportUVs=!0;this.debug=!1};THREE.SubdivisionModifier.prototype.constructor=THREE.SubdivisionModifier;THREE.SubdivisionModifier.prototype.modify=function(a){for(var b=this.subdivisions;0<b--;)this.smooth(a)};THREE.SubdivisionModifier.prototype.smooth=function(a){function b(){q.debug&&console.log.apply(console,arguments)}function c(){console&&console.log.apply(console,arguments)}function d(a,c,d,e,g,h,j){var k=new THREE.Face4(a,c,d,e,null,g.color,g.material);if(q.useOldVertexColors){k.vertexColors=[];for(var n,o,p,r=0;4>r;r++){p=h[r];n=new THREE.Color;n.setRGB(0,0,0);for(var s=0;s<p.length;s++)o=g.vertexColors[p[s]-1],n.r+=o.r,n.g+=o.g,n.b+=o.b;n.r/=p.length;n.g/=p.length;n.b/=p.length;k.vertexColors[r]=n}}m.push(k);q.supportUVs&&(g=[f(a,""),f(c,j),f(d,j),f(e,j)],g[0]?g[1]?g[2]?g[3]?l.push(g):b("d :( ",e+":"+j):b("c :( ",d+":"+j):b("b :( ",c+":"+j):b("a :( ",a+":"+j))}function e(a,b){return Math.min(a,b)+"_"+Math.max(a,b)}function f(a,d){var e=a+":"+d,f=w[e];return!f?(a>=v&&a<v+p.length?b("face pt"):b("edge pt"),c("warning, UV not found for",e),null):f}function g(a,b,d){var e=a+":"+b;e in w?c("dup vertexNo",a,"oldFaceNo",b,"value",d,"key",e,w[e]):w[e]=d}function h(a,b){void 0===V[a]&&(V[a]=[]);V[a].push(b)}var j=[],m=[],l=[],q=this,o=a.vertices,p=a.faces,j=o.concat(),r=[],n={},s={},w={},v=o.length,u,x,z,I,y,B=a.faceVertexUvs[0],D;b("originalFaces, uvs, originalVerticesLength",p.length,B.length,v);if(q.supportUVs){u=0;for(x=B.length;u<x;u++){z=0;for(I=B[u].length;z<I;z++)D=p[u]["abcd".charAt(z)],g(D,u,B[u][z])}}0==B.length&&(q.supportUVs=!1);u=0;for(y in w)u++;u||(q.supportUVs=!1,b("no uvs"));b("-- Original Faces + Vertices UVs completed",w,"vs",B.length);u=0;for(x=p.length;u<x;u++)y=p[u],r.push(y.centroid), j.push(y.centroid),q.supportUVs&&(B=new THREE.UV,y instanceof THREE.Face3?(B.u=f(y.a,u).u+f(y.b,u).u+f(y.c,u).u,B.v=f(y.a,u).v+f(y.b,u).v+f(y.c,u).v,B.u/=3,B.v/=3):y instanceof THREE.Face4&&(B.u=f(y.a,u).u+f(y.b,u).u+f(y.c,u).u+f(y.d,u).u,B.v=f(y.a,u).v+f(y.b,u).v+f(y.c,u).v+f(y.d,u).v,B.u/=4,B.v/=4),g(v+u,"",B));b("-- added UVs for new Faces",w);x=function(a,b){P[a]===void 0&&(P[a]=[]);P[a].push(b)};var E,P={};I=0;for(B=a.faces.length;I<B;I++)D=a.faces[I],D instanceof THREE.Face3?(E=e(D.a,D.b),x(E, I),E=e(D.b,D.c),x(E,I),E=e(D.c,D.a),x(E,I)):D instanceof THREE.Face4&&(E=e(D.a,D.b),x(E,I),E=e(D.b,D.c),x(E,I),E=e(D.c,D.d),x(E,I),E=e(D.d,D.a),x(E,I));x=P;D=0;var M,V={},S={};for(u in x){B=x[u];E=u.split("_");M=E[0];E=E[1];h(M,[M,E]);h(E,[M,E]);z=0;for(I=B.length;z<I;z++){y=B[z];var G=M,K=y,J=u;void 0===S[G]&&(S[G]={});S[G][K]=J;G=E;K=u;void 0===S[G]&&(S[G]={});S[G][y]=K}2>B.length&&(s[u]=!0)}b("vertexEdgeMap",V,"vertexFaceMap",S);for(u in x)if(B=x[u],y=B[0],I=B[1],E=u.split("_"),M=E[0],E=E[1],B=new THREE.Vector3,s[u]?(B.addSelf(o[M]),B.addSelf(o[E]),B.multiplyScalar(0.5)):(B.addSelf(r[y]),B.addSelf(r[I]),B.addSelf(o[M]),B.addSelf(o[E]),B.multiplyScalar(0.25)),n[u]=v+p.length+D,j.push(B),D++,q.supportUVs)B=new THREE.UV,B.u=f(M,y).u+f(E,y).u,B.v=f(M,y).v+f(E,y).v,B.u/=2,B.v/=2,g(n[u],y,B),s[u]||(B=new THREE.UV,B.u=f(M,I).u+f(E,I).u,B.v=f(M,I).v+f(E,I).v,B.u/=2,B.v/=2,g(n[u],I,B));b("-- Step 2 done");I=["123","12","2","23"];E=["123","23","3","31"];var J=["123","31","1","12"],k=["1234","12", "2","23"],X=["1234","23","3","34"],W=["1234","34","4","41"],F=["1234","41","1","12"];u=0;for(x=r.length;u<x;u++)y=p[u],B=v+u,y instanceof THREE.Face3?(D=e(y.a,y.b),M=e(y.b,y.c),G=e(y.c,y.a),d(B,n[D],y.b,n[M],y,I,u),d(B,n[M],y.c,n[G],y,E,u),d(B,n[G],y.a,n[D],y,J,u)):y instanceof THREE.Face4?(D=e(y.a,y.b),M=e(y.b,y.c),G=e(y.c,y.d),K=e(y.d,y.a),d(B,n[D],y.b,n[M],y,k,u),d(B,n[M],y.c,n[G],y,X,u),d(B,n[G],y.d,n[K],y,W,u),d(B,n[K],y.a,n[D],y,F,u)):b("face should be a face!",y);n=new THREE.Vector3;y=new THREE.Vector3;u=0;for(x=o.length;u<x;u++)if(void 0!==V[u]){n.set(0,0,0);y.set(0,0,0);M=new THREE.Vector3(0,0,0);B=0;for(z in S[u])n.addSelf(r[z]),B++;I=0;D=V[u].length;for(z=0;z<D;z++)s[e(V[u][z][0],V[u][z][1])]&&I++;if(2!=I){n.divideScalar(B);for(z=0;z<D;z++)B=V[u][z],B=o[B[0]].clone().addSelf(o[B[1]]).divideScalar(2),y.addSelf(B);y.divideScalar(D);M.addSelf(o[u]);M.multiplyScalar(D-3);M.addSelf(n);M.addSelf(y.multiplyScalar(2));M.divideScalar(D);j[u]=M}}a.vertices=j;a.faces=m;a.faceVertexUvs[0]=l;delete a.__tmpVertices;a.computeCentroids();a.computeFaceNormals();a.computeVertexNormals()};THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this);this.render=function(){}};THREE.ImmediateRenderObject.prototype=new THREE.Object3D;THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject;THREE.LensFlare=function(a,b,c,d,e){THREE.Object3D.call(this);this.lensFlares=[];this.positionScreen=new THREE.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,c,d,e)};THREE.LensFlare.prototype=new THREE.Object3D;THREE.LensFlare.prototype.constructor=THREE.LensFlare;THREE.LensFlare.prototype.supr=THREE.Object3D.prototype;THREE.LensFlare.prototype.add=function(a,b,c,d,e,f){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===f&&(f=1);void 0===e&&(e=new THREE.Color(16777215));void 0===d&&(d=THREE.NormalBlending);c=Math.min(c,Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:1,opacity:f,color:e,blending:d})};THREE.LensFlare.prototype.updateLensFlares=function(){var a,b=this.lensFlares.length,c,d=2*-this.positionScreen.x,e=2*-this.positionScreen.y;for(a=0;a<b;a++)c=this.lensFlares[a],c.x=this.positionScreen.x+d*c.distance,c.y=this.positionScreen.y+e*c.distance,c.wantedRotation=0.25*c.x*Math.PI,c.rotation+=0.25*(c.wantedRotation-c.rotation)};THREE.MorphBlendMesh=function(a,b){THREE.Mesh.call(this,a,b);this.animationsMap={};this.animationsList=[];var c=this.geometry.morphTargets.length;this.createAnimation("__default",0,c-1,c/1);this.setAnimationWeight("__default",1)};THREE.MorphBlendMesh.prototype=new THREE.Mesh;THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh;THREE.MorphBlendMesh.prototype.createAnimation=function(a,b,c,d){b={startFrame:b,endFrame:c,length:c-b+1,fps:d,duration:(c-b)/d,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[a]=b;this.animationsList.push(b)};THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(a){for(var b=/([a-z]+)(\d+)/,c,d={},e=this.geometry,f=0,g=e.morphTargets.length;f<g;f++){var h=e.morphTargets[f].name.match(b);if(h&&1<h.length){var j=h[1];d[j]||(d[j]={start:Infinity,end:-Infinity});h=d[j];f<h.start&&(h.start=f);f>h.end&&(h.end=f);c||(c=j)}}for(j in d)h=d[j],this.createAnimation(j,h.start,h.end,a);this.firstAnimation=c};THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};THREE.MorphBlendMesh.prototype.setAnimationFPS=function(a,b){var c=this.animationsMap[a];c&&(c.fps=b,c.duration=(c.end-c.start)/c.fps)};THREE.MorphBlendMesh.prototype.setAnimationDuration=function(a,b){var c=this.animationsMap[a];c&&(c.duration=b,c.fps=(c.end-c.start)/c.duration)};THREE.MorphBlendMesh.prototype.setAnimationWeight=function(a,b){var c=this.animationsMap[a];c&&(c.weight=b)};THREE.MorphBlendMesh.prototype.setAnimationTime=function(a,b){var c=this.animationsMap[a];c&&(c.time=b)};THREE.MorphBlendMesh.prototype.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};THREE.MorphBlendMesh.prototype.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};THREE.MorphBlendMesh.prototype.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("animation["+a+"] undefined")};THREE.MorphBlendMesh.prototype.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};THREE.MorphBlendMesh.prototype.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d=this.animationsList[b];if(d.active){var e=d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)if(d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time)d.time=0,d.directionBackwards=!1}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var f=d.startFrame+THREE.Math.clamp(Math.floor(d.time/e),0,d.length-1),g=d.weight;f!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=0,this.morphTargetInfluences[d.currentFrame]=1*g,this.morphTargetInfluences[f]=0,d.lastFrame=d.currentFrame,d.currentFrame=f);e=d.time%e/e;d.directionBackwards&&(e=1-e);this.morphTargetInfluences[d.currentFrame]=e*g;this.morphTargetInfluences[d.lastFrame]=(1-e)*g}}};THREE.LensFlarePlugin=function(){function a(a){var c=b.createProgram(),d=b.createShader(b.FRAGMENT_SHADER),e=b.createShader(b.VERTEX_SHADER);b.shaderSource(d,a.fragmentShader);b.shaderSource(e,a.vertexShader);b.compileShader(d);b.compileShader(e);b.attachShader(c,d);b.attachShader(c,e);b.linkProgram(c);return c}var b,c,d,e,f,g,h,j,m,l,q,o,p;this.init=function(r){b=r.context;c=r;d=new Float32Array(16);e=new Uint16Array(6);r=0;d[r++]=-1;d[r++]=-1;d[r++]=0;d[r++]=0;d[r++]=1;d[r++]=-1;d[r++]=1;d[r++]=0;d[r++]=1;d[r++]=1;d[r++]=1;d[r++]=1;d[r++]=-1;d[r++]=1;d[r++]=0;d[r++]=1;r=0;e[r++]=0;e[r++]=1;e[r++]=2;e[r++]=0;e[r++]=2;e[r++]=3;f=b.createBuffer();g=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,f);b.bufferData(b.ARRAY_BUFFER,d,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,g);b.bufferData(b.ELEMENT_ARRAY_BUFFER,e,b.STATIC_DRAW);h=b.createTexture();j=b.createTexture();b.bindTexture(b.TEXTURE_2D,h);b.texImage2D(b.TEXTURE_2D,0,b.RGB,16,16,0,b.RGB,b.UNSIGNED_BYTE,null);b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.bindTexture(b.TEXTURE_2D,j);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,16,16,0,b.RGBA,b.UNSIGNED_BYTE,null);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);0>=b.getParameter(b.MAX_VERTEX_TEXTURE_IMAGE_UNITS)?(m=!1,l=a(THREE.ShaderFlares.lensFlare)):(m=!0,l=a(THREE.ShaderFlares.lensFlareVertexTexture));q={};o={};q.vertex=b.getAttribLocation(l,"position");q.uv=b.getAttribLocation(l,"uv");o.renderType=b.getUniformLocation(l,"renderType");o.map=b.getUniformLocation(l,"map");o.occlusionMap=b.getUniformLocation(l,"occlusionMap");o.opacity=b.getUniformLocation(l,"opacity");o.color=b.getUniformLocation(l, "color");o.scale=b.getUniformLocation(l,"scale");o.rotation=b.getUniformLocation(l,"rotation");o.screenPosition=b.getUniformLocation(l,"screenPosition");p=!1};this.render=function(a,d,e,w){var a=a.__webglFlares,v=a.length;if(v){var u=new THREE.Vector3,x=w/e,z=0.5*e,I=0.5*w,y=16/w,B=new THREE.Vector2(y*x,y),D=new THREE.Vector3(1,1,0),E=new THREE.Vector2(1,1),P=o,y=q;b.useProgram(l);p||(b.enableVertexAttribArray(q.vertex),b.enableVertexAttribArray(q.uv),p=!0);b.uniform1i(P.occlusionMap,0);b.uniform1i(P.map, 1);b.bindBuffer(b.ARRAY_BUFFER,f);b.vertexAttribPointer(y.vertex,2,b.FLOAT,!1,16,0);b.vertexAttribPointer(y.uv,2,b.FLOAT,!1,16,8);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,g);b.disable(b.CULL_FACE);b.depthMask(!1);var M,V,S,G,K;for(M=0;M<v;M++)if(y=16/w,B.set(y*x,y),G=a[M],u.set(G.matrixWorld.elements[12],G.matrixWorld.elements[13],G.matrixWorld.elements[14]),d.matrixWorldInverse.multiplyVector3(u),d.projectionMatrix.multiplyVector3(u),D.copy(u),E.x=D.x*z+z,E.y=D.y*I+I,m||0<E.x&&E.x<e&&0<E.y&&E.y<w){b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,h);b.copyTexImage2D(b.TEXTURE_2D,0,b.RGB,E.x-8,E.y-8,16,16,0);b.uniform1i(P.renderType,0);b.uniform2f(P.scale,B.x,B.y);b.uniform3f(P.screenPosition,D.x,D.y,D.z);b.disable(b.BLEND);b.enable(b.DEPTH_TEST);b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0);b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,j);b.copyTexImage2D(b.TEXTURE_2D,0,b.RGBA,E.x-8,E.y-8,16,16,0);b.uniform1i(P.renderType,1);b.disable(b.DEPTH_TEST);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D, h);b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0);G.positionScreen.copy(D);G.customUpdateCallback?G.customUpdateCallback(G):G.updateLensFlares();b.uniform1i(P.renderType,2);b.enable(b.BLEND);V=0;for(S=G.lensFlares.length;V<S;V++)K=G.lensFlares[V],0.001<K.opacity&&0.001<K.scale&&(D.x=K.x,D.y=K.y,D.z=K.z,y=K.size*K.scale/w,B.x=y*x,B.y=y,b.uniform3f(P.screenPosition,D.x,D.y,D.z),b.uniform2f(P.scale,B.x,B.y),b.uniform1f(P.rotation,K.rotation),b.uniform1f(P.opacity,K.opacity),b.uniform3f(P.color,K.color.r, K.color.g,K.color.b),c.setBlending(K.blending,K.blendEquation,K.blendSrc,K.blendDst),c.setTexture(K.texture,1),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0))}b.enable(b.CULL_FACE);b.enable(b.DEPTH_TEST);b.depthMask(!0)}}};THREE.ShadowMapPlugin=function(){var a,b,c,d,e=new THREE.Frustum,f=new THREE.Matrix4,g=new THREE.Vector3,h=new THREE.Vector3;this.init=function(e){a=e.context;b=e;var e=THREE.ShaderLib.depthRGBA,f=THREE.UniformsUtils.clone(e.uniforms);c=new THREE.ShaderMaterial({fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,uniforms:f});d=new THREE.ShaderMaterial({fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,uniforms:f,morphTargets:!0});c._shadowPass=!0;d._shadowPass=!0};this.render=function(a, c){b.shadowMapEnabled&&b.shadowMapAutoUpdate&&this.update(a,c)};this.update=function(j,m){var l,q,o,p,r,n,s,w,v,u=[];p=0;a.clearColor(1,1,1,1);a.disable(a.BLEND);a.enable(a.CULL_FACE);b.shadowMapCullFrontFaces?a.cullFace(a.FRONT):a.cullFace(a.BACK);b.setDepthTest(!0);l=0;for(q=j.__lights.length;l<q;l++)if(o=j.__lights[l],o.castShadow)if(o instanceof THREE.DirectionalLight&&o.shadowCascade)for(r=0;r<o.shadowCascadeCount;r++){var x;if(o.shadowCascadeArray[r])x=o.shadowCascadeArray[r];else{v=o;s=r;x=new THREE.DirectionalLight;x.isVirtual=!0;x.onlyShadow=!0;x.castShadow=!0;x.shadowCameraNear=v.shadowCameraNear;x.shadowCameraFar=v.shadowCameraFar;x.shadowCameraLeft=v.shadowCameraLeft;x.shadowCameraRight=v.shadowCameraRight;x.shadowCameraBottom=v.shadowCameraBottom;x.shadowCameraTop=v.shadowCameraTop;x.shadowCameraVisible=v.shadowCameraVisible;x.shadowDarkness=v.shadowDarkness;x.shadowBias=v.shadowCascadeBias[s];x.shadowMapWidth=v.shadowCascadeWidth[s];x.shadowMapHeight=v.shadowCascadeHeight[s];x.pointsWorld=[];x.pointsFrustum=[];w=x.pointsWorld;n=x.pointsFrustum;for(var z=0;8>z;z++)w[z]=new THREE.Vector3,n[z]=new THREE.Vector3;w=v.shadowCascadeNearZ[s];v=v.shadowCascadeFarZ[s];n[0].set(-1,-1,w);n[1].set(1,-1,w);n[2].set(-1,1,w);n[3].set(1,1,w);n[4].set(-1,-1,v);n[5].set(1,-1,v);n[6].set(-1,1,v);n[7].set(1,1,v);x.originalCamera=m;n=new THREE.Gyroscope;n.position=o.shadowCascadeOffset;n.add(x);n.add(x.target);m.add(n);o.shadowCascadeArray[r]=x;console.log("Created virtualLight",x)}s=o;w=r;v=s.shadowCascadeArray[w];v.position.copy(s.position);v.target.position.copy(s.target.position);v.lookAt(v.target);v.shadowCameraVisible=s.shadowCameraVisible;v.shadowDarkness=s.shadowDarkness;v.shadowBias=s.shadowCascadeBias[w];n=s.shadowCascadeNearZ[w];s=s.shadowCascadeFarZ[w];v=v.pointsFrustum;v[0].z=n;v[1].z=n;v[2].z=n;v[3].z=n;v[4].z=s;v[5].z=s;v[6].z=s;v[7].z=s;u[p]=x;p++}else u[p]=o,p++;l=0;for(q=u.length;l<q;l++){o=u[l];o.shadowMap||(o.shadowMap=new THREE.WebGLRenderTarget(o.shadowMapWidth, o.shadowMapHeight,{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat}),o.shadowMapSize=new THREE.Vector2(o.shadowMapWidth,o.shadowMapHeight),o.shadowMatrix=new THREE.Matrix4);if(!o.shadowCamera){if(o instanceof THREE.SpotLight)o.shadowCamera=new THREE.PerspectiveCamera(o.shadowCameraFov,o.shadowMapWidth/o.shadowMapHeight,o.shadowCameraNear,o.shadowCameraFar);else if(o instanceof THREE.DirectionalLight)o.shadowCamera=new THREE.OrthographicCamera(o.shadowCameraLeft,o.shadowCameraRight, o.shadowCameraTop,o.shadowCameraBottom,o.shadowCameraNear,o.shadowCameraFar);else{console.error("Unsupported light type for shadow");continue}j.add(o.shadowCamera);b.autoUpdateScene&&j.updateMatrixWorld()}o.shadowCameraVisible&&!o.cameraHelper&&(o.cameraHelper=new THREE.CameraHelper(o.shadowCamera),o.shadowCamera.add(o.cameraHelper));if(o.isVirtual&&x.originalCamera==m){r=m;p=o.shadowCamera;n=o.pointsFrustum;v=o.pointsWorld;g.set(Infinity,Infinity,Infinity);h.set(-Infinity,-Infinity,-Infinity);for(s=0;8>s;s++)if(w=v[s],w.copy(n[s]),THREE.ShadowMapPlugin.__projector.unprojectVector(w,r),p.matrixWorldInverse.multiplyVector3(w),w.x<g.x&&(g.x=w.x),w.x>h.x&&(h.x=w.x),w.y<g.y&&(g.y=w.y),w.y>h.y&&(h.y=w.y),w.z<g.z&&(g.z=w.z),w.z>h.z)h.z=w.z;p.left=g.x;p.right=h.x;p.top=h.y;p.bottom=g.y;p.updateProjectionMatrix()}p=o.shadowMap;n=o.shadowMatrix;r=o.shadowCamera;r.position.copy(o.matrixWorld.getPosition());r.lookAt(o.target.matrixWorld.getPosition());r.updateMatrixWorld();r.matrixWorldInverse.getInverse(r.matrixWorld);o.cameraHelper&&(o.cameraHelper.lines.visible=o.shadowCameraVisible);o.shadowCameraVisible&&o.cameraHelper.update();n.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1);n.multiplySelf(r.projectionMatrix);n.multiplySelf(r.matrixWorldInverse);r._viewMatrixArray||(r._viewMatrixArray=new Float32Array(16));r._projectionMatrixArray||(r._projectionMatrixArray=new Float32Array(16));r.matrixWorldInverse.flattenToArray(r._viewMatrixArray);r.projectionMatrix.flattenToArray(r._projectionMatrixArray);f.multiply(r.projectionMatrix, r.matrixWorldInverse);e.setFromMatrix(f);b.setRenderTarget(p);b.clear();v=j.__webglObjects;o=0;for(p=v.length;o<p;o++)if(s=v[o],n=s.object,s.render=!1,n.visible&&n.castShadow&&(!(n instanceof THREE.Mesh)||!n.frustumCulled||e.contains(n)))n._modelViewMatrix.multiply(r.matrixWorldInverse,n.matrixWorld),s.render=!0;o=0;for(p=v.length;o<p;o++)s=v[o],s.render&&(n=s.object,s=s.buffer,w=n.customDepthMaterial?n.customDepthMaterial:n.geometry.morphTargets.length?d:c,s instanceof THREE.BufferGeometry?b.renderBufferDirect(r, j.__lights,null,w,s,n):b.renderBuffer(r,j.__lights,null,w,s,n));v=j.__webglObjectsImmediate;o=0;for(p=v.length;o<p;o++)s=v[o],n=s.object,n.visible&&n.castShadow&&(n._modelViewMatrix.multiply(r.matrixWorldInverse,n.matrixWorld),b.renderImmediateObject(r,j.__lights,null,c,n))}l=b.getClearColor();q=b.getClearAlpha();a.clearColor(l.r,l.g,l.b,q);a.enable(a.BLEND);b.shadowMapCullFrontFaces&&a.cullFace(a.BACK)}};THREE.ShadowMapPlugin.__projector=new THREE.Projector;THREE.SpritePlugin=function(){function a(a,b){return b.z-a.z}var b,c,d,e,f,g,h,j,m,l;this.init=function(a){b=a.context;c=a;d=new Float32Array(16);e=new Uint16Array(6);a=0;d[a++]=-1;d[a++]=-1;d[a++]=0;d[a++]=1;d[a++]=1;d[a++]=-1;d[a++]=1;d[a++]=1;d[a++]=1;d[a++]=1;d[a++]=1;d[a++]=0;d[a++]=-1;d[a++]=1;d[a++]=0;a=d[a++]=0;e[a++]=0;e[a++]=1;e[a++]=2;e[a++]=0;e[a++]=2;e[a++]=3;f=b.createBuffer();g=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,f);b.bufferData(b.ARRAY_BUFFER,d,b.STATIC_DRAW);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, g);b.bufferData(b.ELEMENT_ARRAY_BUFFER,e,b.STATIC_DRAW);var a=THREE.ShaderSprite.sprite,o=b.createProgram(),p=b.createShader(b.FRAGMENT_SHADER),r=b.createShader(b.VERTEX_SHADER);b.shaderSource(p,a.fragmentShader);b.shaderSource(r,a.vertexShader);b.compileShader(p);b.compileShader(r);b.attachShader(o,p);b.attachShader(o,r);b.linkProgram(o);h=o;j={};m={};j.position=b.getAttribLocation(h,"position");j.uv=b.getAttribLocation(h,"uv");m.uvOffset=b.getUniformLocation(h,"uvOffset");m.uvScale=b.getUniformLocation(h, "uvScale");m.rotation=b.getUniformLocation(h,"rotation");m.scale=b.getUniformLocation(h,"scale");m.alignment=b.getUniformLocation(h,"alignment");m.color=b.getUniformLocation(h,"color");m.map=b.getUniformLocation(h,"map");m.opacity=b.getUniformLocation(h,"opacity");m.useScreenCoordinates=b.getUniformLocation(h,"useScreenCoordinates");m.affectedByDistance=b.getUniformLocation(h,"affectedByDistance");m.screenPosition=b.getUniformLocation(h,"screenPosition");m.modelViewMatrix=b.getUniformLocation(h,"modelViewMatrix");m.projectionMatrix=b.getUniformLocation(h,"projectionMatrix");l=!1};this.render=function(d,e,p,r){var d=d.__webglSprites,n=d.length;if(n){var s=j,w=m,v=r/p,p=0.5*p,u=0.5*r,x=!0;b.useProgram(h);l||(b.enableVertexAttribArray(s.position),b.enableVertexAttribArray(s.uv),l=!0);b.disable(b.CULL_FACE);b.enable(b.BLEND);b.depthMask(!0);b.bindBuffer(b.ARRAY_BUFFER,f);b.vertexAttribPointer(s.position,2,b.FLOAT,!1,16,0);b.vertexAttribPointer(s.uv,2,b.FLOAT,!1,16,8);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,g);b.uniformMatrix4fv(w.projectionMatrix, !1,e._projectionMatrixArray);b.activeTexture(b.TEXTURE0);b.uniform1i(w.map,0);for(var z,I=[],s=0;s<n;s++)z=d[s],z.visible&&0!==z.opacity&&(z.useScreenCoordinates?z.z=-z.position.z:(z._modelViewMatrix.multiply(e.matrixWorldInverse,z.matrixWorld),z.z=-z._modelViewMatrix.elements[14]));d.sort(a);for(s=0;s<n;s++)if(z=d[s],z.visible&&0!==z.opacity&&z.map&&z.map.image&&z.map.image.width)z.useScreenCoordinates?(b.uniform1i(w.useScreenCoordinates,1),b.uniform3f(w.screenPosition,(z.position.x-p)/p,(u-z.position.y)/        u,Math.max(0,Math.min(1,z.position.z)))):(b.uniform1i(w.useScreenCoordinates,0),b.uniform1i(w.affectedByDistance,z.affectedByDistance?1:0),b.uniformMatrix4fv(w.modelViewMatrix,!1,z._modelViewMatrix.elements)),e=z.map.image.width/(z.scaleByViewport?r:1),I[0]=e*v*z.scale.x,I[1]=e*z.scale.y,b.uniform2f(w.uvScale,z.uvScale.x,z.uvScale.y),b.uniform2f(w.uvOffset,z.uvOffset.x,z.uvOffset.y),b.uniform2f(w.alignment,z.alignment.x,z.alignment.y),b.uniform1f(w.opacity,z.opacity),b.uniform3f(w.color,z.color.r, z.color.g,z.color.b),b.uniform1f(w.rotation,z.rotation),b.uniform2fv(w.scale,I),z.mergeWith3D&&!x?(b.enable(b.DEPTH_TEST),x=!0):!z.mergeWith3D&&x&&(b.disable(b.DEPTH_TEST),x=!1),c.setBlending(z.blending,z.blendEquation,z.blendSrc,z.blendDst),c.setTexture(z.map,0),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0);b.enable(b.CULL_FACE);b.enable(b.DEPTH_TEST);b.depthMask(!0)}}};THREE.DepthPassPlugin=function(){this.enabled=!1;this.renderTarget=null;var a,b,c,d,e=new THREE.Frustum,f=new THREE.Matrix4;this.init=function(e){a=e.context;b=e;var e=THREE.ShaderLib.depthRGBA,f=THREE.UniformsUtils.clone(e.uniforms);c=new THREE.ShaderMaterial({fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,uniforms:f});d=new THREE.ShaderMaterial({fragmentShader:e.fragmentShader,vertexShader:e.vertexShader,uniforms:f,morphTargets:!0});c._shadowPass=!0;d._shadowPass=!0};this.render=function(a, b){this.enabled&&this.update(a,b)};this.update=function(g,h){var j,m,l,q,o,p;a.clearColor(1,1,1,1);a.disable(a.BLEND);b.setDepthTest(!0);b.autoUpdateScene&&g.updateMatrixWorld();h._viewMatrixArray||(h._viewMatrixArray=new Float32Array(16));h._projectionMatrixArray||(h._projectionMatrixArray=new Float32Array(16));h.matrixWorldInverse.getInverse(h.matrixWorld);h.matrixWorldInverse.flattenToArray(h._viewMatrixArray);h.projectionMatrix.flattenToArray(h._projectionMatrixArray);f.multiply(h.projectionMatrix, h.matrixWorldInverse);e.setFromMatrix(f);b.setRenderTarget(this.renderTarget);b.clear();p=g.__webglObjects;j=0;for(m=p.length;j<m;j++)if(l=p[j],o=l.object,l.render=!1,o.visible&&(!(o instanceof THREE.Mesh)||!o.frustumCulled||e.contains(o)))o._modelViewMatrix.multiply(h.matrixWorldInverse,o.matrixWorld),l.render=!0;j=0;for(m=p.length;j<m;j++)l=p[j],l.render&&(o=l.object,l=l.buffer,b.setObjectFaces(o),q=o.customDepthMaterial?o.customDepthMaterial:o.geometry.morphTargets.length?d:c,l instanceof THREE.BufferGeometry?        b.renderBufferDirect(h,g.__lights,null,q,l,o):b.renderBuffer(h,g.__lights,null,q,l,o));p=g.__webglObjectsImmediate;j=0;for(m=p.length;j<m;j++)l=p[j],o=l.object,o.visible&&o.castShadow&&(o._modelViewMatrix.multiply(h.matrixWorldInverse,o.matrixWorld),b.renderImmediateObject(h,g.__lights,null,c,o));j=b.getClearColor();m=b.getClearAlpha();a.clearColor(j.r,j.g,j.b,m);a.enable(a.BLEND)}};THREE.ShaderFlares={lensFlareVertexTexture:{vertexShader:"uniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform int renderType;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main(){\nvUV=uv;\nvec2 pos=position;\nif( renderType==2 ){\nvec4 visibility=texture2D( occlusionMap, vec2( 0.1, 0.1 ) ) +\ntexture2D( occlusionMap, vec2( 0.5, 0.1 ) ) +\ntexture2D( occlusionMap, vec2( 0.9, 0.1 ) ) +\ntexture2D( occlusionMap, vec2( 0.9, 0.5 ) ) +\ntexture2D( occlusionMap, vec2( 0.9, 0.9 ) ) +\ntexture2D( occlusionMap, vec2( 0.5, 0.9 ) ) +\ntexture2D( occlusionMap, vec2( 0.1, 0.9 ) ) +\ntexture2D( occlusionMap, vec2( 0.1, 0.5 ) ) +\ntexture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility=(       visibility.r / 9.0 ) *\n( 1.0 - visibility.g / 9.0 ) *\n(       visibility.b / 9.0 ) *\n( 1.0 - visibility.a / 9.0 );\npos.x=cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y=sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position=vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"precision mediump float;\nuniform sampler2D map;\nuniform float opacity;\nuniform int renderType;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main(){\nif( renderType==0 ){\ngl_FragColor=vec4( 1.0, 0.0, 1.0, 0.0 );\n}else if( renderType==1 ){\ngl_FragColor=texture2D( map, vUV );\n}else{\nvec4 texture=texture2D( map, vUV );\ntexture.a *=opacity * vVisibility;\ngl_FragColor=texture;\ngl_FragColor.rgb *=color;\n}\n}"}, lensFlare:{vertexShader:"uniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform int renderType;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main(){\nvUV=uv;\nvec2 pos=position;\nif( renderType==2 ){\npos.x=cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y=sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position=vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"precision mediump float;\nuniform sampler2D map;\nuniform sampler2D occlusionMap;\nuniform float opacity;\nuniform int renderType;\nuniform vec3 color;\nvarying vec2 vUV;\nvoid main(){\nif( renderType==0 ){\ngl_FragColor=vec4( texture2D( map, vUV ).rgb, 0.0 );\n}else if( renderType==1 ){\ngl_FragColor=texture2D( map, vUV );\n}else{\nfloat visibility=texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a +\ntexture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a +\ntexture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a +\ntexture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\nvisibility=( 1.0 - visibility / 4.0 );\nvec4 texture=texture2D( map, vUV );\ntexture.a *=opacity * visibility;\ngl_FragColor=texture;\ngl_FragColor.rgb *=color;\n}\n}"}};THREE.ShaderSprite={sprite:{vertexShader:"uniform int useScreenCoordinates;\nuniform int affectedByDistance;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main(){\nvUV=uvOffset + uv * uvScale;\nvec2 alignedPosition=position + alignment;\nvec2 rotatedPosition;\nrotatedPosition.x=( cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y ) * scale.x;\nrotatedPosition.y=( sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y ) * scale.y;\nvec4 finalPosition;\nif( useScreenCoordinates !=0 ){\nfinalPosition=vec4( screenPosition.xy + rotatedPosition, screenPosition.z, 1.0 );\n}else{\nfinalPosition=projectionMatrix * modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy +=rotatedPosition * ( affectedByDistance==1 ? 1.0 : finalPosition.z );\n}\ngl_Position=finalPosition;\n}", fragmentShader:"precision mediump float;\nuniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nvarying vec2 vUV;\nvoid main(){\nvec4 texture=texture2D( map, vUV );\ngl_FragColor=vec4( color * texture.xyz, texture.a * opacity );\n}"}};"use strict";window.ThreeBSP=function(){var a;a=function(b){var c,d,e,f,g,h=[];if(b instanceof THREE.Geometry)this.matrix=new THREE.Matrix4;else if(b instanceof THREE.Mesh)b.updateMatrix(),this.matrix=b.matrix.clone(),b=b.geometry;else{if(b instanceof a.Node)return this.tree=b,this.matrix=new THREE.Matrix4,this;throw"ThreeBSP: Given geometry is unsupported";}c=0;for(d=b.faces.length;c<d;c++){e=b.faces[c];g=new a.Polygon;if(e instanceof THREE.Face3)f=b.vertices[e.a],f=new a.Vertex(f.x,f.y,f.z),this.matrix.multiplyVector3(f), g.vertices.push(f),f=b.vertices[e.b],f=new a.Vertex(f.x,f.y,f.z),this.matrix.multiplyVector3(f),g.vertices.push(f),f=b.vertices[e.c],f=new a.Vertex(f.x,f.y,f.z),this.matrix.multiplyVector3(f),g.vertices.push(f);else if(typeof THREE.Face4)f=b.vertices[e.a],f=new a.Vertex(f.x,f.y,f.z),this.matrix.multiplyVector3(f),g.vertices.push(f),f=b.vertices[e.b],f=new a.Vertex(f.x,f.y,f.z),this.matrix.multiplyVector3(f),g.vertices.push(f),f=b.vertices[e.c],f=new a.Vertex(f.x,f.y,f.z),this.matrix.multiplyVector3(f), g.vertices.push(f),f=b.vertices[e.d],f=new a.Vertex(f.x,f.y,f.z),this.matrix.multiplyVector3(f),g.vertices.push(f);else throw"Invalid face type at index "+c;g.calculateProperties();h.push(g)}this.tree=new a.Node(h)};a.prototype.subtract=function(b){var c=this.tree.clone(),b=b.tree.clone();c.invert();c.clipTo(b);b.clipTo(c);b.invert();b.clipTo(c);b.invert();c.build(b.allPolygons());c.invert();c=new a(c);c.matrix=this.matrix;return c};a.prototype.union=function(b){var c=this.tree.clone(),b=b.tree.clone();c.clipTo(b);b.clipTo(c);b.invert();b.clipTo(c);b.invert();c.build(b.allPolygons());c=new a(c);c.matrix=this.matrix;return c};a.prototype.intersect=function(b){var c=this.tree.clone(),b=b.tree.clone();c.invert();b.clipTo(c);b.invert();c.clipTo(b);b.clipTo(c);c.build(b.allPolygons());c.invert();c=new a(c);c.matrix=this.matrix;return c};a.prototype.toGeometry=function(){var a,c,d=(new THREE.Matrix4).getInverse(this.matrix),e=new THREE.Geometry,f=this.tree.allPolygons(),g=f.length,h,j,m;for(a=0;a<g;a++){h=f[a];j=h.vertices.length;for(c=2;c<j;c++)m=h.vertices[0],m=new THREE.Vector3(m.x,m.y,m.z),d.multiplyVector3(m),e.vertices.push(m),m=h.vertices[c-1],m=new THREE.Vector3(m.x,m.y,m.z),d.multiplyVector3(m),e.vertices.push(m),m=h.vertices[c],m=new THREE.Vector3(m.x,m.y,m.z),d.multiplyVector3(m),e.vertices.push(m),m=new THREE.Face3(e.vertices.length-3,e.vertices.length-2,e.vertices.length-1,new THREE.Vector3(h.normal.x,h.normal.y,h.normal.z)),e.faces.push(m)}return e};a.prototype.toMesh=function(a){var c=this.toGeometry(),a=new THREE.Mesh(c,a);a.position.getPositionFromMatrix(this.matrix);a.rotation.getRotationFromMatrix(this.matrix);return a};a.Polygon=function(a){a instanceof Array||(a=[]);this.vertices=a;0<a.length?this.calculateProperties():this.normal=this.w=void 0};a.Polygon.prototype.calculateProperties=function(){var a=this.vertices[0],c=this.vertices[2];this.normal=this.vertices[1].clone().subtract(a).cross(c.clone().subtract(a)).normalize();this.w=this.normal.clone().dot(a);return this};a.Polygon.prototype.clone=function(){var b,c,d=new a.Polygon;b=0;for(c=this.vertices.length;b<c;b++)d.vertices.push(this.vertices[b].clone());d.calculateProperties();return d};a.Polygon.prototype.flip=function(){var a,c=[];this.normal.multiplyScalar(-1);this.w*=-1;for(a=this.vertices.length-1;0<=a;a--)c.push(this.vertices[a]);this.vertices=c;return this};a.Polygon.prototype.classifyVertex=function(a){a=this.normal.dot(a)-this.w;return-1E-5>a?2:1E-5<a?1:0};a.Polygon.prototype.classifySide=function(a){var c, d,e=0,f=0,g=a.vertices.length;for(c=0;c<g;c++)d=a.vertices[c],d=this.classifyVertex(d),1===d?e++:2===d&&f++;return 0<e&&0===f?1:0===e&&0<f?2:0===e&&0===f?0:3};a.Polygon.prototype.splitPolygon=function(b,c,d,e,f){var g=this.classifySide(b);if(0===g)(0<this.normal.dot(b.normal)?c:d).push(b);else if(1===g)e.push(b);else if(2===g)f.push(b);else{for(var h,j,m,l,g=[],q=[],d=0,c=b.vertices.length;d<c;d++)h=(d+1)%c,l=b.vertices[d],h=b.vertices[h],j=this.classifyVertex(l),m=this.classifyVertex(h),2!=j&&g.push(l), 1!=j&&q.push(l),3===(j|m)&&(j=(this.w-this.normal.dot(l))/this.normal.dot(h.clone().subtract(l)),l=l.interpolate(h,j),g.push(l),q.push(l));3<=g.length&&e.push((new a.Polygon(g)).calculateProperties());3<=q.length&&f.push((new a.Polygon(q)).calculateProperties())}};a.Vertex=function(a,c,d){this.x=a;this.y=c;this.z=d};a.Vertex.prototype.clone=function(){return new a.Vertex(this.x,this.y,this.z)};a.Vertex.prototype.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};a.Vertex.prototype.subtract=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};a.Vertex.prototype.multiplyScalar=function(a){this.x*=a;this.y*=a;this.z*=a;return this};a.Vertex.prototype.cross=function(a){var c=this.x,d=this.y,e=this.z;this.x=d*a.z-e*a.y;this.y=e*a.x-c*a.z;this.z=c*a.y-d*a.x;return this};a.Vertex.prototype.normalize=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);this.x/=a;this.y/=a;this.z/=a;return this};a.Vertex.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*        a.z};a.Vertex.prototype.lerp=function(a,c){return this.add(a.clone().subtract(this).multiplyScalar(c))};a.Vertex.prototype.interpolate=function(a,c){return this.clone().lerp(a,c)};a.Node=function(b){var c,d,e=[],f=[];this.polygons=[];this.front=this.back=void 0;if(b instanceof Array&&0!==b.length){this.divider=b[0].clone();c=0;for(d=b.length;c<d;c++)this.divider.splitPolygon(b[c],this.polygons,this.polygons,e,f);0<e.length&&(this.front=new a.Node(e));0<f.length&&(this.back=new a.Node(f))}};a.Node.prototype.build=function(b){var c,d,e=[],f=[];this.divider||(this.divider=b[0].clone());c=0;for(d=b.length;c<d;c++)this.divider.splitPolygon(b[c],this.polygons,this.polygons,e,f);0<e.length&&(this.front||(this.front=new a.Node),this.front.build(e));0<f.length&&(this.back||(this.back=new a.Node),this.back.build(f))};a.Node.prototype.allPolygons=function(){var a=this.polygons.slice();this.front&&(a=a.concat(this.front.allPolygons()));this.back&&(a=a.concat(this.back.allPolygons()));return a};a.Node.prototype.clone=function(){var b=new a.Node;b.divider=this.divider.clone();b.polygons=this.polygons.map(function(a){return a.clone()});b.front=this.front&&this.front.clone();b.back=this.back&&this.back.clone();return b};a.Node.prototype.invert=function(){var a,c;a=0;for(c=this.polygons.length;a<c;a++)this.polygons[a].flip();this.divider.flip();this.front&&this.front.invert();this.back&&this.back.invert();a=this.front;this.front=this.back;this.back=a;return this};a.Node.prototype.clipPolygons=function(a){var c,d, e,f;if(!this.divider)return a.slice();e=[];f=[];c=0;for(d=a.length;c<d;c++)this.divider.splitPolygon(a[c],e,f,e,f);this.front&&(e=this.front.clipPolygons(e));f=this.back?this.back.clipPolygons(f):[];return e.concat(f)};a.Node.prototype.clipTo=function(a){this.polygons=a.clipPolygons(this.polygons);this.front&&this.front.clipTo(a);this.back&&this.back.clipTo(a)};return a}();(function(a,b){function c(a,b){return b?f(a&255)+c(a>>8,b-1):""}function d(a,b){return b?d(a>>8,b-1)+f(255-a&255):""}function e(a,c,d,f){var l=b.pow,q=b.floor,o=e.convertFromBinary,p=e.convertToBinary,r=a/8,n=l(2,a),s=n/2,w=s-1,v=1/s,u=1/w;return f?d?c?function(a,b){a=q(0>a?a*s+n:a*w);return p(a,r,b)}:function(a,b){return p(q(a*w),r,b)}:c?function(a,b){return p(0>a?a+n:a,r,b)}:function(a,b){return p(a,r,b)}:d?c?function(a,b){var c=o(a,b);return c>w?(c-n)*v:c*u}:function(a,b){return o(a,b)*u}:c?function(a, b){var c=o(a,b);return c>w?c-n:c}:function(a,b){return o(a,b)}}var f=String.fromCharCode;e.convertToBinary=function(a,b,e){return e?d(a,b):c(a,b)};e.convertFromBinary=function(a,c){var d=a.length,e=d-1,f=0,q=b.pow,o;if(c)for(o=0;o<d;o++)f+=(255-a.charCodeAt(o))*q(256,e-o);else for(o=0;o<d;o++)f+=a.charCodeAt(o)*q(256,o);return f};e.fromQ32=e(32,!0,!0,!0);e.toQ32=e(32,!0,!0,!1);e.fromQ24=e(24,!0,!0,!0);e.toQ24=e(24,!0,!0,!1);e.fromQ16=e(16,!0,!0,!0);e.toQ16=e(16,!0,!0,!1);e.fromQ8=e(8,!0,!0,!0);e.toQ8=e(8,!0,!0,!1);e.fromInt32=e(32,!0,!1,!0);e.toInt32=e(32,!0,!1,!1);e.fromInt16=e(16,!0,!1,!0);e.toInt16=e(16,!0,!1,!1);e.fromInt8=e(8,!0,!1,!0);e.toInt8=e(8,!0,!1,!1);e.fromUint32=e(32,!1,!1,!0);e.toUint32=e(32,!1,!1,!1);e.fromUint16=e(16,!1,!1,!0);e.toUint16=e(16,!1,!1,!1);e.fromUint8=e(8,!1,!1,!0);e.toUint8=e(8,!1,!1,!1);a.Binary=e})(this,Math);(function(a,b){function c(a){this.data=a}function d(a,b,c){var d=b/8;e["read"+a+b]=function(a){return c(this.read(d),a)}}var e=c.prototype={read:function(a){var b=this.data.substr(0,a);this.skip(a);return b},skip:function(a){var b=this.data=this.data.substr(a);this.pointer+=a;return b.length},readBuffer:function(a,b,c){for(var b="read"+c+b,c=a.length,d=0;this.data&&d<c;)a[d++]=this[b]();return d}},f,g;for(f in b)(g=/to([a-z]+)([0-9]+)/i.exec(f))&&d(g[1],g[2],b[f]);a.Stream=c;c.newType=d})(this,this.Binary);this.PCMData=function(a,b){function c(a){return("string"===typeof a?c.decode:c.encode)(a)}c.decodeFrame=function(a,c,f){if(8===c){var g=new (window.Uint8Array||Array)(f.length);(new b(a)).readBuffer(g,8,"Uint");for(c=0;c<f.length;c++)f[c]=127.5*(g[c]-127.5)}else(new b(a)).readBuffer(f,c,"Q");return f};c.encodeFrame=function(b,c){var f=a[(8===c?"fromUint":"fromQ")+c],g=b.length,h="",j;if(8===c)for(j=0;j<g;j++)h+=f(127.5*b[j]+127.5);else for(j=0;j<g;j++)h+=f(b[j]);return h};c.decode=function(a,e){function f(){o=g.read(4);p=g.readUint32();n=g.read(p);w=v[o]=v[o]||[];"data"===o?(r=~~(p/q),s=u.data=new ("undefined"!==typeof Float32Array?Float32Array:Array)(r),c.decodeFrame(n,8*q,s)):w.push(n);e&&(g.data?setTimeout(f,1):e(u))}var g=new b(a);g.read(4);var h=g.readUint32(),g=new b(g.read(h));g.read(4);g.read(4);h=g.readUint32();h=new b(g.read(h));h.readUint16();var j=h.readUint16();h.readUint32();var m=h.readUint32(),l=h.readUint16(),q=l/j;h.readUint16();var o,p,r,n,s,w,v={},u={channelCount:j,bytesPerSample:l/        j,sampleRate:m/l,chunks:v,data:s};if(e)g.data?f():e(u);else for(;g.data;)f();return u};c.encode=function(b,e){var f=a.fromUint32,g=a.fromUint16,h=b.data,j=b.sampleRate,m=b.channelCount||1,l=b.bytesPerSample||1,q=8*l,o=m*l,p=j*o,r=h.length*l;Math.pow(2,q-1);var n=[],l="",s;n.push("fmt "+f(16)+g(1)+g(m)+f(j)+f(p)+g(o)+g(q));n.push("data"+f(r)+c.encodeFrame(h,q));if(j=b.chunks)for(s in j)if(j.hasOwnProperty(s)){g=j[s];for(h=0;h<g.length;h++)l=g[h],n.push(s+f(l.length)+l)}n=n.join("");n="RIFF"+f(n.length)+        "WAVE"+n;e&&setTimeout(function(){e(n)},1);return n};return c}(this.Binary,this.Stream);DEBUG=!1;ORIGO=new THREE.Vector3(0,0,0);cameraMovementDone=!0;TEXTS="HONEYCOMB BY NINJADEV;(OUR FIRST DEMO EVER :3);IT HAS A SYNTH, SOME 3D OBJECTS, SOME SCANLINES, AND A CRAPPILY CONTROLLED CAMERA;WE REALLY ONLY KNOW 2D, SO WE BUILT A SCREEN FOR 2D EFFECTS;SO WE COULD ROTATE A CUBE;AND ROTATE AROUND THAT CUBE;ANYWAY, THANK YOU FOR A NICE PARTY :)".split(";");note_midicallback=function(){};active_scene=0;SCENES=[new Scene(function(){updateHexagonGrid();lyte.update();osd.update();cameratarget!=ORIGO&&(cameratarget=ORIGO)},function(){},function(){}),new Scene(function(){updateHexagonGrid();lyte.update();osd.update()},function(){},function(){cameratarget=lyte.lyte.position;osd.show(TEXTS[1])}),new Scene(function(){updateHexagonGrid();camera.position.x=200*Math.sin(t/4E4);camera.position.z=200*Math.cos(t/4E4);camera.position.y-=0.2;lyte.update();osd.update()},function(){},function(){cameratarget=ORIGO;osd.show(TEXTS[2])}),new Scene(function(){updateHexagonGrid();for(var a=0;a<side;a++)for(var b=0;b<side;b++){var c=t,c=0<Math.sin(a/2+c)+Math.cos(b/2+2*c);cubes[a*side+b].mesh.material=materials[+c]}lyte.update();osd.update()},function(){},function(){cameratarget=ORIGO;newCameraMovement(4E5,1,300,0);osd.show(TEXTS[3])}),new Scene(function(){updateHexagonGrid();kewbe.update();osd.update();lyte.update()},function(){kewbe.render()},function(){cameratarget=ORIGO;osd.show(TEXTS[4])}),new Scene(function(){updateHexagonGrid();kewbe.update();osd.update();lyte.update();camera.position.x=440*Math.sin(t/30307);camera.position.y=440*Math.cos(t/46020);camera.position.z=440*Math.sin(t/63001)},function(){kewbe.render()},function(){cameratarget=ORIGO;osd.show(TEXTS[5]);note_midicallback=function(){}}),new Scene(function(){someRandomHexagonGridEffect();camera.position.y-=0.2;osd.update();lyte.update()},function(){},function(){cameratarget=ORIGO;camera.position.y=300;osd.show(TEXTS[6])}),new Scene(function(){someRandomHexagonGridEffect();camera.position.y-=0.2;osd.update();lyte.update()},function(){},function(){fadeOut(352800,function(){now.we.crash.the.demo.because.it.is.the.fastest.way.to.stop(":D")})})];STIAJE={data:"RBYDXCDBCDCCBCBCBCBCBJBCBCBCBCBCBCBCCCBCBCBCBCBCBDCEBCBCBFBCBDBDCDBCBCBCBCBCCCBBBDECBCEICFBFBCCDCBFDDBDCF",w:25,h:11};IVERJO={data:"TB\\D[CLBFBDBBCBCDBCCBFBEBCBCBCBHBCBCBCBBBCBCBCBCBEBCBCBDCCBCBCBCBEBCBCBDCECCBCBEBCBCBCDCBCECBEBCBCBEBCBCBCBHBCBCCDBFBCCDRBL",w:28,h:12};function smoothstep(a,b,c){c=c*c*(3-2*c);return b*c+a*(1-c)}function lerp(a,b,c){return b*c+a*(1-c)}function drawImage(a,b,c){for(var d=b+1,e=!1,f=0;f<a.data.length;f++){for(var g=a.data.charCodeAt(f)-65;0<g--;)if(e&&(cubes[(side-d-1)*side+c].mesh.position.y=25+5*Math.sin(d/4+t/4E3)),cubes[(side-d-1)*side+c].mesh.material=materials[+e],d++,d>b+a.w)d=b+1,c++;e=!e}}function newCameraMovement(a,b,c,d,e,f,g,h,j,m){cameraMovementDone=!1;deepCopy3DObject(camera,startcamera);startcamera.time=t;goalcamera.position.x=b;goalcamera.position.y=c;goalcamera.position.z=d;goalcamera.rotation.x=e;goalcamera.rotation.y=f;goalcamera.rotation.z=g;cameratarget.x=h||0;cameratarget.y=j||0;cameratarget.z=m||0;goalcamera.time=t+a}function deepCopy3DObject(a,b){b.position.x=a.position.x;b.position.y=a.position.y;b.position.z=a.position.z;b.rotation.x=a.rotation.x;b.rotation.y=a.rotation.y;b.rotation.z=a.rotation.z}function update(){if(!cameraMovementDone){var a=(t-startcamera.time)/(goalcamera.time-startcamera.time);0<=a&&1>a?(camera.position.x=smoothstep(startcamera.position.x,goalcamera.position.x,a),camera.position.y=smoothstep(startcamera.position.y,goalcamera.position.y,a),camera.position.z=smoothstep(startcamera.position.z,goalcamera.position.z,a),camera.rotation.x=smoothstep(startcamera.rotation.x,goalcamera.rotation.x,a),camera.rotation.y=smoothstep(startcamera.rotation.y,goalcamera.rotation.y,a),camera.rotation.z=smoothstep(startcamera.rotation.z,goalcamera.rotation.z,a)):(deepCopy3DObject(goalcamera,camera),cameraMovementDone=!0)}light.position.x=-camera.position.x;light.position.y=camera.position.y;light.position.z=-camera.position.z;SCENES[active_scene].update()}function updateHexagonGrid(){for(var a=0;a<side*side;a++)cubes[a].update();for(var a=t/1E4,b=0;b<side;b++)for(var c=0;c<side;c++)cubes[b*side+c].mesh.position.x=(b-side/2)*x_spacing,cubes[b*side+c].mesh.position.y=10*+(Math.sin(a+b/3)+Math.cos(a+c/5)),cubes[b*side+c].mesh.position.z=b%2*z_spacing/2+(c-side/2)*z_spacing}function someRandomHexagonGridEffect(){for(var a=0;a<side*side;a++)cubes[a].update();for(var a=t/1E4,b=0;b<side;b++)for(var c=0;c<side;c++)cubes[b*side+c].mesh.position.x=2*(Math.cos(c)*b)*(Math.sin(b+a)+Math.cos(c)),cubes[b*side+c].mesh.position.z=2*(Math.sin(b)*c)*(Math.cos(c)+Math.sin(b+a)),cubes[b*side+c].mesh.position.y=2*(Math.cos(b)*c)*(Math.cos(c)+Math.sin(b+a));camera.position.x=Math.cos(t/1E5)+Math.sin(t/1E4);camera.position.z=Math.cos(t/1E5)-Math.sin(t/1E4);drawImage(STIAJE,2,15)}function OSD(){this.text="Honeycomb by Ninjadev";this.boxstart=GU;this.boxwidth=4*GU;this.textlength=this.t=0;this.opacity=1;this.idealtextlength=21}OSD.prototype.render=function(){tdx.fillStyle="rgba(0,0,0,"+this.opacity/2+")";tdx.fillRect(this.boxstart*GU,7*GU,GU*this.boxwidth*Math.sqrt(this.text.length/this.idealtextlength),GU);tdx.fillStyle="rgba(255,255,255,"+this.opacity+")";tdx.fillText(this.text.substring(0,this.textlength),GU*(this.boxstart+0.25),7.25*GU)};OSD.prototype.show=function(a){this.text=a;this.t=0;this.boxstart=1;this.boxwidth=4;this.textlength=0;this.opacity=1};OSD.prototype.update=function(){100>=this.t&&(this.boxstart=smoothstep(0,1,this.t/100),this.boxwidth=smoothstep(0,4*Math.sqrt(this.text.length/this.idealtextlength),Math.min(this.t/50,1)));50<this.t&&150>=this.t?this.textlength=0|smoothstep(0,this.text.length,Math.min((this.t-50)/10,1))+1:this.t>200*this.text.length/this.idealtextlength&&(this.opacity=smoothstep(1,0,Math.min((this.t-200)/50,1)));this.t++};function render(){tdx.clearRect(0,0,twoDCanvas.width,twoDCanvas.height);osd.render();t<fadeGoalTime?(tdx.fillStyle="rgba(0,0,0,"+lerp(fadeStart,fadeGoal,(t-fadeStartTime)/(fadeGoalTime-fadeStartTime))+")",tdx.fillRect(0,0,16*GU,9*GU)):0!=fadeGoalTime&&(tdx.fillStyle="rgba(0,0,0,"+fadeGoal+")",tdx.fillRect(0,0,16*GU,9*GU),fadeGoalTime=0,(fadeGoal=fadeFn)&&fadeFn());SCENES[active_scene].render();camera.lookAt(cameratarget);renderer.render(scene,camera)}function Scene(a,b,c){this.update=a;this.render=b;this.onenter=c}function vtv(a,b){for(var c=0;1>=c;c+=0.05){var d=lerp(a.intensity,b.intensity,c),e=0|lerp(a.hexx,b.hexx,c),f=0|lerp(a.hexy,b.hexy,c);e<side&&0<=e&&(f<side&&0<=f)&&cubes[e*side+f].punch(d)}}function init(){setLoadingBar(0,function(){var a;a=atob("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");midi=new Midi(a);setLoadingBar(0.2,function(){mixer=new Mixer;setLoadingBar(0.4,function(){setLoadingBar(0.4,function(){camera=new THREE.PerspectiveCamera(45,16/9,0.1,1E4);camera.position.y=200;startcamera=new THREE.PerspectiveCamera(45,16/9,0.1,1E4);startcamera.time=0;goalcamera=new THREE.PerspectiveCamera(45,16/9,0.1,1E4);goalcamera.time=0;cameratarget=new THREE.Vector3(0,0,0);setLoadingBar(0.5,function(){scene=new THREE.Scene;setLoadingBar(0.6,function(){scene.add(camera);cubes=[];side=32;x_spacing=8.045;z_spacing=9.226;osd=new OSD;setLoadingBar(0.7,function(){materials=[new THREE.MeshLambertMaterial({color:15251567,blending:THREE.AdditiveBlending,transparent:!0}),new THREE.MeshLambertMaterial({color:15251567,blending:THREE.AdditiveBlending,transparent:!1})];geometry=createHexagonGeometry(10,-10);for(var a=0;a<side;a++)for(var c=0;c<side;c++)cubes[a*side+c]=new Hexagon((a-side/2)*x_spacing,0,a%2*z_spacing/2+(c-side/2)*z_spacing),scene.add(cubes[a*side+c].mesh);light=new THREE.SpotLight;light.intensity=0.5;scene.add(light);setLoadingBar(0.8,function(){kewbe=new Kewbe;lyte=new Lyte(0,200,0);setLoadingBar(0.9,function(){skybox=createSkybox("");scene.add(skybox);setLoadingBar(1,function(){cameraskip=!1;midi.add_callback(function(a){mixer.handle_event(a)});midi.add_callback(function(a){13==a.midi_channel&&9==a.type&&(active_scene++,SCENES[active_scene].onenter())});midi.add_callback(function(a){14==a.midi_channel&&osd.show(TEXTS[a.midi_number])});fadeGoal=fadeStart=fadeGoalTime=fadeStartTime=0;fadeFn=void 0;fadeIn(1E5);resize();mixer.start()})})})})})})})})})})}function fadeIn(a){fadeStartTime=t;fadeGoalTime=t+a;fadeStart=1;fadeGoal=0}function fadeOut(a,b){fadeStartTime=t;fadeGoalTime=t+a;fadeStart=0;fadeGoal=1;fadeFn=b}function createSkybox(a){var a=THREE.ImageUtils.loadTextureCube([a+"posx.png",a+"posx.png",a+"posx.png",a+"posx.png",a+"posx.png",a+"posx.png"]),b=THREE.ShaderUtils.lib.cube;b.uniforms.tCube.texture=a;a=new THREE.ShaderMaterial({fragmentShader:b.fragmentShader,vertexShader:b.vertexShader,uniforms:b.uniforms});a=new THREE.Mesh(new THREE.CubeGeometry(1E4,1E4,1E4),a);a.flipSided=!0;return a}function Hexagon(a,b,c){this.mesh=new THREE.Mesh(geometry,materials[0]);this.mesh.position.x=a;this.mesh.position.y=b;this.mesh.position.z=c}Hexagon.prototype.punch=function(a){this.mesh.position.y=10*a;this.mesh.material=materials[+!!a]};Hexagon.prototype.update=function(){this.mesh.material=materials[0]};function createHexagonGeometry(a,b){var c=new THREE.Geometry;c.vertices.push(new THREE.Vector3(-5,a,0));c.vertices.push(new THREE.Vector3(-2.545,a,-4.363));c.vertices.push(new THREE.Vector3(2.545,a,-4.363));c.vertices.push(new THREE.Vector3(5,a,0));c.vertices.push(new THREE.Vector3(2.545,a,4.363));c.vertices.push(new THREE.Vector3(-2.545,a,4.363));c.vertices.push(new THREE.Vector3(-5,b,0));c.vertices.push(new THREE.Vector3(-2.545,b,-4.363));c.vertices.push(new THREE.Vector3(2.545,b,-4.363));c.vertices.push(new THREE.Vector3(5, b,0));c.vertices.push(new THREE.Vector3(2.545,b,4.363));c.vertices.push(new THREE.Vector3(-2.545,b,4.363));c.faces.push(new THREE.Face3(0,5,1));c.faces.push(new THREE.Face4(1,5,4,2));c.faces.push(new THREE.Face3(2,4,3));c.faces.push(new THREE.Face3(6,7,11));c.faces.push(new THREE.Face4(7,8,10,11));c.faces.push(new THREE.Face3(8,9,10));c.faces.push(new THREE.Face4(0,1,7,6));c.faces.push(new THREE.Face4(1,2,8,7));c.faces.push(new THREE.Face4(2,3,9,8));c.faces.push(new THREE.Face4(3,4,10,9));c.faces.push(new THREE.Face4(4, 5,11,10));c.faces.push(new THREE.Face4(5,0,6,11));c.computeFaceNormals(!1);return c}function Kewbe(){this.scaler=256;this.points=[{x:100,y:100,z:100},{x:100,y:100,z:-100},{x:100,y:-100,z:100},{x:100,y:-100,z:-100},{x:-100,y:100,z:100},{x:-100,y:100,z:-100},{x:-100,y:-100,z:100},{x:-100,y:-100,z:-100}];this.flat=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}]}Kewbe.prototype.update=function(){for(var a=0;a<this.points.length;a++)this.points[a]=this.rotate({axis:"y",point:this.points[a],angle:0.017}),this.points[a]=this.rotate({axis:"z",point:this.points[a],angle:0.01}),this.points[a]=this.rotate({axis:"x",point:this.points[a],angle:0.004})};Kewbe.prototype.rotate=function(a){var b={x:0,y:0,z:0};"x"==a.axis?(b.x=a.point.x,b.y=Math.cos(a.angle)*a.point.y-Math.sin(a.angle)*a.point.z,b.z=Math.sin(a.angle)*a.point.y+Math.cos(a.angle)*a.point.z):"y"==a.axis?(b.x=Math.cos(a.angle)*a.point.x+Math.sin(a.angle)*a.point.z,b.y=a.point.y,b.z=-Math.sin(a.angle)*a.point.x+Math.cos(a.angle)*a.point.z):"z"==a.axis&&(b.x=Math.cos(a.angle)*a.point.x-Math.sin(a.angle)*a.point.y,b.y=Math.sin(a.angle)*a.point.x+Math.cos(a.angle)*a.point.y,b.z=a.point.z);return b};Kewbe.prototype.render=function(){for(var a=0;a<this.points.length;a++){var b=-300/(this.points[a].z-250);this.flat[a].x=this.points[a].x*b;this.flat[a].y=this.points[a].y*b;this.flat[a].hexx=0|side*(this.scaler+this.flat[a].x)/(2*this.scaler);this.flat[a].hexy=0|side*(this.scaler+this.flat[a].y)/(2*this.scaler);this.flat[a].intensity=(this.points[a].z+this.scaler)/(2*this.scaler)}vtv(this.flat[0],this.flat[1]);vtv(this.flat[0],this.flat[2]);vtv(this.flat[0],this.flat[4]);vtv(this.flat[1],this.flat[5]);vtv(this.flat[1],this.flat[3]);vtv(this.flat[2],this.flat[3]);vtv(this.flat[2],this.flat[6]);vtv(this.flat[3],this.flat[7]);vtv(this.flat[4],this.flat[5]);vtv(this.flat[4],this.flat[6]);vtv(this.flat[5],this.flat[7]);vtv(this.flat[6],this.flat[7])};function Lyte(a,b,c){this.planes=[];this.w=160;this.h=16;this.x=+(a||0);this.y=+(b||0);this.z=+(c||0);this.number_of_planes=6;this.number_of_rays=3;this.rotation=new THREE.Vector3(0,0,0);this.lyte=new THREE.Object3D(0,0,0);this.lyte.position.set(this.x,this.y,this.z);this.rays=[];for(a=0;a<this.number_of_rays;a++){this.rays[a]=new THREE.Object3D(0,0,0);this.rays[a].planes=[];for(b=0;b<this.number_of_planes;b++)this.rays[a].planes.push(new THREE.Mesh(new THREE.PlaneGeometry(this.w,this.h,1,1),new THREE.MeshBasicMaterial({map:this.get_texture(this.w, this.h,this.number_of_planes),transparent:!0,blending:THREE.AdditiveBlending,overdraw:!1}))),this.rays[a].planes[b].rotation.x=2*b*Math.PI/this.number_of_planes,this.rays[a].planes[b].position.x=0,this.rays[a].planes[b].position.y=-0.5*this.h*Math.sin(2*b*Math.PI/this.number_of_planes),this.rays[a].planes[b].position.z=0.5*this.h*Math.cos(2*b*Math.PI/this.number_of_planes),this.rays[a].planes[b].doubleSided=!0,this.rays[a].add(this.rays[a].planes[b]),this.lyte.add(this.rays[b]);this.rays[a].lightanchor=new THREE.Object3D;this.rays[a].lightanchor2=new THREE.Object3D;this.rays[a].lightanchor.position.set(1,1,0);this.rays[a].lightanchor2.position.set(-1,1,0);this.rays[a].add(this.rays[a].lightanchor);this.rays[a].add(this.rays[a].lightanchor2);this.rays[a].light=new THREE.SpotLight(16777096);this.rays[a].light.castShadow=!0;this.rays[a].add(this.rays[a].light);this.rays[a].light2=new THREE.SpotLight(268435336);this.rays[a].light2.castShadow=!0;this.rays[a].add(this.rays[a].light2)}this.rays[0].rotation.y=0;this.rays[0].rotation.x=0;this.rays[0].rotation.z=0;this.rays[1].rotation.y=Math.PI/2;this.rays[1].rotation.x=0;this.rays[1].rotation.z=0;this.rays[2].rotation.y=0;this.rays[2].rotation.x=0;this.rays[2].rotation.z=Math.PI/2;this.ballGeometry=new THREE.SphereGeometry(this.h/2,32,16);this.ball=new THREE.Mesh(this.ballGeometry,new THREE.MeshBasicMaterial(16777215));this.lyte.add(this.ball);var a=new THREE.CubeGeometry(2*this.h,2*this.h,2*this.h),a=new THREE.Mesh(a),a=new ThreeBSP(a),b=new THREE.SphereGeometry(1.15*        this.h,32,32),b=new THREE.Mesh(b),b=new ThreeBSP(b),c=new THREE.SphereGeometry(1.3*this.h,32,32),c=new THREE.Mesh(c),d=new THREE.SphereGeometry(2.2*this.h,32,32),d=new THREE.Mesh(d),c=(new ThreeBSP(d)).subtract(new ThreeBSP(c));lyte_shell=a.subtract(b).subtract(c);a=lyte_shell.toGeometry();this.lyte.add(new THREE.Mesh(a,new THREE.MeshLambertMaterial({color:13421772})));scene.add(this.lyte)}Lyte.prototype.setIntensity=function(a){for(var b=0;b<this.number_of_rays;b++){this.rays[b].light.intensity=a;this.rays[b].light2.intensity=a;for(var c=0;c<this.number_of_planes;c++)this.rays[b].planes[c].material.color.r=a,this.rays[b].planes[c].material.color.g=a,this.rays[b].planes[c].material.color.b=a}this.ball.material.color.r=a;this.ball.material.color.g=a;this.ball.material.color.b=a};Lyte.prototype.update=function(){var a=44100*(midi.ticks_per_beat/midi.ticks_per_second);this.setIntensity(1-t%a/a);this.lyte.position.x=12*Math.sin(t/3E4)*side;this.lyte.position.y=12*Math.cos(t/4E4)*side;this.lyte.position.z=12*Math.cos(t/5E4)*side;this.lyte.rotation.x+=0.034;this.lyte.rotation.z+=0.038;this.lyte.rotation.y+=0.046;for(a=0;a<this.number_of_rays;a++)this.rays[a].light.target=this.rays[a].lightanchor,this.rays[a].light2.target=this.rays[a].lightanchor2};Lyte.prototype.render=function(){};Lyte.prototype.get_texture=function(a,b,c){var d=Lyte.prototype,e;if(!(e=Lyte.prototype._texture)){e=document.createElement("canvas");e.width=a;e.height=b;for(var f=e.getContext("2d"),g=f.getImageData(0,0,e.width,e.height),h=g.data,j=0,m=0,l=0;l<h.length;l+=4)h[l]=255,h[l+1]=255,h[l+2]=192,h[l+3]=255*((b-(m+1))/b)*(a-Math.abs(a-2*(1+j)))/a/c,j++,j>=a&&(j=0,m++);f.putImageData(g,0,0);a=new THREE.Texture(e);a.needsUpdate=!0;e=a}return d._texture=e};FRAME_LENGTH=882;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,0)}}();function loop(){dt+=t-old_time;for(old_time=t;dt>FRAME_LENGTH;)update(),dt-=FRAME_LENGTH;render();requestAnimFrame(loop)}function start(){dt=old_time=time=0;init()}function setLoadingBar(a,b){tdx.fillStyle="white";tdx.fillRect(0,0,16*GU,9*GU);tdx.fillStyle="black";tdx.fillRect(GU,4.25*GU,14*GU*a,0.5*GU);console.log("LOADING",a);setTimeout(function(){b();1==a&&(tdx.clearRect(0,0,16*GU,9*GU),requestAnimFrame(loop))},0)}function bootstrap(){document.body.webkitRequestFullScreen();document.addEventListener("keydown",function(a){27==a.keyCode&&(window.open("","_self",""),window.close())});renderer=new THREE.WebGLRenderer({maxLights:10,antialias:!0});twoDCanvas=document.createElement("canvas");twoDCanvas.style.position="absolute";twoDCanvas.style.left="0";twoDCanvas.style.zIndex="9999";twoDCanvas.style.background="transparent";tdx=twoDCanvas.getContext("2d");scanlinecanvas=document.createElement("canvas");scanlinecanvas.style.position="absolute";scanlinecanvas.style.left="0";scanlinecanvas.style.zIndex="999";scanlinecanvas.style.background="transparent";slx=scanlinecanvas.getContext("2d");resize();document.body.appendChild(renderer.domElement);document.body.appendChild(scanlinecanvas);document.body.appendChild(twoDCanvas);setTimeout(start,0)}function resize(){GU=window.innerWidth/window.innerHeight>16/9?window.innerHeight/9:window.innerWidth/16;renderer.setSize(16*GU,9*GU);renderer.domElement.style.margin=(window.innerHeight-9*GU)/2+"px 0 0 "+(window.innerWidth-16*GU)/2+"px";twoDCanvas.width=16*GU;twoDCanvas.height=9*GU;twoDCanvas.style.margin=(window.innerHeight-9*GU)/2+"px 0 0 "+(window.innerWidth-16*GU)/2+"px";tdx.font=GU/3+"pt BebasNeue";tdx.textBaseline="top";scanlinecanvas.width=16*GU;scanlinecanvas.height=9*GU;scanlinecanvas.style.margin=(window.innerHeight-9*GU)/2+"px 0 0 "+(window.innerWidth-16*GU)/2+"px";slx.fillStyle="rgba(0,0,0,0.05)";for(var a=0;9>a;a++)slx.fillRect(0,a*GU+0*GU,16*GU,0.05*GU),slx.fillRect(0,a*GU+0.1*GU,16*GU,0.05*GU),slx.fillRect(0,a*GU+0.2*GU,16*GU,0.05*GU),slx.fillRect(0,a*GU+0.3*GU,16*GU,0.05*GU),slx.fillRect(0,a*GU+0.4*GU,16*GU,0.05*GU),slx.fillRect(0,a*GU+0.5*GU,16*GU,0.05*GU),slx.fillRect(0,a*GU+0.6*GU,16*GU,0.05*GU),slx.fillRect(0,a*GU+0.7*GU,16*GU,0.05*GU),slx.fillRect(0,a*GU+0.8*GU,16*GU,0.05*GU),slx.fillRect(0, a*GU+0.9*GU,16*GU,0.05*GU)}window.onresize=resize;function Track(a,b){this.midi=b;this.data=a;this.events=[];this.tracker=0;this.active=!0;this.dt=this.player_tracker=0;for(var c;this.tracker<a.length;){var d={};d.dt=this.read_vlf();var e=this.read_byte();d.type=(e&240)>>4;8>d.type&&(e=c,d.type=(e&240)>>4,this.tracker--);switch(d.type){case 8:d.midi_channel=e&15;d.note_number=this.read_byte();d.velocity=this.read_byte();break;case 9:d.midi_channel=e&15;d.note_number=this.read_byte();d.velocity=this.read_byte();0==d.velocity&&(d.type=8);break;case 14:d.midi_channel=e&15;c=this.read_byte()&127;c|=(this.read_byte()&127)<<7;d.value=c;break;case 10:this.read_word();break;case 11:this.read_word();break;case 12:this.read_byte();break;case 13:this.read_byte();break;case 15:switch(d.meta_type=this.read_byte(),c=this.read_vlf(),d.meta_type){case 81:c=this.read_byte();c=c<<8|this.read_byte();c=c<<8|this.read_byte();d.microseconds_per_quaver=c;break;default:for(;0<c--;)this.read_byte()}}c=d.status;this.events.push(d)}for(d=0;d<this.events.length;d++)if(c=this.events[d], 9==c.type||8==c.type){for(var e=c.note_number+","+c.midi_channel,f=0,g=d+1;g<this.events.length;g++){var h=this.events[g],f=f+h.dt;if(e==h.note_number+","+c.midi_channel)break}c.time_to_next_sameevent=f}delete this.data;delete this.tracker}function Midi(a){this.data=a;this.tracker=10;this.tracks=[];this.callbacks=[];this.tracks.length=this.read_word();this.time_division=this.read_word();this.time_division&32768?this.ticks_per_second=(this.time_division&32767)*(this.time_division&255):(this.ticks_per_beat=this.time_division&32767,this.ticks_per_second=2*this.ticks_per_beat);for(a=0;a<this.tracks.length;a++){this.read_dword();var b=this.read_dword();this.tracks[a]=new Track(this.data.slice(this.tracker,this.tracker+b),this);this.tracker+=b}delete this.data;delete this.tracker;var c=this;this.add_callback(function(a){15==a.type&&81==a.meta_type&&c.set_microseconds_per_quaver(a.microseconds_per_quaver)})}Midi.prototype.read_byte=read_byte;Midi.prototype.read_word=read_word;Midi.prototype.read_dword=read_dword;Midi.prototype.read_vlf=read_vlf;Midi.prototype.set_microseconds_per_quaver=function(a){this.ticks_per_second=this.ticks_per_beat/(a/1E6)};Midi.prototype.add_callback=function(a){this.callbacks.push(a)};Midi.prototype.remove_callback=function(a){for(var b in this.callbacks)if(a[b]==a){this.callbacks.remove(b);break}};Midi.prototype.play_forward=function(a){for(var a=0.001*a*this.ticks_per_second,b=0;b<this.tracks.length;b++)this.tracks[b].play_forward(a)};Track.prototype.play_forward=function(a){if(this.active)for(this.dt-=a;0>=this.dt;)if(this.midi.fire_event(this.events[this.player_tracker]),this.player_tracker++,this.player_tracker<this.events.length)this.dt+=this.events[this.player_tracker].dt;else{this.active=!1;break}};Midi.prototype.fire_event=function(a){for(var b=0;b<this.callbacks.length;b++)this.callbacks[b](a)};Track.prototype.read_byte=read_byte;Track.prototype.read_word=read_word;Track.prototype.read_dword=read_dword;Track.prototype.read_vlf=read_vlf;function read_byte(){return this.data[this.tracker++].charCodeAt()}function read_word(){return this.read_byte()<<8|this.read_byte()}function read_dword(){var a=this.read_byte(),a=a<<8|this.read_byte(),a=a<<8|this.read_byte();return a<<8|this.read_byte()}function read_vlf(){for(var a=0,b=this.read_byte();b&128;)b&=127,a<<=7,a|=b,b=this.read_byte();return a<<7|b}Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);this.length=0>a?this.length+a:a;return this.push.apply(this,c)};play_forward_trigger=t=0;function Mixer(){this.ax=new webkitAudioContext;this.jsnode=this.ax.createJavaScriptNode(4096,1,2);this.velocity=this.note_number=0;var a=this;this.jsnode.onaudioprocess=function(b){a.process(b)};this.process=function(a){for(var b=a.outputBuffer.getChannelData(0),a=a.outputBuffer.getChannelData(1),c=0;c<b.length;c++){play_forward_trigger++;44==play_forward_trigger&&(midi.play_forward(1),play_forward_trigger=0);for(var d=b[c]=0;d<this.instruments.length;d++)b[c]+=this.instruments[d].generate(t);3357333<        t&&(b[c]*=Math.max(0,1-(t-3357333)/352800));a[c]=b[c];t++}};this.instruments=[];for(var b=0;14>b;b++)this.instruments[b]=new Instrument(b),this.instruments[b].generate=instruments(b);this.handle_event=function(a){9==a.type?this.instruments[a.midi_channel].note_on(a.note_number,a.velocity):8==a.type&&this.instruments[a.midi_channel].note_off(a.note_number)};this.analyser=this.ax.createAnalyser();this.analyser.fftSize=1024;this.convolver=this.ax.createConvolver();this.gainNode=this.ax.createGainNode();for(var c=this.ax.createBuffer(2,132330,44110),d=c.getChannelData(0),e=c.getChannelData(1),b=0;1E4>b;b++)d[b]=2*Math.random()-1,e[b]=2*Math.random()-1;for(b=1E4;b<c.length;b++)d[b]=(2*Math.random()-1)/(b/1E4),e[b]=(2*Math.random()-1)/(b/1E4);this.convolver.buffer=c;this.convolver.connect(this.analyser);this.analyser.connect(this.gainNode);this.gainNode.connect(this.ax.destination);this.gainNode.gain.value=1;this.setVolume=function(a){this.gainNode.gain.value=a}}Mixer.prototype.start=function(){this.jsnode.connect(this.gainNode);this.jsnode.connect(this.convolver);this.jsnode.connect(this.analyser)};function Instrument(a){this.channel=a;this.note_pool=[];this.num_active_notes=0;this.adsr=getAdsr(a);this.MAXPOLY=20;for(a=0;a<this.MAXPOLY;a++)this.note_pool[a]={note_number:0,velocity:0,tStarted:0,tEnded:-1,amplitude:0};this.note_on=function(a,c){this.num_active_notes!=this.MAXPOLY&&(this.note_pool[this.num_active_notes].note_number=a,this.note_pool[this.num_active_notes].velocity=c,this.note_pool[this.num_active_notes].tStarted=t,this.note_pool[this.num_active_notes].tEnded=-1,this.note_pool[this.num_active_notes].amplitude=1,this.num_active_notes++)};this.note_off=function(a){for(var c=0;c<this.num_active_notes;c++)a==this.note_pool[c].note_number&&(this.note_pool[c].tEnded=t)};this.generate=function(){return 0};this._note_off=function(a){this.num_active_notes--;this.note_pool[a].note_number=this.note_pool[this.num_active_notes].note_number;this.note_pool[a].velocity=this.note_pool[this.num_active_notes].velocity;this.note_pool[a].tStarted=this.note_pool[this.num_active_notes].tStarted;this.note_pool[a].tEnded=this.note_pool[this.num_active_notes].tEnded;this.note_pool[a].amplitude=this.note_pool[this.num_active_notes].amplitude};this.envelope=function(a){if(-1!=this.note_pool[a].tEnded){var c=t-this.note_pool[a].tEnded;return c>this.adsr.r?(this._note_off(a),!1):Math.max(this.adsr.s*(1-c/this.adsr.r),0)}a=t-this.note_pool[a].tStarted;return a>this.adsr.a?Math.max(1-(a-this.adsr.a)/this.adsr.d,this.adsr.s):a/this.adsr.a}}RATE=44100;RATE_RECIPROCAL=1/RATE;A=0.16/127;A3=0.48/127;note2freq=Array(128);for(var i=0;128>i;i++)note2freq[i]=220*Math.pow(2,(i-57)/12);sin_table=Array(128);for(i=0;128>i;i++)sin_table[i]=Math.sin(0.015625*Math.PI*i);saw_table=Array(128);for(i=0;128>i;i++)saw_table[i]=0.015625*(64-i);rounded_saw_table="UklGRnwDAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAATElTVC4AAABJTkZPSVNGVCIAAABGTCBTdHVkaW8gMTAgKGxpYnNuZGZpbGUtMS4wLjE4KQAAZGF0YSIDAACbhwWkg70E1LznWvnyCL4WyiKULSQ3dz/5RotNbVOPWBldIWGyZNhnoGodbUxvNHHscnB0w3XxdgF463i+eXZ6GXuseyl8nHz/fFt9pn3tfSh+YH6Pfrp+4H7+fiF/NX9Rf2B/eH+Ef5R/n3+rf7V/vH/Gf8p/03/Vf9x/33/lf+Z/6X/sf+5/8X/yf/N/83/3f/d/+H/3f/t/+H/+f/d//3/5f/5//H/6f/9/+n//f/p//3/7f/9//n//f/1//3/+f/5//3/+f/9//n//f/x//3/8f/9//n//f/5//3/+f/5//3/9f/9//H//f/x//3/8f/9//n/+f/9//H//f/9//X//f/p//3/5f/9//X/+f/9//H//f/9//X//f/1//3//f/5//3//f/9//X//f/5//3//f/x//3/9f/9//X//f/x//3/9f/9//X//f/x//3/9f/9//3/9f/9//3/+f/9//3/9f/9//X//f/5//3/9f/9//3/+f/9//3//f/9//X//f/5//3/+f/9//X//f/9//n//f/x//3/9f/9//H//f/5//3/9f/9//n//f/9//3//f/9//3//f/9//3//f/1//3/9f/9//n//f/9//H//f/t//3/8f/9//3//f/9//n//f/9//3//f/5//3/8f/9//X//f/9//n//f/9//3//f/9//3//f/9//3//f/5//3//f/9//3//f/9//3/+f/9//3//f/9//X//f/x//3/+f/9//3//f/9//3//f/9//3/+f/9//3/9f/9//n//f/9//3/9f/9//n//f/9//X//f/1//3//f/9//3//f/9//n//f/1//3/9f/9//X//f/t//3/8f/9//3/+f/9//3//f/9//n//f/5//3//f/7/A4AAgAOAAIACgACAAIAAgAKAAIAEgACAAYAAgACAAIADgACABIAAgACAAoAAgACAA4AAgASAAIABgAGAAIAFgACABYAAgASAAIACgACAAYAAgAGAAIADgACABIAAgAKAAIAAgAGAAIABgACAA4AAgAWAAIACgACAAIADgACAAIABgACA";rounded_saw_table=PCMData.decode(atob(rounded_saw_table)).data;hihat="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";hihat=PCMData.decode(atob(hihat)).data;clap="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";clap=PCMData.decode(atob(clap)).data;kick="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";kick=PCMData.decode(atob(kick)).data;function sin(a){return sin_table[Math.floor(a%128)]}function saw(a){return saw_table[Math.floor(a%128)]}function rounded_saw(a){return rounded_saw_table[Math.floor(a*rounded_saw_table.length%rounded_saw_table.length)]}function instruments(a){switch(a){case 0:return function(a){for(var c=this.out=0;c<this.num_active_notes;c++)if(!(0==play_forward_trigger%22&&(this.amplitude=this.envelope(c),!this.amplitude))){var d=note2freq[this.note_pool[c].note_number]*a*RATE_RECIPROCAL;this.out+=this.amplitude*A*this.note_pool[c].velocity*(rounded_saw(d)+0.5*sin(128*d)+0.25*sin(32*d))}return 1.25*this.out};case 1:return function(a){for(var c=this.out=0;c<this.num_active_notes;c++)if(!(0==play_forward_trigger%22&&(this.amplitude=this.envelope(c),!this.amplitude)))this.period=note2freq[this.note_pool[c].note_number]*a*RATE_RECIPROCAL,this.out+=this.amplitude*A*this.note_pool[c].velocity*((0.5>this.period%1?1:-1)+(0.5>0.5*this.period%1?1:-1));return 0.7*this.out};case 2:return function(a){for(var c=this.out=0;c<this.num_active_notes;c++)if(!(0==play_forward_trigger%22&&(this.amplitude=this.envelope(c),!this.amplitude)))this.period=note2freq[this.note_pool[c].note_number]*(a*RATE_RECIPROCAL+Math.max(0,Math.min(0.0015,1E-6*(a-        this.note_pool[c].tStarted)-0.018))*sin(800*a*RATE_RECIPROCAL)),this.out+=this.amplitude*A*this.note_pool[c].velocity*(rounded_saw(this.period)+0.2*(0.5>2*this.period%1?1:-1)+0.05*(Math.random()-0.5));return this.out};case 3:return function(){for(var a=this.out=0;a<this.num_active_notes;a++)if(!(0==play_forward_trigger%22&&(this.amplitude=this.envelope(a),!this.amplitude)))this.out+=2*(this.amplitude*(Math.random()-0.5))*A*this.note_pool[a].velocity;return 1.4*this.out};case 9:return function(a){for(var c=this.out=0;c<this.num_active_notes;c++){var d=a-this.note_pool[c].tStarted;if(d>=hihat.length)this._note_off(c);else{var e=0;switch(this.note_pool[c].note_number){case 36:e=kick[d];break;case 38:e=clap[d];break;case 42:e=hihat[d]}this.out+=e*A3*this.note_pool[c].velocity}}return this.out};default:return function(){return 0}}}function getAdsr(a){switch(a){case 0:return{a:100,d:1E3,s:0.6,r:200};case 1:return{a:100,d:1E4,s:0.4,r:500};case 2:return{a:100,d:1E4,s:0.6,r:500};case 3:return{a:1E3,d:1E4,s:0.6,r:300};case 4:return{a:300,d:1E4,s:0.6,r:500};case 10:return{a:10,d:10,s:1,r:10};default:return{a:100,d:100,s:1,r:100}}};</script><style>html,body{overflow:hidden;background:#000;padding:0;margin:0;border:0;outline:0;}canvas{background:#000;}@font-face{font-family: BebasNeue;src: url(BebasNeue.otf);font-weight:400;}</style></head><body onload="bootstrap()"></body></html>